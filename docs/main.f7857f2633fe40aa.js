"use strict";(self.webpackChunkcook=self.webpackChunkcook||[]).push([[179],{2011:(ht,Re,O)=>{O.d(Re,{hO:()=>Ue,xv:()=>he,Dh:()=>ye,GT:()=>be,cc:()=>Ie,on:()=>$,pX:()=>oe});var c=O(5e3),Y=O(127),L=O(880);ht=O.hmd(ht);const se=["ngOnDestroy"],oe=(ke,nt,Qe,Oe={})=>new Proxy(ke,{get:(we,Ce)=>Qe.runOutsideAngular(()=>{var qe;if(ke[Ce])return(null===(qe=null==Oe?void 0:Oe.spy)||void 0===qe?void 0:qe.get)&&Oe.spy.get(Ce,ke[Ce]),ke[Ce];if(se.indexOf(Ce)>-1)return()=>{};const je=nt.toPromise().then(ie=>{const Q=ie&&ie[Ce];return"function"==typeof Q?Q.bind(ie):Q&&Q.then?Q.then(ae=>Qe.run(()=>ae)):Qe.run(()=>Q)});return new Proxy(()=>{},{get:(ie,Q)=>je[Q],apply:(ie,Q,ae)=>je.then(_e=>{var ue;const Le=_e&&_e(...ae);return(null===(ue=null==Oe?void 0:Oe.spy)||void 0===ue?void 0:ue.apply)&&Oe.spy.apply(Ce,ae,Le),Le})})})}),be=(ke,nt)=>{nt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Oe=>{Object.defineProperty(ke.prototype,Oe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Oe))})})};class re{constructor(nt){return nt}}const ye=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function $(ke,nt,Qe){const we="object"==typeof Qe&&Qe||{};we.name=we.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const qe=Y.Z.apps.filter(je=>je&&je.name===we.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(ke,we));try{JSON.stringify(ke)!==JSON.stringify(qe.options)&&G("error",`${qe.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new re(qe)}const G=(ke,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ke](...nt)},te={provide:re,useFactory:$,deps:[ye,c.R0b,[new c.FiY,he]]};let Ue=(()=>{class ke{constructor(Qe){Y.Z.registerVersion("angularfire",L.q4.full,"core"),Y.Z.registerVersion("angularfire",L.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Qe.toString())}static initializeApp(Qe,Oe){return{ngModule:ke,providers:[{provide:ye,useValue:Qe},{provide:he,useValue:Oe}]}}}return ke.\u0275fac=function(Qe){return new(Qe||ke)(c.LFG(c.Lbi))},ke.\u0275mod=c.oAB({type:ke}),ke.\u0275inj=c.cJS({providers:[te]}),ke})();function Ie(ke,nt,Qe,Oe,we){const[,Ce,qe]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ke)||[];if(Ce)return function Pe(ke,nt){try{return ke.toString()===nt.toString()}catch(Qe){return ke===nt}}(we,qe)||(me("error",`${nt} was already initialized on the ${Qe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:we,was:qe})),Ce;{const je=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ke,je,we]),je}}const He=!!ht.hot,me=(ke,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ke](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ht,Re,O)=>{O.d(Re,{q4:()=>pc,iC:()=>_o,HU:()=>hh,vb:()=>ja,JM:()=>gc});var c=O(5e3),Y=O(5867),L=O(5861),se=O(9681),oe=O(2090),be=O(4859),re=O(1877);O(2833);const he="@firebase/remote-config",$="0.3.7",Ie=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kt{constructor(R,q,le,Ve){this.client=R,this.storage=q,this.storageCache=le,this.logger=Ve}isCachedDataFresh(R,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-q,Ve=le<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Ve}.`),Ve}fetch(R){var q=this;return(0,L.Z)(function*(){const[le,Ve]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Ve&&q.isCachedDataFresh(R.cacheMaxAgeMillis,le))return Ve;R.eTag=Ve&&Ve.eTag;const Ke=yield q.client.fetch(R),wt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&wt.push(q.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(wt),Ke})()}}function mn(N=navigator){return N.languages&&N.languages[0]||N.language}class rt{constructor(R,q,le,Ve,Ke,wt){this.firebaseInstallations=R,this.sdkVersion=q,this.namespace=le,this.projectId=Ve,this.apiKey=Ke,this.appId=wt}fetch(R){var q=this;return(0,L.Z)(function*(){const[le,Ve]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,Cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Ln={sdk_version:q.sdkVersion,app_instance_id:le,app_instance_id_token:Ve,app_id:q.appId,language_code:mn()},Xe={method:"POST",headers:Cn,body:JSON.stringify(Ln)},vn=fetch(wt,Xe),Ht=new Promise((Me,$t)=>{R.signal.addEventListener(()=>{const Ga=new Error("The operation was aborted.");Ga.name="AbortError",$t(Ga)})});let Is;try{yield Promise.race([vn,Ht]),Is=yield vn}catch(Me){let $t="fetch-client-network";throw"AbortError"===Me.name&&($t="fetch-timeout"),Ie.create($t,{originalErrorMessage:Me.message})}let Hi=Is.status;const Qo=Is.headers.get("ETag")||void 0;let Jo,Xo;if(200===Is.status){let Me;try{Me=yield Is.json()}catch($t){throw Ie.create("fetch-client-parse",{originalErrorMessage:$t.message})}Jo=Me.entries,Xo=Me.state}if("INSTANCE_STATE_UNSPECIFIED"===Xo?Hi=500:"NO_CHANGE"===Xo?Hi=304:("NO_TEMPLATE"===Xo||"EMPTY_CONFIG"===Xo)&&(Jo={}),304!==Hi&&200!==Hi)throw Ie.create("fetch-status",{httpStatus:Hi});return{status:Hi,eTag:Qo,config:Jo}})()}}class _n{constructor(R,q){this.client=R,this.storage=q}fetch(R){var q=this;return(0,L.Z)(function*(){const le=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(R,le)})()}attemptFetch(R,{throttleEndTimeMillis:q,backoffCount:le}){var Ve=this;return(0,L.Z)(function*(){yield function _t(N,R){return new Promise((q,le)=>{const Ve=Math.max(R-Date.now(),0),Ke=setTimeout(q,Ve);N.addEventListener(()=>{clearTimeout(Ke),le(Ie.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,q);try{const Ke=yield Ve.client.fetch(R);return yield Ve.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function yn(N){if(!(N instanceof oe.ZR&&N.customData))return!1;const R=Number(N.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ke))throw Ke;const wt={throttleEndTimeMillis:Date.now()+(0,oe.$s)(le),backoffCount:le+1};return yield Ve.storage.setThrottleMetadata(wt),Ve.attemptFetch(R,wt)}})()}}class Yn{constructor(R,q,le,Ve,Ke){this.app=R,this._client=q,this._storageCache=le,this._storage=Ve,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wt(N,R){const q=N.target.error||void 0;return Ie.create(R,{originalErrorMessage:q&&q.message})}const Mt="app_namespace_store";class Tn{constructor(R,q,le,Ve=function tr(){return new Promise((N,R)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=le=>{R(Wt(le,"storage-open"))},q.onsuccess=le=>{N(le.target.result)},q.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(q){R(Ie.create("storage-open",{originalErrorMessage:q}))}})}()){this.appId=R,this.appName=q,this.namespace=le,this.openDbPromise=Ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var q=this;return(0,L.Z)(function*(){const le=yield q.openDbPromise;return new Promise((Ve,Ke)=>{const Cn=le.transaction([Mt],"readonly").objectStore(Mt),Ln=q.createCompositeKey(R);try{const Xe=Cn.get(Ln);Xe.onerror=vn=>{Ke(Wt(vn,"storage-get"))},Xe.onsuccess=vn=>{const Ht=vn.target.result;Ve(Ht?Ht.value:void 0)}}catch(Xe){Ke(Ie.create("storage-get",{originalErrorMessage:Xe&&Xe.message}))}})})()}set(R,q){var le=this;return(0,L.Z)(function*(){const Ve=yield le.openDbPromise;return new Promise((Ke,wt)=>{const Ln=Ve.transaction([Mt],"readwrite").objectStore(Mt),Xe=le.createCompositeKey(R);try{const vn=Ln.put({compositeKey:Xe,value:q});vn.onerror=Ht=>{wt(Wt(Ht,"storage-set"))},vn.onsuccess=()=>{Ke()}}catch(vn){wt(Ie.create("storage-set",{originalErrorMessage:vn&&vn.message}))}})})()}delete(R){var q=this;return(0,L.Z)(function*(){const le=yield q.openDbPromise;return new Promise((Ve,Ke)=>{const Cn=le.transaction([Mt],"readwrite").objectStore(Mt),Ln=q.createCompositeKey(R);try{const Xe=Cn.delete(Ln);Xe.onerror=vn=>{Ke(Wt(vn,"storage-delete"))},Xe.onsuccess=()=>{Ve()}}catch(Xe){Ke(Ie.create("storage-delete",{originalErrorMessage:Xe&&Xe.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class ur{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,L.Z)(function*(){const q=R.storage.getLastFetchStatus(),le=R.storage.getLastSuccessfulFetchTimestampMillis(),Ve=R.storage.getActiveConfig(),Ke=yield q;Ke&&(R.lastFetchStatus=Ke);const wt=yield le;wt&&(R.lastSuccessfulFetchTimestampMillis=wt);const Cn=yield Ve;Cn&&(R.activeConfig=Cn)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function gt(){return On.apply(this,arguments)}function On(){return(On=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(N){return!1}})).apply(this,arguments)}!function vr(){(0,se._registerComponent)(new be.wA("remote-config",function N(R,{instanceIdentifier:q}){const le=R.getProvider("app").getImmediate(),Ve=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ie.create("registration-window");if(!(0,oe.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:Ke,apiKey:wt,appId:Cn}=le.options;if(!Ke)throw Ie.create("registration-project-id");if(!wt)throw Ie.create("registration-api-key");if(!Cn)throw Ie.create("registration-app-id");const Ln=new Tn(Cn,le.name,q=q||"firebase"),Xe=new ur(Ln),vn=new re.Yd(he);vn.logLevel=re.in.ERROR;const Ht=new rt(Ve,se.SDK_VERSION,q,Ke,wt,Cn),Is=new _n(Ht,Ln),Hi=new Kt(Is,Ln,Xe,vn),Qo=new Yn(le,Hi,Xe,Ln,vn);return function qe(N){const R=(0,oe.m9)(N);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Qo),Qo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(he,$),(0,se.registerVersion)(he,$,"esm2017")}();const Nn="/firebase-messaging-sw.js",kn="/firebase-cloud-messaging-push-scope",dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cn="google.c.a.c_id",Qn="google.c.a.c_l",Er="google.c.a.ts",es="google.c.a.e";var it=(()=>{return(N=it||(it={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",it;var N})();function at(N){const R=new Uint8Array(N);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nr(N){const q=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(q),Ve=new Uint8Array(le.length);for(let Ke=0;Ke<le.length;++Ke)Ve[Ke]=le.charCodeAt(Ke);return Ve}const Rr="fcm_token_details_db",jr="fcm_token_object_Store";function jn(N){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,L.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(Rr))return null;let R=null;return(yield(0,oe.X3)(Rr,5,function(){var le=(0,L.Z)(function*(Ve,Ke,wt,Cn){var Ln;if(Ke<2||!Ve.objectStoreNames.contains(jr))return;const Xe=Cn.objectStore(jr),vn=yield Xe.index("fcmSenderId").get(N);if(yield Xe.clear(),vn)if(2===Ke){const Ht=vn;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;R={token:Ht.fcmToken,createTime:null!==(Ln=Ht.createTime)&&void 0!==Ln?Ln:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:at(Ht.vapidKey)}}}else if(3===Ke){const Ht=vn;R={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:at(Ht.auth),p256dh:at(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:at(Ht.vapidKey)}}}else if(4===Ke){const Ht=vn;R={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:at(Ht.auth),p256dh:at(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:at(Ht.vapidKey)}}}});return function(Ve,Ke,wt,Cn){return le.apply(this,arguments)}}())).close(),yield(0,oe.Lj)(Rr),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),yt(R)?R:null}),Pn.apply(this,arguments)}function yt(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:R}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const We="firebase-messaging-store";let xe=null;function et(){return xe||(xe=(0,oe.X3)("firebase-messaging-database",1,(N,R)=>{0===R&&N.createObjectStore(We)})),xe}function J(N){return pe.apply(this,arguments)}function pe(){return(pe=(0,L.Z)(function*(N){const R=X(N),le=yield(yield et()).transaction(We).objectStore(We).get(R);if(le)return le;{const Ve=yield jn(N.appConfig.senderId);if(Ve)return yield De(N,Ve),Ve}})).apply(this,arguments)}function De(N,R){return F.apply(this,arguments)}function F(){return(F=(0,L.Z)(function*(N,R){const q=X(N),Ve=(yield et()).transaction(We,"readwrite");return yield Ve.objectStore(We).put(R,q),yield Ve.complete,R})).apply(this,arguments)}function k(N){return U.apply(this,arguments)}function U(){return(U=(0,L.Z)(function*(N){const R=X(N),le=(yield et()).transaction(We,"readwrite");yield le.objectStore(We).delete(R),yield le.complete})).apply(this,arguments)}function X({appConfig:N}){return N.appId}const Se=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function st(N,R){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,L.Z)(function*(N,R){const q=yield Fn(N),le=Vi(R),Ve={method:"POST",headers:q,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(dn(N.appConfig),Ve)).json()}catch(wt){throw Se.create("token-subscribe-failed",{errorInfo:wt})}if(Ke.error)throw Se.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Se.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function Dn(N,R){return jt.apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*(N,R){const q=yield Fn(N),le=Vi(R.subscriptionOptions),Ve={method:"PATCH",headers:q,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(`${dn(N.appConfig)}/${R.token}`,Ve)).json()}catch(wt){throw Se.create("token-update-failed",{errorInfo:wt})}if(Ke.error)throw Se.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Se.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function nn(N,R){return kt.apply(this,arguments)}function kt(){return(kt=(0,L.Z)(function*(N,R){const le={method:"DELETE",headers:yield Fn(N)};try{const Ke=yield(yield fetch(`${dn(N.appConfig)}/${R}`,le)).json();if(Ke.error)throw Se.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(Ve){throw Se.create("token-unsubscribe-failed",{errorInfo:Ve})}})).apply(this,arguments)}function dn({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function Fn(N){return ts.apply(this,arguments)}function ts(){return(ts=(0,L.Z)(function*({appConfig:N,installations:R}){const q=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Vi({p256dh:N,auth:R,endpoint:q,vapidKey:le}){const Ve={web:{endpoint:q,auth:R,p256dh:N}};return le!==dr&&(Ve.web.applicationPubKey=le),Ve}const ns=6048e5;function Si(N){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,L.Z)(function*(N){const R=yield hn(N.swRegistration,N.vapidKey),q={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:R.endpoint,auth:at(R.getKey("auth")),p256dh:at(R.getKey("p256dh"))},le=yield J(N.firebaseDependencies);if(le){if(An(le.subscriptionOptions,q))return Date.now()>=le.createTime+ns?V(N,{token:le.token,createTime:Date.now(),subscriptionOptions:q}):le.token;try{yield nn(N.firebaseDependencies,le.token)}catch(Ve){console.warn(Ve)}return Te(N.firebaseDependencies,q)}return Te(N.firebaseDependencies,q)})).apply(this,arguments)}function Ps(N){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(N){const R=yield J(N.firebaseDependencies);R&&(yield nn(N.firebaseDependencies,R.token),yield k(N.firebaseDependencies));const q=yield N.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()})).apply(this,arguments)}function V(N,R){return ne.apply(this,arguments)}function ne(){return(ne=(0,L.Z)(function*(N,R){try{const q=yield Dn(N.firebaseDependencies,R),le=Object.assign(Object.assign({},R),{token:q,createTime:Date.now()});return yield De(N.firebaseDependencies,le),q}catch(q){throw yield Ps(N),q}})).apply(this,arguments)}function Te(N,R){return tt.apply(this,arguments)}function tt(){return(tt=(0,L.Z)(function*(N,R){const le={token:yield st(N,R),createTime:Date.now(),subscriptionOptions:R};return yield De(N,le),le.token})).apply(this,arguments)}function hn(N,R){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(N,R){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nr(R)})})).apply(this,arguments)}function An(N,R){return R.vapidKey===N.vapidKey&&R.endpoint===N.endpoint&&R.auth===N.auth&&R.p256dh===N.p256dh}function Ot(N){const R={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function Or(N,R){if(!R.notification)return;N.notification={};const q=R.notification.title;q&&(N.notification.title=q);const le=R.notification.body;le&&(N.notification.body=le);const Ve=R.notification.image;Ve&&(N.notification.image=Ve)}(R,N),function $n(N,R){!R.data||(N.data=R.data)}(R,N),function Nt(N,R){if(!R.fcmOptions)return;N.fcmOptions={};const q=R.fcmOptions.link;q&&(N.fcmOptions.link=q);const le=R.fcmOptions.analytics_label;le&&(N.fcmOptions.analyticsLabel=le)}(R,N),R}function ho(N){return"object"==typeof N&&!!N&&cn in N}function ws(N,R){const q=[];for(let le=0;le<N.length;le++)q.push(N.charAt(le)),le<R.length&&q.push(R.charAt(le));return q.join("")}function Cs(N){return Se.create("missing-app-config-values",{valueName:N})}ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jn{constructor(R,q,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function qo(N){if(!N||!N.options)throw Cs("App Configuration Object");if(!N.name)throw Cs("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:q}=N;for(const le of R)if(!q[le])throw Cs(le);return{appName:N.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Ve,installations:q,analyticsProvider:le}}_delete(){return Promise.resolve()}}function Bi(N){return rs.apply(this,arguments)}function rs(){return(rs=(0,L.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(Nn,{scope:kn}),N.swRegistration.update().catch(()=>{})}catch(R){throw Se.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function Hr(N,R){return sn.apply(this,arguments)}function sn(){return(sn=(0,L.Z)(function*(N,R){if(!R&&!N.swRegistration&&(yield Bi(N)),R||!N.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Se.create("invalid-sw-registration");N.swRegistration=R}})).apply(this,arguments)}function oc(N,R){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,L.Z)(function*(N,R){R?N.vapidKey=R:N.vapidKey||(N.vapidKey=dr)})).apply(this,arguments)}function Cr(){return(Cr=(0,L.Z)(function*(N,R){if(!navigator)throw Se.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Se.create("permission-blocked");return yield oc(N,null==R?void 0:R.vapidKey),yield Hr(N,null==R?void 0:R.serviceWorkerRegistration),Si(N)})).apply(this,arguments)}function Ll(N,R,q){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,L.Z)(function*(N,R,q){const le=zo(R);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:q[cn],message_name:q[Qn],message_time:q[Er],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zo(N){switch(N){case it.NOTIFICATION_CLICKED:return"notification_open";case it.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vl(){return(Vl=(0,L.Z)(function*(N,R){const q=R.data;if(!q.isFirebaseMessaging)return;N.onMessageHandler&&q.messageType===it.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Ot(q)):N.onMessageHandler.next(Ot(q)));const le=q.data;ho(le)&&"1"===le[es]&&(yield Ll(N,q.messageType,le))})).apply(this,arguments)}const Bl="@firebase/messaging",Xn=N=>{const R=new Jn(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function ti(N,R){return Vl.apply(this,arguments)}(R,q)),R},ac=N=>{const R=N.getProvider("messaging").getImmediate();return{getToken:le=>function $r(N,R){return Cr.apply(this,arguments)}(R,le)}};function Ui(){return lc.apply(this,arguments)}function lc(){return(lc=(0,L.Z)(function*(){try{yield(0,oe.eu)()}catch(N){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kp(){(0,se._registerComponent)(new be.wA("messaging",Xn,"PUBLIC")),(0,se._registerComponent)(new be.wA("messaging-internal",ac,"PRIVATE")),(0,se.registerVersion)(Bl,"0.9.12"),(0,se.registerVersion)(Bl,"0.9.12","esm2017")}();var fo=O(6148),Yp=O(4408),Vs=O(7565);const Ul=new class Iy extends Vs.v{}(class fc extends Yp.o{constructor(R,q){super(R,q),this.scheduler=R,this.work=q}schedule(R,q=0){return q>0?super.schedule(R,q):(this.delay=q,this.state=R,this.scheduler.flush(this),this)}execute(R,q){return q>0||this.closed?super.execute(R,q):this._execute(R,q)}requestAsyncId(R,q,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(R,q,le):R.flush(this)}});var gi=O(4986),po=O(8505),mo=O(9468),Zo=O(5363);const pc=new c.GfV("7.3.0"),mc="__angularfire_symbol__analyticsIsSupportedValue",ji="__angularfire_symbol__analyticsIsSupported",Ko="__angularfire_symbol__remoteConfigIsSupportedValue",go="__angularfire_symbol__remoteConfigIsSupported",yo="__angularfire_symbol__messagingIsSupportedValue",Ua="__angularfire_symbol__messagingIsSupported";function gc(N,R,q){if(R){if(1===R.length)return R[0];const Ke=R.filter(wt=>wt.app===q);if(1===Ke.length)return Ke[0]}return q.container.getProvider(N).getImmediate({optional:!0})}globalThis[ji]||(globalThis[ji]=(0,fo.Gb)().then(N=>globalThis[mc]=N).catch(()=>globalThis[mc]=!1)),globalThis[Ua]||(globalThis[Ua]=Ui().then(N=>globalThis[yo]=N).catch(()=>globalThis[yo]=!1)),globalThis[go]||(globalThis[go]=gt().then(N=>globalThis[Ko]=N).catch(()=>globalThis[Ko]=!1));const ja=(N,R)=>{const q=R?[R]:(0,Y.C6)(),le=[];return q.forEach(Ve=>{Ve.container.getProvider(N).instances.forEach(wt=>{le.includes(wt)||le.push(wt)})}),le};function is(){}class Ha{constructor(R,q=Ul){this.zone=R,this.delegate=q}now(){return this.delegate.now()}schedule(R,q,le){const Ve=this.zone;return this.delegate.schedule(function(wt){Ve.runGuarded(()=>{R.apply(this,[wt])})},q,le)}}class jl{constructor(R){this.zone=R,this.task=null}call(R,q){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),q.pipe((0,po.b)({next:le,complete:le,error:le})).subscribe(R).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hh=(()=>{class N{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Ha(Zone.current)),this.insideAngular=q.run(()=>new Ha(Zone.current,gi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(q){return new(q||N)(c.LFG(c.R0b))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function on(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function _o(N){return on(),function Yo(N){return function(q){return(q=q.lift(new jl(N.ngZone))).pipe((0,mo.R)(N.outsideAngular),(0,Zo.Q)(N.insideAngular))}}(on())(N)}},2090:(ht,Re,O)=>{O.d(Re,{BH:()=>Ie,LL:()=>It,ZR:()=>ce,zI:()=>_e,US:()=>re,tV:()=>$,L:()=>he,$s:()=>jr,r3:()=>Wt,Sg:()=>Pe,ne:()=>gt,vZ:()=>tr,ZB:()=>te,Lj:()=>pe,pd:()=>br,m9:()=>yt,z$:()=>He,jU:()=>nt,ru:()=>Qe,d:()=>we,xb:()=>xn,w1:()=>Ce,hl:()=>Q,uI:()=>me,UG:()=>ke,b$:()=>Oe,G6:()=>ie,Mn:()=>qe,X3:()=>J,xO:()=>ur,zd:()=>vr,eu:()=>ae});var c=O(5861);const oe=function(F){const k=[];let U=0;for(let X=0;X<F.length;X++){let z=F.charCodeAt(X);z<128?k[U++]=z:z<2048?(k[U++]=z>>6|192,k[U++]=63&z|128):55296==(64512&z)&&X+1<F.length&&56320==(64512&F.charCodeAt(X+1))?(z=65536+((1023&z)<<10)+(1023&F.charCodeAt(++X)),k[U++]=z>>18|240,k[U++]=z>>12&63|128,k[U++]=z>>6&63|128,k[U++]=63&z|128):(k[U++]=z>>12|224,k[U++]=z>>6&63|128,k[U++]=63&z|128)}return k},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,k){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let z=0;z<F.length;z+=3){const Se=F[z],st=z+1<F.length,Ut=st?F[z+1]:0,Dn=z+2<F.length,jt=Dn?F[z+2]:0;let dn=(15&Ut)<<2|jt>>6,Fn=63&jt;Dn||(Fn=64,st||(dn=64)),X.push(U[Se>>2],U[(3&Se)<<4|Ut>>4],U[dn],U[Fn])}return X.join("")},encodeString(F,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(F):this.encodeByteArray(oe(F),k)},decodeString(F,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(F):function(F){const k=[];let U=0,X=0;for(;U<F.length;){const z=F[U++];if(z<128)k[X++]=String.fromCharCode(z);else if(z>191&&z<224){const Se=F[U++];k[X++]=String.fromCharCode((31&z)<<6|63&Se)}else if(z>239&&z<365){const Dn=((7&z)<<18|(63&F[U++])<<12|(63&F[U++])<<6|63&F[U++])-65536;k[X++]=String.fromCharCode(55296+(Dn>>10)),k[X++]=String.fromCharCode(56320+(1023&Dn))}else{const Se=F[U++],st=F[U++];k[X++]=String.fromCharCode((15&z)<<12|(63&Se)<<6|63&st)}}return k.join("")}(this.decodeStringToByteArray(F,k))},decodeStringToByteArray(F,k){this.init_();const U=k?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let z=0;z<F.length;){const Se=U[F.charAt(z++)],Ut=z<F.length?U[F.charAt(z)]:0;++z;const jt=z<F.length?U[F.charAt(z)]:64;++z;const kt=z<F.length?U[F.charAt(z)]:64;if(++z,null==Se||null==Ut||null==jt||null==kt)throw Error();X.push(Se<<2|Ut>>4),64!==jt&&(X.push(Ut<<4&240|jt>>2),64!==kt&&X.push(jt<<6&192|kt))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},he=function(F){return function(F){const k=oe(F);return re.encodeByteArray(k,!0)}(F).replace(/\./g,"")},$=function(F){try{return re.decodeString(F,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function te(F,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return k}for(const U in k)!k.hasOwnProperty(U)||!Ue(U)||(F[U]=te(F[U],k[U]));return F}function Ue(F){return"__proto__"!==F}class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,U)=>{this.resolve=k,this.reject=U})}wrapCallback(k){return(U,X)=>{U?this.reject(U):this.resolve(X),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(U):k(U,X))}}}function Pe(F,k){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=k||"demo-project",z=F.iat||0,Se=F.sub||F.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const st=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:z,exp:z+3600,auth_time:z,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},F);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(st)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Qe(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return He().indexOf("Electron/")>=0}function Ce(){const F=He();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function qe(){return He().indexOf("MSAppHost/")>=0}function ie(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function ae(){return new Promise((F,k)=>{try{let U=!0;const X="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(X);z.onsuccess=()=>{z.result.close(),U||self.indexedDB.deleteDatabase(X),F(!0)},z.onupgradeneeded=()=>{U=!1},z.onerror=()=>{var Se;k((null===(Se=z.error)||void 0===Se?void 0:Se.message)||"")}}catch(U){k(U)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(k,U,X){super(U),this.code=k,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(k,U,X){this.service=k,this.serviceName=U,this.errors=X}create(k,...U){const X=U[0]||{},z=`${this.service}/${k}`,Se=this.errors[k],st=Se?function Kt(F,k){return F.replace(mn,(U,X)=>{const z=k[X];return null!=z?String(z):`<${X}?>`})}(Se,X):"Error";return new ce(z,`${this.serviceName}: ${st} (${z}).`,X)}}const mn=/\{\$([^}]+)}/g;function Wt(F,k){return Object.prototype.hasOwnProperty.call(F,k)}function xn(F){for(const k in F)if(Object.prototype.hasOwnProperty.call(F,k))return!1;return!0}function tr(F,k){if(F===k)return!0;const U=Object.keys(F),X=Object.keys(k);for(const z of U){if(!X.includes(z))return!1;const Se=F[z],st=k[z];if(Tn(Se)&&Tn(st)){if(!tr(Se,st))return!1}else if(Se!==st)return!1}for(const z of X)if(!U.includes(z))return!1;return!0}function Tn(F){return null!==F&&"object"==typeof F}function ur(F){const k=[];for(const[U,X]of Object.entries(F))Array.isArray(X)?X.forEach(z=>{k.push(encodeURIComponent(U)+"="+encodeURIComponent(z))}):k.push(encodeURIComponent(U)+"="+encodeURIComponent(X));return k.length?"&"+k.join("&"):""}function vr(F){const k={};return F.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[z,Se]=X.split("=");k[decodeURIComponent(z)]=decodeURIComponent(Se)}}),k}function br(F){const k=F.indexOf("?");if(!k)return"";const U=F.indexOf("#",k);return F.substring(k,U>0?U:void 0)}function gt(F,k){const U=new On(F,k);return U.subscribe.bind(U)}class On{constructor(k,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{k(this)}).catch(X=>{this.error(X)})}next(k){this.forEachObserver(U=>{U.next(k)})}error(k){this.forEachObserver(U=>{U.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,U,X){let z;if(void 0===k&&void 0===U&&void 0===X)throw new Error("Missing Observer.");z=function kn(F,k){if("object"!=typeof F||null===F)return!1;for(const U of k)if(U in F&&"function"==typeof F[U])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:U,complete:X},void 0===z.next&&(z.next=dr),void 0===z.error&&(z.error=dr),void 0===z.complete&&(z.complete=dr);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(st){}}),this.observers.push(z),Se}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,k)}sendOne(k,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{U(this.observers[k])}catch(X){"undefined"!=typeof console&&console.error&&console.error(X)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dr(){}function jr(F,k=1e3,U=2){const X=k*Math.pow(U,F),z=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+z)}function yt(F){return F&&F._delegate?F._delegate:F}function rr(F,k){return new Promise((U,X)=>{F.onsuccess=z=>{U(z.target.result)},F.onerror=z=>{var Se;X(`${k}: ${null===(Se=z.target.error)||void 0===Se?void 0:Se.message}`)}})}class zt{constructor(k){this._db=k,this.objectStoreNames=this._db.objectStoreNames}transaction(k,U="readonly"){return new We(this._db.transaction.call(this._db,k,U))}createObjectStore(k,U){return new xe(this._db.createObjectStore(k,U))}close(){this._db.close()}}class We{constructor(k){this._transaction=k,this.complete=new Promise((U,X)=>{this._transaction.oncomplete=function(){U()},this._transaction.onerror=()=>{X(this._transaction.error)},this._transaction.onabort=()=>{X(this._transaction.error)}})}objectStore(k){return new xe(this._transaction.objectStore(k))}}class xe{constructor(k){this._store=k}index(k){return new et(this._store.index(k))}createIndex(k,U,X){return new et(this._store.createIndex(k,U,X))}get(k){return rr(this._store.get(k),"Error reading from IndexedDB")}put(k,U){return rr(this._store.put(k,U),"Error writing to IndexedDB")}delete(k){return rr(this._store.delete(k),"Error deleting from IndexedDB")}clear(){return rr(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(k){this._index=k}get(k){return rr(this._index.get(k),"Error reading from IndexedDB")}}function J(F,k,U){return new Promise((X,z)=>{try{const Se=indexedDB.open(F,k);Se.onsuccess=st=>{X(new zt(st.target.result))},Se.onerror=st=>{var Ut;z(`Error opening indexedDB: ${null===(Ut=st.target.error)||void 0===Ut?void 0:Ut.message}`)},Se.onupgradeneeded=st=>{U(new zt(Se.result),st.oldVersion,st.newVersion,new We(Se.transaction))}}catch(Se){z(`Error opening indexedDB: ${Se.message}`)}})}function pe(F){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(F){return new Promise((k,U)=>{try{const X=indexedDB.deleteDatabase(F);X.onsuccess=()=>{k()},X.onerror=z=>{var Se;U(`Error deleting indexedDB database "${F}": ${null===(Se=z.target.error)||void 0===Se?void 0:Se.message}`)}}catch(X){U(`Error deleting indexedDB database "${F}": ${X.message}`)}})})).apply(this,arguments)}},5229:(ht,Re,O)=>{var c=O(5e3);let Y=null;function L(){return Y}const re=new c.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let G=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new G((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ke(n){const e=(0,c.LFG)(re).location;return new Qe((0,c.LFG)(ye),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new c.OlP("appBaseHref");let Qe=(()=>{class n extends me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(je(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ie,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(ye))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new we((0,c.LFG)(me),(0,c.LFG)(ye))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}let ws=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Cs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,d),Bi(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Bi(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bi(n,e){n.context.$implicit=e.item}let Hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function oc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Fs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let $r=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Cr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Fs(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36($r,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ko="browser";function Gr(n){return"server"===n}let ja=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new is((0,c.LFG)(re),window)}),n})();class is{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ha(this.window.history)||Ha(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ha(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yi extends class $a extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){Y||(Y=n)}(new yi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fh(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function Yo(n){_o=_o||document.createElement("a"),_o.setAttribute("href",n);const e=_o.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ho(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let _o,wn=null;const Nr=new c.OlP("TRANSITION_ID"),N=[{provide:c.ip1,useFactory:function Hl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Nr,re,c.zs3],multi:!0}];class R{static init(){(0,c.VLi)(new R)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const p=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let q=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const le=new c.OlP("EventManagerPlugins");let Ve=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ke{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends wt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ln),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ln))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ln(n){L().remove(n)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vn=/%COMP%/g;function Me(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Me(n,i,t):(i=i.replace(vn,n),t.push(i))}return t}function $t(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ph(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new mh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Me(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ve),c.LFG(Cn),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Xe[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xe[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$t(r)):this.eventManager.addEventListener(e,t,$t(r))}}class ph extends qa{constructor(e,t,r,i){super(e),this.component=r;const l=Me(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Jo(n){return"_ngcontent-%COMP%".replace(vn,n)}(i+"-"+r.id),this.hostAttr=function Xo(n){return"_nghost-%COMP%".replace(vn,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class mh extends qa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Me(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Jp=(()=>{class n extends Ke{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xp=["alt","control","meta","shift"],za={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ss={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let em=(()=>{class n extends Ke{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(Xp.forEach(y=>{const w=r.indexOf(y);w>-1&&(r.splice(w,1),d+=y+".")}),d+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=i,p.fullKey=d,p}static getEventFullKey(t){let r="",i=function vo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qr.hasOwnProperty(e)&&(e=qr[e]))}return za[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Xp.forEach(l=>{l!=i&&ss[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Dy=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ko},{provide:c.g9A,useValue:function Us(){yi.makeCurrent(),R.init()},multi:!0},{provide:re,useFactory:function tm(){return(0,c.RDi)(document),document},deps:[]}]),Gl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function gh(){return new c.qLn},deps:[]},{provide:le,useClass:Jp,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:le,useClass:em,multi:!0,deps:[re]},{provide:Gn,useClass:Gn,deps:[Ve,Cn,c.AFp]},{provide:c.FYo,useExisting:Gn},{provide:wt,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ve,useClass:Ve,deps:[le,c.R0b]},{provide:class on{},useClass:q,deps:[]}];let _c=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Nr,useExisting:c.AFp},N]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Gl,imports:[ji,c.hGG]}),n})();"undefined"!=typeof window&&window;var ir=O(8996),wo=O(3269);function vt(...n){const e=(0,wo.yG)(n);return(0,ir.D)(n,e)}var Sn=O(7579);class _i extends Sn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var ri=O(8306);const{isArray:Ka}=Array,{getPrototypeOf:om,prototype:Rn,keys:My}=Object;function Gs(n){if(1===n.length){const e=n[0];if(Ka(e))return{args:e,keys:null};if(function Dh(n){return n&&"object"==typeof n&&om(n)===Rn}(e)){const t=My(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ds=O(4671),Rt=O(4004);const{isArray:am}=Array;function Ah(n){return(0,Rt.U)(e=>function Th(n,e){return am(e)?n(...e):n(e)}(n,e))}function Wl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Vn=O(5403),ta=O(9672);function na(n,e,t){n?(0,ta.f)(t,n,e):e()}var os=O(576);function Co(n,e){const t=(0,os.m)(n)?n:()=>n,r=i=>i.error(t());return new ri.y(e?i=>e.schedule(r,0,i):r)}const ra=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qa=O(8189);function Sh(...n){return function xy(){return(0,Qa.J)(1)}()((0,ir.D)(n,(0,wo.yG)(n)))}var qs=O(8421);function as(n){return new ri.y(e=>{(0,qs.Xf)(n()).subscribe(e)})}var ia=O(515),Mh=O(727),Pr=O(4482);function zs(){return(0,Pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class um extends ri.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mh.w0.EMPTY)}return e}refCount(){return zs()(this)}}function Dr(n,e){return(0,Pr.e)((t,r)=>{let i=null,l=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe((0,Vn.x)(r,y=>{null==i||i.unsubscribe();let w=0;const I=l++;(0,qs.Xf)(n(y,I)).subscribe(i=(0,Vn.x)(r,S=>r.next(e?e(y,S,I,w++):S),()=>{i=null,p()}))},()=>{d=!0,p()}))})}var sa=O(5698);function $i(...n){const e=(0,wo.yG)(n);return(0,Pr.e)((t,r)=>{(e?Sh(n,t,e):Sh(n,t)).subscribe(r)})}function Ja(n,e,t,r,i){return(l,d)=>{let p=t,y=e,w=0;l.subscribe((0,Vn.x)(d,I=>{const S=w++;y=p?n(y,I,S):(p=!0,I),r&&d.next(y)},i&&(()=>{p&&d.next(y),d.complete()})))}}function xi(n,e){return(0,Pr.e)(Ja(n,e,arguments.length>=2,!0))}function Gi(n,e){return(0,Pr.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function ls(n){return(0,Pr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Vn.x)(t,void 0,void 0,d=>{l=(0,qs.Xf)(n(d,ls(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var zn=O(5577);function oa(n,e){return(0,os.m)(e)?(0,zn.z)(n,e,1):(0,zn.z)(n,1)}function xh(n){return n<=0?()=>ia.E:(0,Pr.e)((e,t)=>{let r=[];e.subscribe((0,Vn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wn(n=ky){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ky(){return new ra}function Ry(n){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function aa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((i,l)=>n(i,l,r)):Ds.y,(0,sa.q)(1),t?Ry(e):Wn(()=>new ra))}var ii=O(8505);class Io{constructor(e,t){this.id=e,this.url=t}}class Ws extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bc extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zn extends Io{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kh extends Io{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class la extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v0 extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rh extends Io{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class si extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oh{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ua{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zs{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ny{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Py{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Ec{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hr(n){return new Ec(n)}const wc="ngNavigationCancelingError";function To(n){const e=Error("NavigationCancelingError: "+n);return e[wc]=!0,e}function dm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],p=n[l];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Cc(n[i],e[i]))return!1;return!0}function Cc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Ic(n){return Array.prototype.concat.apply([],n)}function hm(n){return n.length>0?n[n.length-1]:null}function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ki(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,ir.D)(Promise.resolve(n)):vt(n)}const ca={exact:function Fh(n,e,t){if(!As(n.segments,e.segments)||!Ao(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Fh(n.children[r],e.children[r],t))return!1;return!0},subset:Lh},Xa={exact:function pm(n,e){return Ts(n,e)},subset:function Fy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cc(n[t],e[t]))},ignored:()=>!0};function Zl(n,e,t){return ca[t.paths](n.root,e.root,t.matrixParams)&&Xa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Lh(n,e,t){return Tc(n,e,e.segments,t)}function Tc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!As(i,t)||e.hasChildren()||!Ao(i,t,r))}if(n.segments.length===t.length){if(!As(n.segments,t)||!Ao(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Lh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(As(n.segments,i)&&Ao(n.segments,i,r)&&n.children[Jt])&&Tc(n.children[Jt],e,l,r)}}function Ao(n,e,t){return e.every((r,i)=>Xa[t](n[i].parameters,r.parameters))}class So{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return Bh.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yl(this)}}class Kn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return da(this)}}function As(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Mo{}class Kl{parse(e){const t=new Sc(e);return new So(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ss(e.root,!0)}`,r=function Ly(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${tl(t)}=${tl(i)}`).join("&"):`${tl(t)}=${tl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function nl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Bh=new Kl;function Yl(n){return n.segments.map(e=>da(e)).join("/")}function Ss(n,e){if(!n.hasChildren())return Yl(n);if(e){const t=n.children[Jt]?Ss(n.children[Jt],!1):"",r=[];return fr(n.children,(i,l)=>{l!==Jt&&r.push(`${l}:${Ss(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Vh(n,e){let t=[];return fr(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),fr(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[Ss(n.children[Jt],!1)]:[`${i}:${Ss(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Yl(n)}/${t[0]}`:`${Yl(n)}/(${t.join("//")})`}}function el(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tl(n){return el(n).replace(/%3B/gi,";")}function Ac(n){return el(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ql(n){return decodeURIComponent(n)}function Jl(n){return Ql(n.replace(/\+/g,"%20"))}function da(n){return`${Ac(n.path)}${function gm(n){return Object.keys(n).map(e=>`;${Ac(e)}=${Ac(n[e])}`).join("")}(n.parameters)}`}const Vy=/^[^\/()?;=#]+/;function us(n){const e=n.match(Vy);return e?e[0]:""}const Xl=/^[^=?&#]+/,Uy=/^[^&#]+/;class Sc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new Yt(e,t)),r}parseSegment(){const e=us(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Kn(Ql(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=us(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=us(this.remaining);i&&(r=i,this.capture(r))}e[Ql(t)]=Ql(r)}parseQueryParam(e){const t=function By(n){const e=n.match(Xl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function ym(n){const e=n.match(Uy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Jl(t),l=Jl(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=us(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Jt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Jt]:new Yt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Uh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jh(e,this._root).map(t=>t.value)}}function Uh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Uh(n,t);if(r)return r}return null}function jh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jh(n,t);if(r.length)return r.unshift(e),r}return[]}class Ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ys(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mc extends jy{constructor(e,t){super(e),this.snapshot=t,kc(this,e)}toString(){return this.snapshot.toString()}}function ha(n,e){const t=function Hy(n,e){const d=new rl([],{},{},"",{},Jt,e,null,n.root,-1,{});return new Hh("",new Ks(d,[]))}(n,e),r=new _i([new Kn("",{})]),i=new _i({}),l=new _i({}),d=new _i({}),p=new _i(""),y=new cs(r,i,d,p,l,Jt,e,t.root);return y.snapshot=t.root,new Mc(new Ks(y,[]),t)}class cs{constructor(e,t,r,i,l,d,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>hr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>hr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $y(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function xc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rl{constructor(e,t,r,i,l,d,p,y,w,I,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=I,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hh extends jy{constructor(e,t){super(t),this.url=e,kc(this,t)}toString(){return Rc(this._root)}}function kc(n,e){e.value._routerState=n,e.children.forEach(t=>kc(n,t))}function Rc(n){const e=n.children.length>0?` { ${n.children.map(Rc).join(", ")} } `:"";return`${n.value}${e}`}function Qs(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ts(e.params,t.params)||n.params.next(t.params),function Ph(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ts(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $h(n,e){const t=Ts(n.params,e.params)&&function mm(n,e){return As(n,e)&&n.every((t,r)=>Ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$h(n.parent,e.parent))}function eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Gh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return eu(n,r,i);return eu(n,r)})}(n,e,t);return new Ks(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>eu(n,p)),d}}const r=function qy(n){return new cs(new _i(n.url),new _i(n.params),new _i(n.queryParams),new _i(n.fragment),new _i(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>eu(n,l));return new Ks(r,i)}}function Js(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fa(n){return"object"==typeof n&&null!=n&&n.outlets}function qh(n,e,t,r,i){let l={};return r&&fr(r,(d,p)=>{l[p]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new So(t.root===n?e:Oc(t.root,n,e),l,i)}function Oc(n,e,t){const r={};return fr(n.children,(i,l)=>{r[l]=i===e?t:Oc(i,e,t)}),new Yt(n.segments,r)}class _m{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Js(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(fa);if(i&&i!==hm(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zy(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return Ms(n,e,t);const r=function b0(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],p=t[r];if(fa(p))break;const y=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Ri(y,w,d))return l;r+=2}else{if(!Ri(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Yt(n.segments.slice(0,r.pathIndex),{});return l.children[Jt]=new Yt(n.segments.slice(r.pathIndex),n.children),Ms(l,0,i)}return r.match&&0===i.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?zh(n,e,t):r.match?Ms(n,0,i):zh(n,e,t)}function Ms(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function Wy(n){return fa(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return fr(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=Zy(n.children[d],e,l))}),fr(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Yt(n.segments,i)}}function zh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(fa(l)){const y=pa(l.outlets);return new Yt(r,y)}if(0===i&&Js(t[0])){r.push(new Kn(n.segments[e].path,Wh(t[0]))),i++;continue}const d=fa(l)?l.outlets[Jt]:`${l}`,p=i<t.length-1?t[i+1]:null;d&&p&&Js(p)?(r.push(new Kn(d,Wh(p))),i+=2):(r.push(new Kn(d,{})),i++)}return new Yt(r,{})}function pa(n){const e={};return fr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zh(new Yt([],{}),0,t))}),e}function Wh(n){const e={};return fr(n,(t,r)=>e[r]=`${t}`),e}function Ri(n,e,t){return n==t.path&&Ts(e,t.parameters)}class Em{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qs(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ys(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),fr(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ys(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ys(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ys(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Ny(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Do(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(Qs(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Qs(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=function Pc(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=y,d.outlet&&d.outlet.activateWith(i,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Fc{constructor(e,t){this.routes=e,this.module=t}}function ma(n){return"function"==typeof n}function il(n){return n instanceof So}const nu=Symbol("INITIAL_VALUE");function xo(){return Dr(n=>function Ya(...n){const e=(0,wo.yG)(n),t=(0,wo.jO)(n),{args:r,keys:i}=Gs(n);if(0===r.length)return(0,ir.D)([],e);const l=new ri.y(function vc(n,e,t=Ds.y){return r=>{na(e,()=>{const{length:i}=n,l=new Array(i);let d=i,p=i;for(let y=0;y<i;y++)na(e,()=>{const w=(0,ir.D)(n[y],e);let I=!1;w.subscribe((0,Vn.x)(r,S=>{l[y]=S,I||(I=!0,p--),p||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Wl(i,d):Ds.y));return t?l.pipe(Ah(t)):l}(n.map(e=>e.pipe((0,sa.q)(1),$i(nu)))).pipe(xi((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==nu?i:(l===nu&&(r=!0),r||!1!==l&&d!==t.length-1&&!il(l)?i:l),e)},nu),Gi(e=>e!==nu),(0,Rt.U)(e=>il(e)?e:!0===e),(0,sa.q)(1)))}class Ky{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ru,this.attachRef=null}}class ru{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ky,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ga=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Qh(t,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ru),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Qh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cs?this.route:e===ru?this.childContexts:this.parent.get(e,t)}}let Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[ga],encapsulation:2}),n})();function iu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];su(r,Xh(e,r))}}function su(n,e){n.children&&iu(n.children,e)}function Xh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ef(n){const e=n.children&&n.children.map(ef),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=Jh),t}function an(n){return n.outlet||Jt}function tf(n,e){const t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}const Cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Cm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||dm)(t,n,e);if(!l)return Object.assign({},Cm);const d={};fr(l.posParams,(y,w)=>{d[w]=y.path});const p=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function ou(n,e,t,r,i="corrected"){if(t.length>0&&function Qy(n,e,t){return t.some(r=>Vc(n,e,r)&&an(r)!==Jt)}(n,t,r)){const d=new Yt(e,function Lc(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&an(l)!==Jt){const d=new Yt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[an(l)]=d}return i}(n,e,r,new Yt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Im(n,e,t){return t.some(r=>Vc(n,e,r))}(n,t,r)){const d=new Yt(n.segments,function Yy(n,e,t,r,i,l){const d={};for(const p of r)if(Vc(n,t,p)&&!i[an(p)]){const y=new Yt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[an(p)]=y}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Yt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Vc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Jy(n,e,t,r){return!!(an(n)===r||r!==Jt&&Vc(e,t,n))&&("**"===n.path||sl(e,n,t).matched)}function Xy(n,e,t){return 0===e.length&&!n.children[t]}class Xs{constructor(e){this.segmentGroup=e||null}}class Fr{constructor(e){this.urlTree=e}}function ko(n){return Co(new Xs(n))}function au(n){return Co(new Fr(n))}class rf{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=ou(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Jt).pipe((0,Rt.U)(l=>this.createUrlTree(_a(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ls(l=>{if(l instanceof Fr)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Xs?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jt).pipe((0,Rt.U)(i=>this.createUrlTree(_a(i),e.queryParams,e.fragment))).pipe(ls(i=>{throw i instanceof Xs?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Yt([],{[Jt]:e}):e;return new So(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Rt.U)(l=>new Yt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,ir.D)(i).pipe(oa(l=>{const d=r.children[l],p=tf(t,l);return this.expandSegmentGroup(e,p,d,l).pipe((0,Rt.U)(y=>({segment:y,outlet:l})))}),xi((l,d)=>(l[d.outlet]=d.segment,l),{}),function _0(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((i,l)=>n(i,l,r)):Ds.y,xh(1),t?Ry(e):Wn(()=>new ra))}())}expandSegment(e,t,r,i,l,d){return(0,ir.D)(r).pipe(oa(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,d).pipe(ls(w=>{if(w instanceof Xs)return vt(null);throw w}))),aa(p=>!!p),ls((p,y)=>{if(p instanceof ra||"EmptyError"===p.name){if(Xy(t,i,l))return vt(new Yt([],{}));throw new Xs(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,d,p){return Jy(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):ko(t):ko(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?au(l):this.lineralizeSegments(r,l).pipe((0,zn.z)(d=>{const p=new Yt(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:I}=sl(t,i,l);if(!p)return ko(t);const S=this.applyRedirectCommands(y,i.redirectTo,I);return i.redirectTo.startsWith("/")?au(S):this.lineralizeSegments(i,S).pipe((0,zn.z)(B=>this.expandSegment(e,t,r,B.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?vt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Rt.U)(S=>(r._loadedConfig=S,new Yt(i,{})))):vt(new Yt(i,{}));const{matched:d,consumedSegments:p,remainingSegments:y}=sl(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,zn.z)(I=>{const S=I.module,B=I.routes,{segmentGroup:H,slicedSegments:W}=ou(t,p,y,B),de=new Yt(H.segments,H.children);if(0===W.length&&de.hasChildren())return this.expandChildren(S,B,de).pipe((0,Rt.U)(Et=>new Yt(p,Et)));if(0===B.length&&0===W.length)return vt(new Yt(p,{}));const Be=an(r)===l;return this.expandSegment(S,de,B,W,Be?Jt:l,!0).pipe((0,Rt.U)(bt=>new Yt(p.concat(bt.segments),bt.children)))})):ko(t)}getChildConfig(e,t,r){return t.children?vt(new Fc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?vt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,zn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Rt.U)(l=>(t._loadedConfig=l,l))):function zr(n){return Co(To(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):vt(new Fc([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?vt(i.map(d=>{const p=e.get(d);let y;if(function Zh(n){return n&&ma(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!ma(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return ki(y)})).pipe(xo(),(0,ii.b)(d=>{if(!il(d))return;const p=To(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,Rt.U)(d=>!0===d)):vt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vt(r);if(i.numberOfChildren>1||!i.children[Jt])return Co(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new So(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return fr(t.children,(p,y)=>{d[y]=this.createSegmentGroup(e,p,r,i)}),new Yt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function _a(n){const e={};for(const r of Object.keys(n.children)){const l=_a(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Oi(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}class Dm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class va{constructor(e,t){this.component=e,this.route=t}}function af(n,e,t){const r=n._root;return vi(r,e?e._root:null,t,[r.value])}function lu(n,e,t){const r=function e_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function vi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ys(e);return n.children.forEach(d=>{(function Am(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function t_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!As(n.url,e.url);case"pathParamsOrQueryParamsChange":return!As(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$h(n,e)||!Ts(n.queryParams,e.queryParams);default:return!$h(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Dm(r)):(l.data=d.data,l._resolvedData=d._resolvedData),vi(n,e,l.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new va(p.outlet.component,d))}else d&&ba(e,p,i),i.canActivateChecks.push(new Dm(r)),vi(n,null,l.component?p?p.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),fr(l,(d,p)=>ba(d,t.getContext(p),i)),i}function ba(n,e,t){const r=Ys(n),i=n.value;fr(r,(l,d)=>{ba(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new va(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class cf{}function df(n){return new ri.y(e=>e.error(n))}class hf{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=ou(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jt);if(null===t)return null;const r=new rl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ks(r,t),l=new Hh(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=$y(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],p=tf(e,l),y=this.processSegmentGroup(p,d,l);if(null===y)return null;r.push(...y)}const i=Mm(r);return function s_(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return Xy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Jy(e,t,r,i))return null;let l,d=[],p=[];if("**"===e.path){const H=r.length>0?hm(r).parameters:{};l=new rl(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),an(e),e.component,e,f(t),g(t)+r.length,T(e))}else{const H=sl(t,e,r);if(!H.matched)return null;d=H.consumedSegments,p=H.remainingSegments,l=new rl(d,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),an(e),e.component,e,f(t),g(t)+d.length,T(e))}const y=function o_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=ou(t,d,p,y.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const H=this.processChildren(y,w);return null===H?null:[new Ks(l,H)]}if(0===y.length&&0===I.length)return[new Ks(l,[])];const S=an(e)===i,B=this.processSegment(y,w,I,S?Jt:i);return null===B?null:[new Ks(l,B)]}}function a_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Mm(n){const e=[],t=new Set;for(const r of n){if(!a_(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Mm(r.children);e.push(new Ks(r.value,i))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function T(n){return n.resolve||{}}function ot(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pt(n){return Dr(e=>{const t=n(e);return t?(0,ir.D)(t).pipe((0,Rt.U)(()=>e)):vt(e)})}class cu extends class zi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ol=new c.OlP("ROUTES");class al{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Rt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Fc(Ic(d.injector.get(ol,void 0,c.XFs.Self|c.XFs.Optional)).map(ef),d)}),ls(l=>{throw t._loader$=void 0,l}));return t._loader$=new um(i,()=>new Sn.x).pipe(zs()),t._loader$}loadModuleFactory(e){return ki(e()).pipe((0,zn.z)(t=>t instanceof c.YKP?vt(t):(0,ir.D)(this.compiler.compileModuleAsync(t))))}}class l_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ro(n){throw n}function Bc(n,e,t){return e.parse("/")}function Uc(n,e){return vt(null)}const pf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{constructor(t,r,i,l,d,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sn.x,this.errorHandler=Ro,this.malformedUriErrorHandler=Bc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Uc,afterPreactivation:Uc},this.urlHandlingStrategy=new l_,this.routeReuseStrategy=new cu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const S=d.get(c.R0b);this.isNgZoneEnabled=S instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function fm(){return new So(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new al(d,p,B=>this.triggerEvent(new Oh(B)),B=>this.triggerEvent(new ua(B))),this.routerState=ha(this.currentUrlTree,this.rootComponentType),this.transitions=new _i({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Gi(i=>0!==i.id),(0,Rt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let l=!1,d=!1;return vt(i).pipe((0,ii.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dr(p=>{const y=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Hc(p.source)&&(this.browserUrlTree=p.extractedUrl),vt(p).pipe(Dr(S=>{const B=this.transitions.getValue();return r.next(new Ws(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),B!==this.transitions.getValue()?ia.E:Promise.resolve(S)}),function sf(n,e,t,r){return Dr(i=>function ya(n,e,t,r,i){return new rf(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Rt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ii.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function x(n,e,t,r,i){return(0,zn.z)(l=>function i_(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new hf(n,e,t,r,i,l).recognize();return null===d?df(new cf):vt(d)}catch(d){return df(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Rt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ii.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const B=new la(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(B)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:H,source:W,restoredState:de,extras:Be}=p,ft=new Ws(B,this.serializeUrl(H),W,de);r.next(ft);const bt=ha(H,this.rootComponentType).snapshot;return vt(Object.assign(Object.assign({},p),{targetSnapshot:bt,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),ia.E}),pt(p=>{const{targetSnapshot:y,id:w,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:H}}=p;return this.hooks.beforePreactivation(y,{navigationId:w,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!H})}),(0,ii.b)(p=>{const y=new v0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Rt.U)(p=>Object.assign(Object.assign({},p),{guards:af(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function n_(n,e){return(0,zn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?vt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Sm(n,e,t,r){return(0,ir.D)(n).pipe((0,zn.z)(i=>function uu(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?vt(l.map(p=>{const y=lu(p,e,i);let w;if(function E0(n){return n&&ma(n.canDeactivate)}(y))w=ki(y.canDeactivate(n,e,t,r));else{if(!ma(y))throw new Error("Invalid CanDeactivate guard");w=ki(y(n,e,t,r))}return w.pipe(aa())})).pipe(xo()):vt(!0)}(i.component,i.route,t,e,r)),aa(i=>!0!==i,!0))}(d,r,i,n).pipe((0,zn.z)(p=>p&&function wm(n){return"boolean"==typeof n}(p)?function Lr(n,e,t,r){return(0,ir.D)(e).pipe(oa(i=>Sh(function uf(n,e){return null!==n&&e&&e(new Zs(n)),vt(!0)}(i.route.parent,r),function lf(n,e){return null!==n&&e&&e(new Nh(n)),vt(!0)}(i.route,r),function eo(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Tm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>as(()=>vt(d.guards.map(y=>{const w=lu(y,d.node,t);let I;if(function Yh(n){return n&&ma(n.canActivateChild)}(w))I=ki(w.canActivateChild(r,n));else{if(!ma(w))throw new Error("Invalid CanActivateChild guard");I=ki(w(r,n))}return I.pipe(aa())})).pipe(xo())));return vt(l).pipe(xo())}(n,i.path,t),function r_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const i=r.map(l=>as(()=>{const d=lu(l,e,t);let p;if(function Kh(n){return n&&ma(n.canActivate)}(d))p=ki(d.canActivate(e,n));else{if(!ma(d))throw new Error("Invalid CanActivate guard");p=ki(d(e,n))}return p.pipe(aa())}));return vt(i).pipe(xo())}(n,i.route,t))),aa(i=>!0!==i,!0))}(r,l,n,e):vt(p)),(0,Rt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ii.b)(p=>{if(il(p.guardsResult)){const w=To(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw w.url=p.guardsResult,w}const y=new Rh(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Gi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),pt(p=>{if(p.guards.canActivateChecks.length)return vt(p).pipe((0,ii.b)(y=>{const w=new si(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Dr(y=>{let w=!1;return vt(y).pipe(function K(n,e){return(0,zn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vt(t);let l=0;return(0,ir.D)(i).pipe(oa(d=>function fe(n,e,t,r){return function ze(n,e,t,r){const i=ot(n);if(0===i.length)return vt({});const l={};return(0,ir.D)(i).pipe((0,zn.z)(d=>function Dt(n,e,t,r){const i=lu(n,e,r);return ki(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,ii.b)(p=>{l[d]=p}))),xh(1),(0,zn.z)(()=>ot(l).length===i.length?vt(l):ia.E))}(n._resolve,n,e,r).pipe((0,Rt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),$y(n,t).resolve),null)))}(d.route,r,n,e)),(0,ii.b)(()=>l++),xh(1),(0,zn.z)(d=>l===i.length?vt(t):ia.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ii.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,ii.b)(y=>{const w=new qi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),pt(p=>{const{targetSnapshot:y,id:w,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:H}}=p;return this.hooks.afterPreactivation(y,{navigationId:w,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!H})}),(0,Rt.U)(p=>{const y=function Gy(n,e,t){const r=eu(n,e._root,t?t._root:void 0);return new Mc(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,ii.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(r=>(new Em(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ii.b)({next(){l=!0},complete(){l=!0}}),function Oy(n){return(0,Pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),ls(p=>{if(d=!0,function cm(n){return n&&n[wc]}(p)){const y=il(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Zn(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(w),y?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hc(i.source)};this.scheduleNavigation(I,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new kh(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(w){i.reject(w)}}return ia.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){iu(t),this.config=t.map(ef),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:y}=r,w=i||this.routerState.root,I=y?this.currentUrlTree.fragment:d;let S=null;switch(p){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}return null!==S&&(S=this.removeEmptyProps(S)),function ds(n,e,t,r,i){if(0===t.length)return qh(e.root,e.root,e,r,i);const l=function vm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _m(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return fr(l.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new _m(t,e,r)}(t);if(l.toRoot())return qh(e.root,new Yt([],{}),e,r,i);const d=function bm(n,e,t){if(n.isAbsolute)return new Nc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Nc(l,l===e.root,0)}const r=Js(n.commands[0])?0:1;return function zy(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Nc(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=d.processChildren?Ms(d.segmentGroup,d.index,l.commands):Zy(d.segmentGroup,d.index,l.commands);return qh(d.segmentGroup,p,e,r,i)}(w,this.currentUrlTree,t,S,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=il(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function mf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},pf):!1===r?Object.assign({},jc):r,il(t))return Zl(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Zl(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var p,y,w;if(this.disposed)return Promise.resolve(!1);const I=this.transitions.value,S=Hc(r)&&I&&!Hc(I.source),B=I.rawUrl.toString()===t.toString(),H=I.id===(null===(p=this.currentNavigation)||void 0===p?void 0:p.id);if(S&&B&&H)return Promise.resolve(!0);let de,Be,ft;d?(de=d.resolve,Be=d.reject,ft=d.promise):ft=new Promise((ct,Gt)=>{de=ct,Be=Gt});const bt=++this.navigationId;let Et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Et=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Et=0,this.setTransition({id:bt,targetPageId:Et,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:de,reject:Be,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(ct=>Promise.reject(ct))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Zn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hc(n){return"imperative"!==n}class h_{}class C0{preload(e,t){return vt(null)}}let I0=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new al(i,r,y=>t.triggerEvent(new Oh(y)),y=>t.triggerEvent(new ua(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(t=>t instanceof bc),oa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,ir.D)(i).pipe((0,Qa.J)(),(0,Rt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?vt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,zn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(h_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xm=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Py&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Py(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new c.OlP("ROUTER_CONFIGURATION"),p_=new c.OlP("ROUTER_FORROOT_GUARD"),D0=[we,{provide:Mo,useClass:Kl},{provide:Wr,useFactory:function g_(n,e,t,r,i,l,d={},p,y){const w=new Wr(null,n,e,t,r,i,Ic(l));return p&&(w.urlHandlingStrategy=p),y&&(w.routeReuseStrategy=y),function S0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(I=>{var S,B;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(B=console.groupEnd)||void 0===B||B.call(console)}),w},deps:[Mo,ru,we,c.zs3,c.Sil,ol,hs,[class ff{},new c.FiY],[class Bn{},new c.FiY]]},ru,{provide:cs,useFactory:function km(n){return n.routerState.root},deps:[Wr]},I0,C0,class f_{preload(e,t){return t().pipe(ls(()=>vt(null)))}},{provide:hs,useValue:{enableTracing:!1}}];function HI(){return new c.PXZ("Router",Wr)}let gf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[D0,m_(t),{provide:p_,useFactory:A0,deps:[[Wr,new c.FiY,new c.tp0]]},{provide:hs,useValue:r||{}},{provide:me,useFactory:T0,deps:[ye,[new c.tBr(nt),new c.FiY],hs]},{provide:xm,useFactory:$I,deps:[Wr,ja,hs]},{provide:h_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:C0},{provide:c.PXZ,multi:!0,useFactory:HI},[Gc,{provide:c.ip1,multi:!0,useFactory:M0,deps:[Gc]},{provide:__,useFactory:y_,deps:[Gc]},{provide:c.tb,multi:!0,useExisting:__}]]}}static forChild(t){return{ngModule:n,providers:[m_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(p_,8),c.LFG(Wr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function $I(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xm(n,e,t)}function T0(n,e,t={}){return t.useHash?new Oe(n,e):new Qe(n,e)}function A0(n){return"guarded"}function m_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:ol,multi:!0,useValue:n}]}let Gc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sn.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),l=this.injector.get(Wr),d=this.injector.get(hs);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?vt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(hs),i=this.injector.get(I0),l=this.injector.get(xm),d=this.injector.get(Wr),p=this.injector.get(c.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function M0(n){return n.appInitializer.bind(n)}function y_(n){return n.bootstrapListener.bind(n)}const __=new c.OlP("Router Initializer");let b_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),du=(()=>{class n extends b_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const xs=new c.OlP("NgValueAccessor"),R0={provide:xs,useExisting:(0,c.Gpc)(()=>Nm),multi:!0},O0=new c.OlP("CompositionEventMode");let Nm=(()=>{class n extends b_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oM(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(O0,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([R0]),c.qOj]}),n})();function Ea(n){return null==n||0===n.length}function N0(n){return null!=n&&"number"==typeof n.length}const bi=new c.OlP("NgValidators"),Zr=new c.OlP("NgAsyncValidators"),GI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oo{static min(e){return function P0(n){return e=>{if(Ea(e.value)||Ea(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function F0(n){return e=>{if(Ea(e.value)||Ea(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return L0(e)}static requiredTrue(e){return function V0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function E_(n){return Ea(n.value)||GI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function B0(n){return e=>Ea(e.value)||!N0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function U0(n){return e=>N0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function j0(n){if(!n)return Pt;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ea(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return H0(e)}static composeAsync(e){return No(e)}}function L0(n){return Ea(n.value)?{required:!0}:null}function Pt(n){return null}function w_(n){return null!=n}function C_(n){const e=(0,c.QGY)(n)?(0,ir.D)(n):n;return(0,c.CqO)(e),e}function I_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function yf(n,e){return e.map(t=>t(n))}function D_(n){return n.map(e=>function to(n){return!n.validate}(e)?e:t=>e.validate(t))}function H0(n){if(!n)return null;const e=n.filter(w_);return 0==e.length?null:function(t){return I_(yf(t,e))}}function _f(n){return null!=n?H0(D_(n)):null}function No(n){if(!n)return null;const e=n.filter(w_);return 0==e.length?null:function(t){return function x0(...n){const e=(0,wo.jO)(n),{args:t,keys:r}=Gs(n),i=new ri.y(l=>{const{length:d}=t;if(!d)return void l.complete();const p=new Array(d);let y=d,w=d;for(let I=0;I<d;I++){let S=!1;(0,qs.Xf)(t[I]).subscribe((0,Vn.x)(l,B=>{S||(S=!0,w--),p[I]=B},()=>y--,void 0,()=>{(!y||!S)&&(w||l.next(r?Wl(r,p):p),l.complete())}))}});return e?i.pipe(Ah(e)):i}(yf(t,e).map(C_)).pipe((0,Rt.U)(I_))}}function vf(n){return null!=n?No(D_(n)):null}function T_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Pm(n){return n._rawValidators}function qI(n){return n._rawAsyncValidators}function Fm(n){return n?Array.isArray(n)?n:[n]:[]}function A_(n,e){return Array.isArray(n)?n.includes(e):n===e}function bf(n,e){const t=Fm(e);return Fm(n).forEach(i=>{A_(t,i)||t.push(i)}),t}function Ef(n,e){return Fm(e).filter(t=>!A_(n,t))}class Lm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_f(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class no extends Lm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oi extends Lm{get formDirective(){return null}get path(){return null}}class zI{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let $0=(()=>{class n extends zI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(no,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),G0=(()=>{class n extends zI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function M_(n,e){return[...e.path,n]}function Bm(n,e){Um(n,e),e.valueAccessor.writeValue(n.value),function Z0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K0(n,e)})}(n,e),function ll(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function x_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function YI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ro(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Um(n,e){const t=Pm(n);null!==e.validator?n.setValidators(T_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=qI(n);null!==e.asyncValidator?n.setAsyncValidators(T_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qc(e._rawValidators,i),qc(e._rawAsyncValidators,i)}function zc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Pm(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=qI(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return qc(e._rawValidators,r),qc(e._rawAsyncValidators,r),t}function K0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k_(n,e){Um(n,e)}function Q0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ul(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wa="VALID",Ca="INVALID",Wc="PENDING",Zc="DISABLED";function wf(n){return(Gm(n)?n.validators:n)||null}function Hm(n){return Array.isArray(n)?_f(n):n||null}function $m(n,e){return(Gm(e)?e.asyncValidators:n)||null}function Cf(n){return Array.isArray(n)?vf(n):n||null}function Gm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const qm=n=>n instanceof Kc,R_=n=>n instanceof Ei,O_=n=>n instanceof tE;function N_(n){return qm(n)?n.value:n.getRawValue()}function eE(n,e){const t=R_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function P_(n,e){R_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class F_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Hm(this._rawValidators),this._composedAsyncValidatorFn=Cf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wa}get invalid(){return this.status===Ca}get pending(){return this.status==Wc}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Hm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cf(e)}addValidators(e){this.setValidators(bf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ef(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ef(e,this._rawAsyncValidators))}hasValidator(e){return A_(this._rawValidators,e)}hasAsyncValidator(e){return A_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wa,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wa||this.status===Wc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wc,this._hasOwnPendingAsyncValidator=!0;const t=C_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function X0(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=R_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:O_(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?Ca:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wc)?Wc:this._anyControlsHaveStatus(Ca)?Ca:wa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Kc extends F_{constructor(e=null,t,r){super(wf(t),$m(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gm(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ul(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ul(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ei extends F_{constructor(e,t,r){super(wf(t),$m(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){P_(this,e),Object.keys(e).forEach(r=>{eE(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=N_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class tE extends F_{constructor(e,t,r){super(wf(t),$m(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){P_(this,e),e.forEach((r,i)=>{eE(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>N_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const eD={provide:oi,useExisting:(0,c.Gpc)(()=>L_)},zm=(()=>Promise.resolve(null))();let L_=(()=>{class n extends oi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Ei({},_f(t),vf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Bm(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zm.then(()=>{const r=this._findContainer(t.path),i=new Ei({});k_(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Q0(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(Zr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([eD]),c.qOj]}),n})(),V_=(()=>{class n extends oi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return M_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),aE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const uE=new c.OlP("NgModelWithFormControlWarning"),aD={provide:oi,useExisting:(0,c.Gpc)(()=>If)};let If=(()=>{class n extends oi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Bm(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ro(t.control||null,t,!1),ul(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Q0(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ro(r||null,t),qm(i)&&(Bm(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);k_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function QI(n,e){return zc(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Um(this.form,this),this._oldForm&&zc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(Zr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([aD]),c.qOj,c.TTD]}),n})();const j_={provide:oi,useExisting:(0,c.Gpc)(()=>H_)};let H_=(()=>{class n extends V_{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Zm(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oi,13),c.Y36(bi,10),c.Y36(Zr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([j_]),c.qOj]}),n})();const lD={provide:oi,useExisting:(0,c.Gpc)(()=>fu)};let fu=(()=>{class n extends oi{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return M_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Zm(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oi,13),c.Y36(bi,10),c.Y36(Zr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([lD]),c.qOj]}),n})();function Zm(n){return!(n instanceof H_||n instanceof If||n instanceof fu)}const uD={provide:no,useExisting:(0,c.Gpc)(()=>Df)};let Df=(()=>{class n extends no{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Nm?t=l:function XI(n){return Object.getPrototypeOf(n.constructor)===du}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function jm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return M_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(oi,13),c.Y36(bi,10),c.Y36(Zr,10),c.Y36(xs,10),c.Y36(uE,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([uD]),c.qOj,c.TTD]}),n})(),pu=(()=>{class n{constructor(){this._validator=Pt}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Y_={provide:bi,useExisting:(0,c.Gpc)(()=>Ym),multi:!0};let Ym=(()=>{class n extends pu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Ia(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>L0}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Y_]),c.qOj]}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[aE]]}),n})(),Yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vE]}),n})(),bE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uE,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vE]}),n})(),yD=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let p,l=null,d=null;return null!=r&&(function gD(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new Ei(i,{asyncValidators:d,updateOn:p,validators:l})}control(t,r,i){return new Kc(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new tE(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return qm(t)||R_(t)||O_(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:bE}),n})();var Wi=O(4986),Vr=O(880);function Jm(){return(0,Pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Vn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function ev(n,e=Ds.y){return n=null!=n?n:EE,(0,Pr.e)((t,r)=>{let i,l=!0;t.subscribe((0,Vn.x)(r,d=>{const p=e(d);(l||!n(i,p))&&(l=!1,i=p,r.next(d))}))})}function EE(n,e){return n===e}var ut,ks=O(2011),_D=(O(820),O(3942)),Ae=O(5861),mu=O(9681),Mf=O(4859),gu=O(1877),Xt=O(2090),vD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Da={},wE=wE||{},Ft=vD||self;function Xm(){}function eg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fs="closure_uid_"+(1e9*Math.random()>>>0),bM=0;function EM(n,e,t){return n.call.apply(n.bind,arguments)}function CE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EM:CE).apply(null,arguments)}function xf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ai(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function yu(){this.s=this.s,this.o=this.o}var tv={};yu.prototype.s=!1,yu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vM(n){return Object.prototype.hasOwnProperty.call(n,fs)&&n[fs]||(n[fs]=++bM)}(this);delete tv[n]}},yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},tg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function TE(n){return Array.prototype.concat.apply([],arguments)}function nv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ng(n){return/^[\s\xa0]*$/.test(n)}var Tr,AE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ni(n,e){return-1!=n.indexOf(e)}function Jc(n,e){return n<e?-1:n>e?1:0}e:{var SE=Ft.navigator;if(SE){var Xc=SE.userAgent;if(Xc){Tr=Xc;break e}}Tr=""}function rv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ME(n){const e={};for(const t in n)e[t]=n[t];return e}var rg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function io(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<rg.length;l++)t=rg[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _u(n){return _u[" "](n),n}_u[" "]=Xm;var Aa,n,vu=Ni(Tr,"Opera"),Ta=Ni(Tr,"Trident")||Ni(Tr,"MSIE"),ps=Ni(Tr,"Edge"),kf=ps||Ta,bu=Ni(Tr,"Gecko")&&!(Ni(Tr.toLowerCase(),"webkit")&&!Ni(Tr,"Edge"))&&!(Ni(Tr,"Trident")||Ni(Tr,"MSIE"))&&!Ni(Tr,"Edge"),ed=Ni(Tr.toLowerCase(),"webkit")&&!Ni(Tr,"Edge");function Eu(){var n=Ft.document;return n?n.documentMode:void 0}e:{var dl="",hl=(n=Tr,bu?/rv:([^\);]+)(\)|;)/.exec(n):ps?/Edge\/([\d\.]+)/.exec(n):Ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ed?/WebKit\/(\S+)/.exec(n):vu?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hl&&(dl=hl?hl[1]:""),Ta){var fl=Eu();if(null!=fl&&fl>parseFloat(dl)){Aa=String(fl);break e}}Aa=dl}var td={};var xE=Ft.document&&Ta&&(Eu()||parseInt(Aa,10))||void 0,kE=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Xm,e),Ft.removeEventListener("test",Xm,e)}catch(t){}return n}();function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function rd(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bu){e:{try{_u(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rd.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},ai(rd,li);var RE={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),OE=0;function ED(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++OE,this.ca=this.fa=!1}function Rf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function sg(n){this.src=n,this.g={},this.h=0}function og(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=DE(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Rf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ag(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}sg.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=ag(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new ED(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var sv="closure_lm_"+(1e6*Math.random()|0),ov={};function av(n,e,t,r,i){if(r&&r.once)return FE(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)av(n,e[l],t,r,i);return null}return t=UE(t),n&&n[id]?n.N(e,t,Qc(r)?!!r.capture:!!r,i):NE(n,e,t,!1,r,i)}function NE(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=Qc(i)?!!i.capture:!!i,p=Of(n);if(p||(n[sv]=p=new sg(n)),(t=p.add(e,t,r,d,l)).proxy)return t;if(r=function PE(){var e=lv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kE||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(BE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function FE(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)FE(n,e[l],t,r,i);return null}return t=UE(t),n&&n[id]?n.O(e,t,Qc(r)?!!r.capture:!!r,i):NE(n,e,t,!0,r,i)}function LE(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)LE(n,e[l],t,r,i);else r=Qc(r)?!!r.capture:!!r,t=UE(t),n&&n[id]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ag(l=n.g[e],t,r,i))&&(Rf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Of(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ag(e,t,r,i)),(t=-1<n?e[n]:null)&&VE(t))}function VE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[id])og(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(BE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Of(e))?(og(t,n),0==t.h&&(t.src=null,e[sv]=null)):Rf(n)}}}function BE(n){return n in ov?ov[n]:ov[n]="on"+n}function lv(n,e){if(n.ca)n=!0;else{e=new rd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&VE(n),n=t.call(r,e)}return n}function Of(n){return(n=n[sv])instanceof sg?n:null}var uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function UE(n){return"function"==typeof n?n:(n[uv]||(n[uv]=function(e){return n.handleEvent(e)}),n[uv])}function ui(){yu.call(this),this.i=new sg(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var i=e;io(e=new li(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=lg(d,r,!0,e)&&i}if(i=lg(d=e.g=n,r,!0,e)&&i,i=lg(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=lg(d=e.g=t[l],r,!1,e)&&i}function lg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var p=d.listener,y=d.ia||d.src;d.fa&&og(n.i,d),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}ai(ui,yu),ui.prototype[id]=!0,ui.prototype.removeEventListener=function(n,e,t,r){LE(this,n,e,t,r)},ui.prototype.M=function(){if(ui.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Rf(t[r]);delete n.g[e],n.h--}}this.I=null},ui.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ug=Ft.JSON.stringify;function wM(){var n=hv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cg,wu=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new CD,n=>n.reset());class CD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jE(n){Ft.setTimeout(()=>{throw n},0)}function cv(n,e){cg||function dg(){var n=Ft.Promise.resolve(void 0);cg=function(){n.then(ID)}}(),dv||(cg(),dv=!0),hv.add(n,e)}var dv=!1,hv=new class wD{constructor(){this.h=this.g=null}add(e,t){const r=wu.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ID(){for(var n;n=wM();){try{n.h.call(n.g)}catch(t){jE(t)}var e=wu;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dv=!1}function hg(n,e){ui.call(this),this.h=n||1,this.g=e||Ft,this.j=Kr(this.kb,this),this.l=Date.now()}function fv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function pv(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function HE(n){n.g=pv(()=>{n.g=null,n.i&&(n.i=!1,HE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ai(hg,ui),(ut=hg.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ci(this,"tick"),this.da&&(fv(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){hg.Z.M.call(this),fv(this),delete this.g};class $E extends yu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HE(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nf(n){yu.call(this),this.h=n,this.g={}}ai(Nf,yu);var mv=[];function gv(n,e,t,r){Array.isArray(t)||(t&&(mv[0]=t.toString()),t=mv);for(var i=0;i<t.length;i++){var l=av(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function fg(n){rv(n.g,function(e,t){this.g.hasOwnProperty(t)&&VE(e)},n),n.g={}}function yv(){this.g=!0}function Pf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function GE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return ug(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Nf.prototype.M=function(){Nf.Z.M.call(this),fg(this)},Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yv.prototype.Aa=function(){this.g=!1},yv.prototype.info=function(){};var Sa={},pg=null;function mg(){return pg=pg||new ui}function Lf(n){li.call(this,Sa.Ma,n)}function pl(n){const e=mg();Ci(e,new Lf(e,n))}function gg(n,e){li.call(this,Sa.STAT_EVENT,n),this.stat=e}function Zi(n){const e=mg();Ci(e,new gg(e,n))}function qE(n,e){li.call(this,Sa.Na,n),this.size=e}function ml(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Sa.Ma="serverreachability",ai(Lf,li),Sa.STAT_EVENT="statevent",ai(gg,li),Sa.Na="timingevent",ai(qE,li);var Cu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yg(){}function bv(){}yg.prototype.h=null;var Ev,sd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vf(){li.call(this,"d")}function vg(){li.call(this,"c")}function Bf(){}function od(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Nf(this),this.P=zE,this.W=new hg(n=kf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}ai(Vf,li),ai(vg,li),ai(Bf,yg),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},Ev=new Bf;var zE=45e3,wv={},Uf={};function Eg(n,e,t){n.K=1,n.v=Dg(Ma(e)),n.s=t,n.U=!0,Cv(n,null)}function Cv(n,e){n.F=Date.now(),ad(n),n.A=Ma(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),kv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bg,n.g=Ng(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $E(Kr(n.Ia,n,n.g),n.O)),gv(n.V,n.g,"readystatechange",n.gb),e=n.H?ME(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),pl(1),function _v(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var I=w[0];w=w[1];var S=I.split("_");d=2<=S.length&&"type"==S[1]?d+(I+"=")+w+"&":d+(I+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function jf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Iv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=WE(n,t),i==Uf){4==e&&(n.o=4,Zi(14),r=!1),Pf(n.j,n.m,null,"[Incomplete Response]");break}if(i==wv){n.o=4,Zi(15),Pf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pf(n.j,n.m,i,null),wg(n,i)}jf(n)&&i!=Uf&&i!=wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Zi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rg(e),e.L=!0,Zi(11))):(Pf(n.j,n.m,t,"[Invalid Chunked Response]"),gl(n),ld(n))}function WE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Uf:(t=Number(e.substring(t,r)),isNaN(t)?wv:(r+=1)+t>e.length?Uf:(e=e.substr(r,t),n.C=r+t,e))}function ad(n){n.Y=Date.now()+n.P,Dv(n,n.P)}function Dv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ml(Kr(n.eb,n),e)}function Hf(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function ld(n){0==n.l.G||n.I||_l(n.l,n)}function gl(n){Hf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,fv(n.W),fg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tg(t.i,n)))if(t.I=n.N,!n.J&&Tg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=ml(Kr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Kf(t),Mg(t)}kg(t),Zi(18)}if(1>=QE(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Tu(t,11)}else if((n.J||t.g==n)&&Kf(t),!ng(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const S=w[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const B=w[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const W=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var l=r.i;!l.g&&(Ni(W,"spdy")||Ni(W,"quic")||Ni(W,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Ov(l,l.h),l.h=null))}if(r.D){const de=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.sa=de,In(r.F,r.D,de))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=LD(r,r.H?r.la:null,r.W),d.J){Nv(r.i,d);var p=d,y=r.K;y&&p.setTimeout(y),p.B&&(Hf(p),ad(p)),r.g=d}else Hv(r);0<t.l.length&&Zf(t)}else"stop"!=w[0]&&"close"!=w[0]||Tu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Tu(t,7):Bv(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}pl(4)}catch(w){}}function Tv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(eg(n)||"string"==typeof n)tg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(eg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function CM(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(eg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function ud(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ud)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Cg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Iu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Iu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Iu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=od.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==xa(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const I=xa(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>I)&&(3!=I||kf||this.g&&(this.h.h||this.g.ga()||sw(this.g)))){this.I||4!=I||7==e||pl(8==e||0>=S?3:2),Hf(this);var t=this.g.ba();this.N=t;t:if(jf(this)){var r=sw(this.g);n="";var i=r.length,l=4==xa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gl(this),ld(this);var d="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function DD(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ng(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Zi(12),gl(this),ld(this);break e}Pf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wg(this,t)}this.U?(Iv(this,I,d),kf&&this.i&&3==I&&(gv(this.V,this.W,"tick",this.fb),this.W.start())):(Pf(this.j,this.m,d,null),wg(this,d)),4==I&&gl(this),this.i&&!this.I&&(4==I?_l(this.l,this):(this.i=!1,ad(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Zi(12)):(this.o=0,Zi(13)),gl(this),ld(this)}}}catch(I){}},ut.fb=function(){if(this.g){var n=xa(this.g),e=this.g.ga();this.C<e.length&&(Hf(this),Iv(this,n,e),this.i&&4!=n&&ad(this))}},ut.cancel=function(){this.I=!0,gl(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ff(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(pl(3),Zi(17)),gl(this),this.o=2,ld(this)):Dv(this,this.Y-n)},(ut=ud.prototype).R=function(){Cg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Cg(this),this.g.concat()},ut.get=function(n,e){return Iu(this.h,n)?this.h[n]:e},ut.set=function(n,e){Iu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var Ar=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Du(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Du){this.g=void 0!==e?e:n.g,$f(this,n.j),this.s=n.s,Ig(this,n.i),Gf(this,n.m),this.l=n.l,e=n.h;var t=new Ki;t.i=e.i,e.g&&(t.g=new ud(e.g),t.h=e.h),Av(this,t),this.o=n.o}else n&&(t=String(n).match(Ar))?(this.g=!!e,$f(this,t[1]||"",!0),this.s=qf(t[2]||""),Ig(this,t[3]||"",!0),Gf(this,t[4]),this.l=qf(t[5]||"",!0),Av(this,t[6]||"",!0),this.o=qf(t[7]||"")):(this.g=!!e,this.h=new Ki(null,this.g))}function Ma(n){return new Du(n)}function $f(n,e,t){n.j=t?qf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ig(n,e,t){n.i=t?qf(e,!0):e}function Gf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Av(n,e,t){e instanceof Ki?(n.h=e,function MD(n,e){e&&!n.j&&(Yr(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Rs(this,r),kv(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=cd(e,AD)),n.h=new Ki(e,n.g))}function In(n,e,t){n.h.set(e,t)}function Dg(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Du.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cd(e,Sv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cd(e,Sv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(cd(t,"/"==t.charAt(0)?Fo:Mv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cd(t,SD)),n.join("")};var Sv=/[#\/\?@]/g,Mv=/[#\?:]/g,Fo=/[#\?]/g,AD=/[#\?@]/g,SD=/#/g;function Ki(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yr(n){n.g||(n.g=new ud,n.h=0,n.i&&function ZE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rs(n,e){Yr(n),e=dd(n,e),Iu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Iu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Cg(n)))}function xv(n,e){return Yr(n),e=dd(n,e),Iu(n.g.h,e)}function kv(n,e,t){Rs(n,e),0<t.length&&(n.i=null,n.g.set(dd(n,e),nv(t)),n.h+=t.length)}function dd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YE(n){this.l=n||Rv,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=Ki.prototype).add=function(n,e){Yr(this),this.i=null,n=dd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){Yr(this),this.g.forEach(function(t,r){tg(t,function(i){n.call(e,i,r,this)},this)},this)},ut.T=function(){Yr(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},ut.R=function(n){Yr(this);var e=[];if("string"==typeof n)xv(this,n)&&(e=TE(e,this.g.get(dd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=TE(e,n[t])}return e},ut.set=function(n,e){return Yr(this),this.i=null,xv(this,n=dd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var Rv=10;function hd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QE(n){return n.h?1:n.g?n.g.size:0}function Tg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ov(n,e){n.g?n.g.add(e):n.h=e}function Nv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nv(n.i)}function fd(){}function kD(){this.g=new fd}function JE(n,e,t){const r=t||"";try{Tv(n,function(i,l){let d=i;Qc(i)&&(d=ug(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pd(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function yl(n){this.l=n.$b||null,this.j=n.ib||!1}function zf(n,e){ui.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YE.prototype.cancel=function(){if(this.i=Pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fd.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},fd.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},ai(yl,yg),yl.prototype.g=function(){return new zf(this.l,this.j)},yl.prototype.i=function(n){return function(){return n}}({}),ai(zf,ui);var Ag=0;function Fv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function md(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gd(n)}function gd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=zf.prototype).open=function(n,e){if(this.readyState!=Ag)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gd(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=Ag},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gd(this)),this.g&&(this.readyState=3,gd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?md(this):gd(this),3==this.readyState&&Fv(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,md(this))},ut.Ta=function(n){this.g&&(this.response=n,md(this))},ut.ha=function(){this.g&&md(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ew=Ft.JSON.parse;function pr(n){ui.call(this),this.headers=new ud,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lv,this.K=this.L=!1}ai(pr,ui);var Lv="",RD=/^https?$/i,OD=["POST","PUT"];function PD(n){return"content-type"==n.toLowerCase()}function tw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nw(n),Sg(n)}function nw(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function rw(n){if(n.h&&void 0!==wE&&(!n.C[1]||4!=xa(n)||2!=n.ba()))if(n.v&&4==xa(n))pv(n.Fa,0,n);else if(Ci(n,"readystatechange"),4==xa(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Ar)[1]||null;if(!i&&Ft.self&&Ft.self.location){var l=Ft.self.location.protocol;i=l.substr(0,l.length-1)}r=!RD.test(i?i.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var d=2<xa(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",nw(n)}}finally{Sg(n)}}}function Sg(n,e){if(n.g){iw(n);const t=n.g,r=n.C[0]?Xm:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function iw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function xa(n){return n.g?n.g.readyState:0}function sw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Lv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function FD(n){let e="";return rv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function Wf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ow(n){this.za=0,this.l=[],this.h=new yv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wf("baseRetryDelayMs",5e3,n),this.$a=Wf("retryDelaySeedMs",1e4,n),this.Ya=Wf("forwardChannelMaxRetries",2,n),this.ra=Wf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new YE(n&&n.concurrentRequestLimit),this.Ca=new kD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Bv(n){if(aw(n),3==n.G){var e=n.V++,t=Ma(n.F);In(t,"SID",n.J),In(t,"RID",e),In(t,"TYPE","terminate"),yd(n,t),(e=new od(n,n.h,e,void 0)).K=2,e.v=Dg(Ma(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ng(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ad(e)}Au(n)}function Mg(n){n.g&&(Rg(n),n.g.cancel(),n.g=null)}function aw(n){Mg(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Kf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function xg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Zf(n)}function Zf(n){hd(n.i)||n.m||(n.m=!0,cv(n.Ha,n),n.C=0)}function Uv(n,e){var t;t=e?e.m:n.V++;const r=Ma(n.F);In(r,"SID",n.J),In(r,"RID",t),In(r,"AID",n.U),yd(n,r),n.o&&n.s&&Vv(r,n.o,n.s),t=new od(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=jv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ov(n.i,t),Eg(t,r,e)}function yd(n,e){n.j&&Tv({},function(t,r){In(e,r,t)})}function jv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Kr(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let y=0;y<t;y++){let w=i[y].h;const I=i[y].g;if(w-=l,0>w)l=Math.max(0,i[y].h-100),p=!1;else try{JE(I,d,"req"+w+"_")}catch(S){r&&r(I)}}if(p){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Hv(n){n.g||n.u||(n.Y=1,cv(n.Ga,n),n.A=0)}function kg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ml(Kr(n.Ga,n),uw(n,n.A)),n.A++,0))}function Rg(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Og(n){n.g=new od(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ma(n.oa);In(e,"RID","rpc"),In(e,"SID",n.J),In(e,"CI",n.N?"0":"1"),In(e,"AID",n.U),yd(n,e),In(e,"TYPE","xmlhttp"),n.o&&n.s&&Vv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Dg(Ma(e)),t.s=null,t.U=!0,Cv(t,n)}function Kf(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function _l(n,e){var t=null;if(n.g==e){Kf(n),Rg(n),n.g=null;var r=2}else{if(!Tg(n.i,e))return;t=e.D,Nv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ci(r=mg(),new qE(r,t,e,i)),Zf(n)}else Hv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function lw(n,e){return!(QE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ml(Kr(n.Ha,n,e),uw(n,n.C)),n.C++,0)))}(n,e)||2==r&&kg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Tu(n,5);break;case 4:Tu(n,10);break;case 3:Tu(n,6);break;default:Tu(n,2)}}function uw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Tu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Kr(n.jb,n);t||(t=new Du("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||$f(t,"https"),Dg(t)),function XE(n,e){const t=new yv;if(Ft.Image){const r=new Image;r.onload=xf(pd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xf(pd,t,r,"TestLoadImage: error",!1,e),r.onabort=xf(pd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xf(pd,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Zi(2);n.G=0,n.j&&n.j.va(e),Au(n),aw(n)}function Au(n){n.G=0,n.I=-1,n.j&&((0!=Pv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nv(n.l),n.l.length=0),n.j.ua())}function LD(n,e,t){let r=function TD(n){return n instanceof Du?Ma(n):new Du(n,void 0)}(t);if(""!=r.i)e&&Ig(r,e+"."+r.i),Gf(r,r.m);else{const i=Ft.location;r=function KE(n,e,t,r){var i=new Du(null,void 0);return n&&$f(i,n),e&&Ig(i,e),t&&Gf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&rv(n.aa,function(i,l){In(r,l,i)}),t=n.sa,(e=n.D)&&t&&In(r,e,t),In(r,"VER",n.ma),yd(n,r),r}function Ng(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new yl({ib:!0}):n.qa)).L=n.H,e}function VD(){}function Yf(){if(Ta&&!(10<=Number(xE)))throw Error("Environmental error: no available transport.")}function Yi(n,e){ui.call(this),this.g=new ow(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ng(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ng(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _d(this)}function BD(n){Vf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tt(){vg.call(this),this.status=1}function _d(n){this.g=n}(ut=pr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ev.g(),this.C=function _g(n){return n.h||(n.h=n.i())}(this.u?this.u:Ev),this.g.onreadystatechange=Kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void tw(this,l)}n=t||"";const i=new ud(this.headers);r&&Tv(r,function(l,d){i.set(d,l)}),r=function bD(n){e:{var e=PD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=DE(OD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iw(this),0<this.B&&((this.K=function ND(n){return Ta&&function nd(){return function wi(n){var e=td;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=AE(String(Aa)).split("."),t=AE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Jc(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Jc(0==i[2].length,0==l[2].length)||Jc(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.pa,this)):this.A=pv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){tw(this,l)}},ut.pa=function(){void 0!==wE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),Sg(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sg(this,!0)),pr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?rw(this):this.cb())},ut.cb=function(){rw(this)},ut.ba=function(){try{return 2<xa(this)?this.g.status:-1}catch(n){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ew(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=ow.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new od(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=ME(l),io(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jv(this,i,e),In(t=Ma(this.F),"RID",n),In(t,"CVER",22),this.D&&In(t,"X-HTTP-Session-Id",this.D),yd(this,t),this.o&&l&&Vv(t,this.o,l),Ov(this.i,i),this.Ra&&In(t,"TYPE","init"),this.ja?(In(t,"$req",e),In(t,"SID","null"),i.$=!0,Eg(i,t,null)):Eg(i,t,e),this.G=2}}else 3==this.G&&(n?Uv(this,n):0==this.l.length||hd(this.i)||Uv(this))},ut.Ga=function(){if(this.u=null,Og(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ml(Kr(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zi(10),Mg(this),Og(this))},ut.ab=function(){null!=this.v&&(this.v=null,Mg(this),kg(this),Zi(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Zi(2)):(this.h.info("Failed to ping google.com"),Zi(1))},(ut=VD.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},Yf.prototype.g=function(n,e){return new Yi(n,e)},ai(Yi,ui),Yi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),cv(Kr(n.hb,n,e))),Zi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=LD(n,null,n.W),Zf(n)},Yi.prototype.close=function(){Bv(this.g)},Yi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,xg(this.g,e)}else this.v?((e={}).__data__=ug(n),xg(this.g,e)):xg(this.g,n)},Yi.prototype.M=function(){this.g.j=null,delete this.j,Bv(this.g),delete this.g,Yi.Z.M.call(this)},ai(BD,Vf),ai(Tt,vg),ai(_d,VD),_d.prototype.xa=function(){Ci(this.g,"a")},_d.prototype.wa=function(n){Ci(this.g,new BD(n))},_d.prototype.va=function(n){Ci(this.g,new Tt(n))},_d.prototype.ua=function(){Ci(this.g,"b")},Yf.prototype.createWebChannel=Yf.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,vv.COMPLETE="complete",bv.EventType=sd,sd.OPEN="a",sd.CLOSE="b",sd.ERROR="c",sd.MESSAGE="d",ui.prototype.listen=ui.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var UD=Da.createWebChannelTransport=function(){return new Yf},jD=Da.getStatEventTarget=function(){return mg()},vd=Da.ErrorCode=Cu,HD=Da.EventType=vv,Pg=Da.Event=Sa,Qf=Da.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sr=Da.FetchXmlHttpFactory=yl,$v=Da.WebChannel=bv,cw=Da.XhrIo=pr;const dw="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let Su="9.6.11";const ka=new gu.Yd("@firebase/firestore");function Fg(){return ka.logLevel}function $e(n,...e){if(ka.logLevel<=gu.in.DEBUG){const t=e.map(Mu);ka.debug(`Firestore (${Su}): ${n}`,...t)}}function Sr(n,...e){if(ka.logLevel<=gu.in.ERROR){const t=e.map(Mu);ka.error(`Firestore (${Su}): ${n}`,...t)}}function Jf(n,...e){if(ka.logLevel<=gu.in.WARN){const t=e.map(Mu);ka.warn(`Firestore (${Su}): ${n}`,...t)}}function Mu(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+n;throw Sr(e),new Error(e)}function Lt(n,e){n||dt()}function Je(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class ep{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Br,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const w=d;e.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},y=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Br)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new fw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new ci(e)}}class qD{constructor(e,t,r){this.type="FirstParty",this.user=ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new Gv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function mw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ms.A=-1;class gw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mw(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function tp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ZD(n){return n+"\0"}class Mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Mr(0,0))}static max(){return new xt(new Mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class np{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===np.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof np?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends np{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const rp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends np{construct(e,t,r){return new Qr(e,t,r)}static isValidIdentifier(e){return rp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Fe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(l(),i++)}if(l(),d)throw new Fe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class bd{constructor(e){this.fields=e,e.sort(Qr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ur(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=YD.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xu(n){return"string"==typeof n?Ur.fromBase64String(n):Ur.fromUint8Array(n)}function vl(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _w(n){const e=n.mapValue.fields.__previous_value__;return vl(e)?_w(e):e}function Ed(n){const e=Ra(n.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}class QD{constructor(e,t,r,i,l,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}function ku(n){return null==n}function wd(n){return 0===n&&1/n==-1/0}function vw(n){return"number"==typeof n&&Number.isInteger(n)&&!wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(rn.fromString(e))}static fromName(e){return new Ze(rn.fromString(e).popFirst(5))}static empty(){return new Ze(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new rn(e.slice()))}}const bw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zv={nullValue:"NULL_VALUE"};function bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vl(n)?4:Cw(n)?9:10:dt()}function Bo(n,e){if(n===e)return!0;const t=bl(n);if(t!==bl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ed(n).isEqual(Ed(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Ra(r.timestampValue),d=Ra(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,xu(n.bytesValue).isEqual(xu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return or(r.geoPointValue.latitude)===or(i.geoPointValue.latitude)&&or(r.geoPointValue.longitude)===or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return or(r.integerValue)===or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=or(r.doubleValue),d=or(i.doubleValue);return l===d?wd(l)===wd(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return tp(n.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(qv(l)!==qv(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!Bo(l[p],d[p])))return!1;return!0}(n,e);default:return dt()}var i}function ip(n,e){return void 0!==(n.values||[]).find(t=>Bo(t,e))}function El(n,e){if(n===e)return 0;const t=bl(n),r=bl(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=or(i.integerValue||i.doubleValue),p=or(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Lg(n.timestampValue,e.timestampValue);case 4:return Lg(Ed(n),Ed(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=xu(i),p=xu(l);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),p=l.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Zt(d[y],p[y]);if(0!==w)return w}return Zt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Zt(or(i.latitude),or(l.latitude));return 0!==d?d:Zt(or(i.longitude),or(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],p=l.values||[];for(let y=0;y<d.length&&y<p.length;++y){const w=El(d[y],p[y]);if(w)return w}return Zt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},p=Object.keys(d),y=l.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const S=Zt(p[I],w[I]);if(0!==S)return S;const B=El(d[p[I]],y[w[I]]);if(0!==B)return B}return Zt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw dt()}}function Lg(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Ra(n),r=Ra(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function Cd(n){return Vg(n)}function Vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ra(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xu(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=Vg(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const p of i)d?d=!1:l+=",",l+=`${p}:${Vg(r.fields[p])}`;return l+"}"}(n.mapValue):dt();var e}function Ru(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wv(n){return!!n&&"integerValue"in n}function sp(n){return!!n&&"arrayValue"in n}function Ew(n){return!!n&&"nullValue"in n}function ww(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bg(n){return!!n&&"mapValue"in n}function op(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=op(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=op(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Iw(n){return"nullValue"in n?zv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ru(Vo.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function Dw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ru(Vo.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bw:dt()}function Tw(n,e){return void 0===n?e:void 0===e||El(n,e)>0?n:e}function Aw(n,e){return void 0===n?e:void 0===e||El(n,e)<0?n:e}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=op(t)}setAll(e){let t=Qr.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=op(d):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Bg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lo(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new di(op(this.value))}}function Sw(n){const e=[];return Lo(n.fields,(t,r)=>{const i=new Qr([t]);if(Bg(r)){const l=Sw(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new bd(e)}class Un{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,xt.min(),xt.min(),di.empty(),0)}static newFoundDocument(e,t,r){return new Un(e,1,t,xt.min(),r,0)}static newNoDocument(e,t){return new Un(e,2,t,xt.min(),di.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,xt.min(),di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ug{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ap(n){return n.fields.find(e=>2===e.kind)}function Oa(n){return n.fields.filter(e=>2!==e.kind)}Ug.UNKNOWN_ID=-1;class lp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ou{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ou(0,so.min())}}function Mw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Mr(t+1,0):new Mr(t,r));return new so(i,Ze.empty(),e)}function JD(n){return new so(n.readTime,n.key,-1)}class so{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new so(xt.min(),Ze.empty(),-1)}static max(){return new so(xt.max(),Ze.empty(),-1)}}function XD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class xw{constructor(e,t=null,r=[],i=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=p,this.P=null}}function kw(n,e=null,t=[],r=[],i=null,l=null,d=null){return new xw(n,e,t,r,i,l,d)}function wl(n){const e=Je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Cd(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cd(r)).join(",")),e.P=t}return e.P}function Id(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Yv(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Bo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dd(n.startAt,e.startAt)&&Dd(n.endAt,e.endAt)}function Zv(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jg(n,e){return n.filters.filter(t=>t instanceof ar&&t.field.isEqual(e))}function up(n,e,t){let r,i=!0;for(const l of jg(n,e)){let d,p=!0;switch(l.op){case"<":case"<=":d=Iw(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=zv}Tw(r,d)===d&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Tw(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Rw(n,e,t){let r,i=!0;for(const l of jg(n,e)){let d,p=!0;switch(l.op){case">=":case">":d=Dw(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=bw}Aw(r,d)===d&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Aw(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class ar extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new cp(e,t,r):"array-contains"===t?new nT(e,r):"in"===t?new rT(e,r):"not-in"===t?new iT(e,r):"array-contains-any"===t?new sT(e,r):new ar(e,t,r)}static V(e,t,r){return"in"===t?new tT(e,r):new DM(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(El(t,this.value)):null!==t&&bl(this.value)===bl(t)&&this.v(El(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cp extends ar{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.v(t)}}class tT extends ar{constructor(e,t){super(e,"in",t),this.keys=Kv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DM extends ar{constructor(e,t){super(e,"not-in",t),this.keys=Kv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class nT extends ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sp(t)&&ip(t.arrayValue,this.value)}}class rT extends ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ip(this.value.arrayValue,t)}}class iT extends ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ip(this.value.arrayValue,t)}}class sT extends ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ip(this.value.arrayValue,r))}}class Na{constructor(e,t){this.position=e,this.inclusive=t}}class Nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function dp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?Ze.comparator(Ze.fromName(d.referenceValue),t.key):El(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Dd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bo(n.position[t],e.position[t]))return!1;return!0}class Pa{constructor(e,t=null,r=[],i=[],l=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function Qv(n,e,t,r,i,l,d,p){return new Pa(n,e,t,r,i,l,d,p)}function Pu(n){return new Pa(n)}function Hg(n){return!ku(n.limit)&&"F"===n.limitType}function $g(n){return!ku(n.limit)&&"L"===n.limitType}function hp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Jv(n){for(const e of n.filters)if(e.S())return e.field;return null}function Ow(n){return null!==n.collectionGroup}function Td(n){const e=Je(n);if(null===e.D){e.D=[];const t=Jv(e),r=hp(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Nu(t)),e.D.push(new Nu(Qr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Nu(Qr.keyField(),l))}}}return e.D}function Os(n){const e=Je(n);if(!e.C)if("F"===e.limitType)e.C=kw(e.path,e.collectionGroup,Td(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Td(e))t.push(new Nu(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Na(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Na(e.startAt.position,!e.startAt.inclusive):null;e.C=kw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Fu(n,e,t){return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return Id(Os(n),Os(e))&&n.limitType===e.limitType}function Lu(n){return`${wl(Os(n))}|lt:${n.limitType}`}function Nw(n){return`Query(target=${function eT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Cd(r.value)}`;var r}).join(", ")}]`),ku(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Cd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Cd(t)).join(",")),`Target(${e})`}(Os(n))}; limitType=${n.limitType})`}function Gg(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const p=dp(i,l,d);return i.inclusive?p<=0:p<0}(t.startAt,Td(t),r)||t.endAt&&!function(i,l,d){const p=dp(i,l,d);return i.inclusive?p>=0:p>0}(t.endAt,Td(t),r)));var t,r}function Pw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oT(n){return(e,t)=>{let r=!1;for(const i of Td(n)){const l=Fw(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function Fw(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,l,d){const p=l.data.field(i),y=d.data.field(i);return null!==p&&null!==y?El(p,y):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function aT(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function Xv(n){return{integerValue:""+n}}function qg(n,e){return vw(e)?Xv(e):aT(n,e)}class zg{constructor(){this._=void 0}}function Lw(n,e,t){return n instanceof Sd?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Vu?Uw(n,e):n instanceof Bu?jw(n,e):function(r,i){const l=Bw(r,i),d=xd(l)+xd(r.k);return Wv(l)&&Wv(r.k)?Xv(d):aT(r.M,d)}(n,e)}function Vw(n,e,t){return n instanceof Vu?Uw(n,e):n instanceof Bu?jw(n,e):t}function Bw(n,e){return n instanceof Md?Wv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sd extends zg{}class Vu extends zg{constructor(e){super(),this.elements=e}}function Uw(n,e){const t=eb(e);for(const r of n.elements)t.some(i=>Bo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bu extends zg{constructor(e){super(),this.elements=e}}function jw(n,e){let t=eb(e);for(const r of n.elements)t=t.filter(i=>!Bo(i,r));return{arrayValue:{values:t}}}class Md extends zg{constructor(e,t){super(),this.M=e,this.k=t}}function xd(n){return or(n.integerValue||n.doubleValue)}function eb(n){return sp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kd{constructor(e,t){this.field=e,this.transform=t}}class $w{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Zg{}function lT(n,e,t){n instanceof Fa?function(r,i,l){const d=r.value.clone(),p=oo(r.fieldTransforms,i,l.transformResults);d.setAll(p),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Uu?function(r,i,l){if(!Wg(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=oo(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(Kg(r)),p.setAll(d),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tb(n,e,t){var i;n instanceof Fa?function(r,i,l){if(!Wg(r.precondition,i))return;const d=r.value.clone(),p=zw(r.fieldTransforms,l,i);d.setAll(p),i.convertToFoundDocument(qw(i),d).setHasLocalMutations()}(n,e,t):n instanceof Uu?function(r,i,l){if(!Wg(r.precondition,i))return;const d=zw(r.fieldTransforms,l,i),p=i.data;p.setAll(Kg(r)),p.setAll(d),i.convertToFoundDocument(qw(i),p).setHasLocalMutations()}(n,e,t):Wg(n.precondition,i=e)&&i.convertToNoDocument(xt.min())}function uT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Bw(r.transform,i||null);null!=l&&(null==t&&(t=di.empty()),t.set(r.field,l))}return t||null}function Gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tp(t,r,(i,l)=>function Hw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vu&&r instanceof Vu||t instanceof Bu&&r instanceof Bu?tp(t.elements,r.elements,Bo):t instanceof Md&&r instanceof Md?Bo(t.k,r.k):t instanceof Sd&&r instanceof Sd);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function qw(n){return n.isFoundDocument()?n.version:xt.min()}class Fa extends Zg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Uu extends Zg{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Kg(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oo(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,p=e.data.field(l.field);r.set(l.field,Vw(d,p,t[i]))}return r}function zw(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,Lw(l,d,e))}return r}class ju extends Zg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Hu extends Zg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class cT{constructor(e){this.count=e}}var xr,ln;function fp(n){switch(n){default:return dt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function pp(n){if(void 0===n)return Sr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case xr.OK:return ge.OK;case xr.CANCELLED:return ge.CANCELLED;case xr.UNKNOWN:return ge.UNKNOWN;case xr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case xr.INTERNAL:return ge.INTERNAL;case xr.UNAVAILABLE:return ge.UNAVAILABLE;case xr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case xr.NOT_FOUND:return ge.NOT_FOUND;case xr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case xr.ABORTED:return ge.ABORTED;case xr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case xr.DATA_LOSS:return ge.DATA_LOSS;default:return dt()}}(ln=xr||(xr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Cl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}class gr{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}}class mp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Jr.RED,this.left=null!=i?i:Jr.EMPTY,this.right=null!=l?l:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(e){return new nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rd(n){return n.hasNext()?n.getNext():void 0}const dT=new gr(Ze.comparator);function ao(){return dT}const rb=new gr(Ze.comparator);function gp(){return rb}function Od(){return new Cl(n=>n.toString(),(n,e)=>n.isEqual(e))}const ib=new gr(Ze.comparator),sb=new Mn(Ze.comparator);function bn(...n){let e=sb;for(const t of n)e=e.add(t);return e}const hT=new Mn(Zt);function Yg(){return hT}class yp{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,t)),new yp(xt.min(),r,Yg(),ao(),bn())}}class Nd{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nd(Ur.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class Pd{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class ob{constructor(e,t){this.targetId=e,this.$=t}}class ab{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lb{constructor(){this.B=0,this.L=ub(),this.U=Ur.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=bn(),t=bn(),r=bn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new Nd(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=ub()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Ww{constructor(e){this.nt=e,this.st=new Map,this.it=ao(),this.rt=Zw(),this.ot=new Mn(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(Zv(l))if(0===r){const d=new Ze(l.path);this.ct(t,d,Un.newNoDocument(d,xt.min()))}else Lt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const p=this.wt(d);if(p){if(l.current&&Zv(p.target)){const y=new Ze(p.target.path);null!==this.it.get(y)||this.It(d,y)||this.ct(d,y,Un.newNoDocument(y,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=bn();this.rt.forEach((l,d)=>{let p=!0;d.forEachWhile(y=>{const w=this.wt(y);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new yp(e,t,this.ot,this.it,r);return this.it=ao(),this.rt=Zw(),this.ot=new Mn(Zt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new lb,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Mn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new lb),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Zw(){return new gr(Ze.comparator)}function ub(){return new gr(Ze.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},fT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yw{constructor(e,t){this.databaseId=e,this.N=t}}function _p(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ii(n,e){return n.N?e.toBase64():e.toUint8Array()}function Fd(n,e){return _p(n,e.toTimestamp())}function Xr(n){return Lt(!!n),xt.fromTimestamp(function(e){const t=Ra(e);return new Mr(t.seconds,t.nanos)}(n))}function cb(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pT(n){const e=rn.fromString(n);return Lt(mb(e)),e}function La(n,e){return cb(n.databaseId,e.path)}function Uo(n,e){const t=pT(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(Jw(t))}function vp(n,e){return cb(n.databaseId,e)}function Qw(n){const e=pT(n);return 4===e.length?rn.emptyPath():Jw(e)}function Ld(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jw(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Xw(n,e,t){return{name:La(n,e),fields:t.value.mapValue.fields}}function Qg(n,e,t){const r=Uo(n,e.name),i=Xr(e.updateTime),l=new di({mapValue:{fields:e.fields}}),d=Un.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Il(n,e){let t;if(e instanceof Fa)t={update:Xw(n,e.key,e.value)};else if(e instanceof ju)t={delete:La(n,e.key)};else if(e instanceof Uu)t={update:Xw(n,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof Hu))return dt();t={verify:La(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Md)return{fieldPath:l.field.canonicalString(),increment:d.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Fd(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function bp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?mr.updateTime(Xr(i.updateTime)):void 0!==i.exists?mr.exists(i.exists):mr.none():mr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let p=null;"setToServerValue"in d?(Lt("REQUEST_TIME"===d.setToServerValue),p=new Sd):"appendMissingElements"in d?p=new Vu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Bu(d.removeAllFromArray.values||[]):"increment"in d?p=new Md(l,d.increment):dt();const y=Qr.fromServerFormat(d.fieldPath);return new kd(y,p)}(n,i)):[];var i;if(e.update){const i=Uo(n,e.update.name),l=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new bd((e.updateMask.fieldPaths||[]).map(w=>Qr.fromServerFormat(w)));return new Uu(i,l,d,t,r)}return new Fa(i,l,t,r)}if(e.delete){const i=Uo(n,e.delete);return new ju(i,t)}if(e.verify){const i=Uo(n,e.verify);return new Hu(i,t)}return dt()}function db(n,e){return{documents:[vp(n,e.path)]}}function nC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(I=>function(S){if("=="===S.op){if(ww(S.value))return{unaryFilter:{field:Dl(S.field),op:"IS_NAN"}};if(Ew(S.value))return{unaryFilter:{field:Dl(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(ww(S.value))return{unaryFilter:{field:Dl(S.field),op:"IS_NOT_NAN"}};if(Ew(S.value))return{unaryFilter:{field:Dl(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(S.field),op:pb(S.op),value:S.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:Dl((I=w).field),direction:mT(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.N||ku(w)?w:{value:w});var w,p,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function hb(n){let e=Qw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let l=[];t.where&&(l=fb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Nu(Ep((S=I).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let p=null;t.limit&&(p=function(I){let S;return S="object"==typeof I?I.value:I,ku(S)?null:S}(t.limit));let y=null;var I;t.startAt&&(y=new Na((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Na(I.values||[],!I.before)}(t.endAt)),Qv(e,i,d,l,p,"F",y,w)}function fb(n){return n?void 0!==n.unaryFilter?[yT(n)]:void 0!==n.fieldFilter?[gT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fb(e)).reduce((e,t)=>e.concat(t)):dt():[]}function mT(n){return Kw[n]}function pb(n){return fT[n]}function Dl(n){return{fieldPath:n.canonicalString()}}function Ep(n){return Qr.fromServerFormat(n.fieldPath)}function gT(n){return ar.create(Ep(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function yT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ep(n.unaryFilter.field);return ar.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ep(n.unaryFilter.field);return ar.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ep(n.unaryFilter.field);return ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ep(n.unaryFilter.field);return ar.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function rC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gb(e)),e=iC(n.get(t),e);return gb(e)}function iC(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function gb(n){return n+"\x01\x01"}function jo(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),rn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&dt(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:dt()}l=d+2}return new rn(r)}const sC=["userId","batchId"];function wp(n,e){return[n,Pi(e)]}function oC(n,e,t){return[n,Pi(e),t]}const aC={},lC=["prefixPath","collectionGroup","readTime","documentId"],uC=["prefixPath","collectionGroup","documentId"],cC=["collectionGroup","readTime","prefixPath","documentId"],_T=["canonicalId","targetId"],vT=["targetId","path"],AM=["path","targetId"],dC=["collectionId","parent"],SM=["indexId","uid"],MM=["uid","sequenceNumber"],xM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kM=["indexId","uid","orderedDocumentKey"],RM=["userId","collectionPath","documentId"],OM=["userId","collectionPath","largestBatchId"],NM=["userId","collectionGroup","largestBatchId"],bT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xg=[...bT,"documentOverlays"],ET=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hC=[...ET,"indexConfiguration","indexState","indexEntries"],ey="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let i=0,l=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(i=>i?ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class _b{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Vd(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=Cp(r.target.error);this.At.reject(new Vd(e,i))}}static open(e,t,r,i){try{return new _b(t,e.transaction(i,r))}catch(l){throw new Vd(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new PM(t)}}class gs{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===gs.Vt((0,Xt.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Al(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xt.hl)())return!1;if(gs.St())return!0;const e=(0,Xt.z$)(),t=gs.Vt(e),r=0<t&&t<10,i=gs.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ae.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new Vd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new Fe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Fe(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Vd(e,p))},l.onupgradeneeded=d=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Nt(e);const y=_b.open(l.db,e,d?"readonly":"readwrite",r),w=i(y).next(I=>(y.Pt(),I)).catch(I=>(y.abort(I),ve.reject(I))).toPromise();return w.catch(()=>{}),yield y.Rt,w}catch(y){const w="FirebaseError"!==y.name&&p<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),l.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fC{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Al(this.Ft.delete())}}class Vd extends Fe{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tl(n){return"IndexedDbTransactionError"===n.name}class PM{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Al(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Al(this.store.add(e))}get(e){return Al(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Al(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Al(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(d,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ve((l,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ve((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,d,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ve((r,i)=>{t.onerror=l=>{const d=Cp(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new ve((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const y=new fC(p),w=t(p.primaryKey,p.value,y);if(w instanceof ve){const I=w.catch(S=>(y.done(),ve.reject(S)));r.push(I)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Al(n){return new ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Cp(r.target.error);t(i)}})}let pC=!1;function Cp(n){const e=gs.Vt((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pC||(pC=!0,setTimeout(()=>{throw r},0)),r}}return n}class mC extends yb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function hi(n,e){const t=Je(n);return gs.xt(t.Ht,e)}class gC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&lT(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&tb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&tb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&tp(this.mutations,e.mutations,(t,r)=>Gw(t,r))&&tp(this.baseMutations,e.baseMutations,(t,r)=>Gw(t,r))}}class yC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=ib;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new yC(e,t,r,i)}}class vb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sl{constructor(e,t,r,i,l=xt.min(),d=xt.min(),p=Ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _C{constructor(e){this.Jt=e}}function vC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:La(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:_p(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$u(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:$u(e.version)}}var i,l;return r}function Bd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $u(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fi(n){const e=new Mr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function Ud(n,e){const t=(e.baseMutations||[]).map(l=>bp(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>bp(n.Jt,l)),i=Mr.fromMillis(e.localWriteTimeMs);return new gC(e.batchId,i,t,r)}function Gu(n){const e=fi(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fi(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=Os(Pu(Qw(i.documents[0])))):r=Os(hb(n.query)),new Sl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ur.fromBase64String(n.resumeToken))}function bC(n,e){const t=$u(e.snapshotVersion),r=$u(e.lastLimboFreeSnapshotVersion);let i;i=Zv(e.target)?db(n.Jt,e.target):nC(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bb(n){const e=hb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fu(e,e.limit,"L"):e}function Ip(n,e){return new vb(e.largestBatchId,bp(n.Jt,e.overlayMutation))}function Eb(n,e){const t=e.path.lastSegment();return[n,Pi(e.path.popLast()),t]}class EC{getBundleMetadata(e,t){return wC(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:fi(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return wC(e).put({bundleId:(r=t).id,createTime:$u(Xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wb(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bb(i.bundledQuery),readTime:fi(i.readTime)};var i})}saveNamedQuery(e,t){return wb(e).put({name:(r=t).name,readTime:$u(Xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wC(n){return hi(n,"bundles")}function wb(n){return hi(n,"namedQueries")}class ty{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new ty(e,t.uid||"")}getOverlay(e,t){return Dp(e).get(Eb(this.userId,t)).next(r=>r?Ip(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const p=new vb(t,d);i.push(this.Xt(e,p))}),ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Pi(d.getCollectionPath())));const l=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Dp(e).Qt("collectionPathOverlayIndex",p))}),ve.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Od(),l=Pi(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Dp(e).qt("collectionPathOverlayIndex",d).next(p=>{for(const y of p){const w=Ip(this.M,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Od();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dp(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,w,I)=>{const S=Ip(this.M,w);l.size()<i||S.largestBatchId===d?(l.set(S.getKey(),S),d=S.largestBatchId):I.done()}).next(()=>l)}Xt(e,t){return Dp(e).put(function(r,i,l){const[d,p,y]=Eb(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Il(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Dp(n){return hi(n,"documentOverlays")}class qu{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),wd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(xu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Cw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ze.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Cb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Ns(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=Cb(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}qu.fe=new qu;class wT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Ns(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Ns(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LM{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class CT{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jd{constructor(){this.De=new wT,this.Ce=new LM(this.De),this.xe=new CT(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ml{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ml(this.indexId,this.documentKey,this.arrayValue,r)}}function zu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ib(n.arrayValue,e.arrayValue),0!==t?t:(t=Ib(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function Ib(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class IT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=ap(e);if(void 0!==t&&!this.Be(t))return!1;const r=Oa(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class VM{constructor(){this.qe=new ny}addToCollectionParentIndex(e,t){return this.qe.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getFieldIndex(e,t){return ve.resolve(null)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class ny{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mn(rn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(rn.comparator)).toArray()}}const Wu=new Uint8Array(0);class DT{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new ny,this.Ge=new Cl(r=>wl(r),(r,i)=>Id(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:Pi(i)};return CC(e).put(l)}return ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ZD(t),""],!1,!0);return CC(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(jo(d.parent))}return r})}addFieldIndex(e,t){const r=$d(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=$d(e),i=Gd(e),l=Hd(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hd(e);let i=!0;const l=new Map;return ve.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(p=>{i&&(i=!!p),l.set(d,p)})).next(()=>{if(i){let d=bn();const p=[];return ve.forEach(l,(y,w)=>{var I;$e("IndexedDbIndexManager",`Using index ${I=y,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${wl(t)}`);const S=function(Et,ct){const Gt=ap(ct);if(void 0===Gt)return null;for(const Qt of jg(Et,Gt.fieldPath))switch(Qt.op){case"array-contains-any":return Qt.value.arrayValue.values||[];case"array-contains":return[Qt.value]}return null}(w,y),B=function(Et,ct){const Gt=new Map;for(const Qt of Oa(ct))for(const En of jg(Et,Qt.fieldPath))switch(En.op){case"==":case"in":Gt.set(Qt.fieldPath.canonicalString(),En.value);break;case"not-in":case"!=":return Gt.set(Qt.fieldPath.canonicalString(),En.value),Array.from(Gt.values())}return null}(w,y),H=function(Et,ct){const Gt=[];let Qt=!0;for(const En of Oa(ct)){const Li=0===En.kind?up(Et,En.fieldPath,Et.startAt):Rw(Et,En.fieldPath,Et.startAt);if(!Li.value)return null;Gt.push(Li.value),Qt&&(Qt=Li.inclusive)}return new Na(Gt,Qt)}(w,y),W=function(Et,ct){const Gt=[];let Qt=!0;for(const En of Oa(ct)){const Li=0===En.kind?Rw(Et,En.fieldPath,Et.endAt):up(Et,En.fieldPath,Et.endAt);if(!Li.value)return null;Gt.push(Li.value),Qt&&(Qt=Li.inclusive)}return new Na(Gt,Qt)}(w,y),de=this.je(y,w,H),Be=this.je(y,w,W),ft=this.We(y,w,B),bt=this.ze(y.indexId,S,de,!!H&&H.inclusive,Be,!!W&&W.inclusive,ft);return ve.forEach(bt,Et=>r.Gt(Et,t.limit).next(ct=>{ct.forEach(Gt=>{const Qt=Ze.fromSegments(Gt.documentKey);d.has(Qt)||(d=d.add(Qt),p.push(Qt))})}))}).next(()=>p)}return ve.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,l,d,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),w=y/(null!=t?t.length:1),I=[];for(let S=0;S<y;++S){const B=t?this.He(t[S/w]):Wu,H=r?this.Je(e,B,r[S%w],i):this.Ye(e),W=l?this.Xe(e,B,l[S%w],d):this.Ye(e+1);I.push(...this.createRange(H,W,p.map(de=>this.Je(e,B,de,!0))))}return I}Je(e,t,r,i){const l=new Ml(e,Ze.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Ml(e,Ze.empty(),t,r);return i?l.ke():l}Ye(e){return new Ml(e,Ze.empty(),Wu,Wu)}getFieldIndex(e,t){const r=new IT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const d=l.filter(p=>r.$e(p));return d.sort((p,y)=>y.fields.length-p.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new jd;for(const i of Oa(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);qu.fe.Zt(l,d)}return r.Se()}He(e){const t=new jd;return qu.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new jd;return qu.fe.Zt(Ru(this.databaseId,t),r.Ne(function(i){const l=Oa(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new jd);let l=0;for(const d of Oa(e)){const p=r[l++];for(const y of i)if(this.en(t,d.fieldPath)&&sp(p))i=this.nn(i,d,p);else{const w=y.Ne(d.kind);qu.fe.Zt(p,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const p of i){const y=new jd;y.seed(p.Se()),qu.fe.Zt(d,y.Ne(t.kind)),l.push(y)}return l}en(e,t){return!!e.filters.find(r=>r instanceof ar&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=$d(e),i=Gd(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return ve.forEach(l,p=>i.get([p.indexId,this.uid]).next(y=>{d.push(function(w,I){const S=I?new Ou(I.sequenceNumber,new so(fi(I.readTime),new Ze(jo(I.documentKey)),I.largestBatchId)):Ou.empty(),B=w.fields.map(([H,W])=>new lp(Qr.fromServerFormat(H),W));return new Ug(w.indexId,w.collectionGroup,B,S)}(p,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=$d(e),l=Gd(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ve.forEach(p,y=>{return l.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:$u((B=r).readTime),documentKey:Pi(B.documentKey.path),largestBatchId:B.largestBatchId});var B})))}updateIndexEntries(e,t){const r=new Map;return ve.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?ve.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ve.forEach(p,y=>this.on(e,i,y).next(w=>{const I=this.un(l,y);return w.isEqual(I)?ve.resolve():this.an(e,l,y,w,I)}))))})}cn(e,t,r,i){return Hd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Hd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Hd(e);let l=new Mn(zu);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,p)=>{l=l.add(new Ml(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}un(e,t){let r=new Mn(zu);const i=this.Ze(t,e);if(null==i)return r;const l=ap(t);if(null!=l){const d=e.data.field(l.fieldPath);if(sp(d))for(const p of d.arrayValue.values||[])r=r.add(new Ml(t.indexId,e.key,this.He(p),i))}else r=r.add(new Ml(t.indexId,e.key,Wu,i));return r}an(e,t,r,i,l){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,y,w,I,S){const B=p.getIterator(),H=y.getIterator();let W=Rd(B),de=Rd(H);for(;W||de;){let Be=!1,ft=!1;if(W&&de){const bt=w(W,de);bt<0?ft=!0:bt>0&&(Be=!0)}else null!=W?ft=!0:Be=!0;Be?(I(de),de=Rd(H)):ft?(S(W),W=Rd(B)):(W=Rd(B),de=Rd(H))}}(i,l,zu,p=>{d.push(this.cn(e,t,r,p))},p=>{d.push(this.hn(e,t,r,p))}),ve.waitFor(d)}rn(e){let t=1;return Gd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>zu(d,p)).filter((d,p,y)=>!p||0!==zu(d,y[p-1]));const i=[];i.push(e);for(const d of r){const p=zu(d,e),y=zu(d,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(d),i.push(d.ke());else if(y>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Wu,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Wu,[]]));return l}}function CC(n){return hi(n,"collectionParents")}function Hd(n){return hi(n,"indexEntries")}function $d(n){return hi(n,"indexConfiguration")}function Gd(n){return hi(n,"indexState")}const Db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qi(e,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tb(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:d},(I,S,B)=>(p++,B.delete()));l.push(y.next(()=>{Lt(1===p)}));const w=[];for(const I of t.mutations){const S=oC(e,I.key.path,t.batchId);l.push(i.delete(S)),w.push(I.key)}return ve.waitFor(l).next(()=>w)}function Tp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);class Ab{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Ab(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Ap(e),d=Zu(e);return d.add({}).next(p=>{Lt("number"==typeof p);const y=new gC(p,t,r,i),w=function(B,H,W){const de=W.baseMutations.map(ft=>Il(B.Jt,ft)),Be=W.mutations.map(ft=>Il(B.Jt,ft));return{userId:H,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:de,mutations:Be}}(this.M,this.userId,y),I=[];let S=new Mn((B,H)=>Zt(B.canonicalString(),H.canonicalString()));for(const B of i){const H=oC(this.userId,B.key.path,p);S=S.add(B.key.path.popLast()),I.push(d.put(w)),I.push(l.put(H,aC))}return S.forEach(B=>{I.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.ln[p]=y.keys()}),ve.waitFor(I).next(()=>y)})}lookupMutationBatch(e,t){return Zu(e).get(t).next(r=>r?(Lt(r.userId===this.userId),Ud(this.M,r)):null)}fn(e,t){return this.ln[t]?ve.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Zu(e).Wt({index:"userMutationsIndex",range:i},(d,p,y)=>{p.userId===this.userId&&(Lt(p.batchId>=r),l=Ud(this.M,p)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ud(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Ap(e).Wt({range:i},(d,p,y)=>{const[w,I,S]=d,B=jo(I);if(w===this.userId&&t.path.isEqual(B))return Zu(e).get(S).next(H=>{if(!H)throw dt();Lt(H.userId===this.userId),l.push(Ud(this.M,H))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Zt);const i=[];return t.forEach(l=>{const d=wp(this.userId,l.path),p=IDBKeyRange.lowerBound(d),y=Ap(e).Wt({range:p},(w,I,S)=>{const[B,H,W]=w,de=jo(H);B===this.userId&&l.path.isEqual(de)?r=r.add(W):S.done()});i.push(y)}),ve.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=wp(this.userId,r),d=IDBKeyRange.lowerBound(l);let p=new Mn(Zt);return Ap(e).Wt({range:d},(y,w,I)=>{const[S,B,H]=y,W=jo(B);S===this.userId&&r.isPrefixOf(W)?W.length===i&&(p=p.add(H)):I.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Zu(e).get(l).next(d=>{if(null===d)throw dt();Lt(d.userId===this.userId),r.push(Ud(this.M,d))}))}),ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Tb(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ap(e).Wt({range:r},(l,d,p)=>{if(l[0]===this.userId){const y=jo(l[1]);i.push(y)}else p.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return IC(e,this.userId,t)}wn(e){return Sb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function IC(n,e,t){const r=wp(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Ap(n).Wt({range:l,jt:!0},(p,y,w)=>{const[I,S,B]=p;I===e&&S===i&&(d=!0),w.done()}).next(()=>d)}function Zu(n){return hi(n,"mutations")}function Ap(n){return hi(n,"documentMutations")}function Sb(n){return hi(n,"mutationQueues")}class Ku{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ku(0)}static yn(){return new Ku(-1)}}class TT{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Ku(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>xt.fromTimestamp(new Mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qd(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return qd(e).Wt((d,p)=>{const y=Gu(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>ve.waitFor(l)).next(()=>i)}forEachTarget(e,t){return qd(e).Wt((r,i)=>{const l=Gu(i);t(l)})}pn(e){return AT(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}In(e,t){return AT(e).put("targetGlobalKey",t)}Tn(e,t){return qd(e).put(bC(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return qd(e).Wt({range:i,index:"queryTargetsIndex"},(d,p,y)=>{const w=Gu(p);Id(t,w.target)&&(l=w,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yu(e);return t.forEach(d=>{const p=Pi(d.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,d))}),ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yu(e);return ve.forEach(t,l=>{const d=Pi(l.path);return ve.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yu(e);let l=bn();return i.Wt({range:r,jt:!0},(d,p,y)=>{const w=jo(d[1]),I=new Ze(w);l=l.add(I)}).next(()=>l)}containsKey(e,t){const r=Pi(t.path),i=IDBKeyRange.bound([r],[ZD(r)],!1,!0);let l=0;return Yu(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,p],y,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return qd(e).get(t).next(r=>r?Gu(r):null)}}function qd(n){return hi(n,"targets")}function AT(n){return hi(n,"targetGlobal")}function Yu(n){return hi(n,"targetDocuments")}function zd(n){return DC.apply(this,arguments)}function DC(){return DC=(0,Ae.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==ey)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),DC.apply(this,arguments)}function ST([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class MT{constructor(e){this.An=e,this.buffer=new Mn(ST),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ST(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ry{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ae.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Tl(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zd(i)}yield t.Sn(e)}))}}class xT{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(ms.A);const r=new MT(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Db)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Db):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,d,p,y,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,d=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,p=Date.now(),this.removeTargets(e,r,t))).next(S=>(l=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),Fg()<=gu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(y-p)+`ms\n\tRemoved ${S} documents in `+(w-y)+`ms\nTotal Duration: ${w-I}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:S})))}}class kT{constructor(e,t){this.db=e,this.garbageCollector=new xT(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Sp(e,r)}removeReference(e,t,r){return Sp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Sp(e,t)}On(e,t){return function(r,i){let l=!1;return Sb(r).zt(d=>IC(r,d,i).next(p=>(p&&(l=!0),ve.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(d,p)=>{if(p<=t){const y=this.On(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,xt.min()),Yu(e).delete([0,Pi(d.path)])))});i.push(y)}}).next(()=>ve.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Sp(e,t)}Mn(e,t){const r=Yu(e);let i,l=ms.A;return r.Wt({index:"documentTargetsIndex"},([d,p],{path:y,sequenceNumber:w})=>{0===d?(l!==ms.A&&t(new Ze(jo(i)),l),l=w,i=y):l=ms.A}).next(()=>{l!==ms.A&&t(new Ze(jo(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sp(n,e){return Yu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Pi(e.path),sequenceNumber:r}));var r}class xl{constructor(){this.changes=new Cl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qu(e).put(r)}removeEntry(e,t,r){return Qu(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Bd(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return Qu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ju(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return Qu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ju(t))},(i,l)=>{r={document:this.$n(t,l),size:Tp(l)}}).next(()=>r)}getEntries(e,t){let r=ao();return this.Ln(e,t,(i,l)=>{const d=this.$n(i,l);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=ao(),i=new gr(Ze.comparator);return this.Ln(e,t,(l,d)=>{const p=this.$n(l,d);r=r.insert(l,p),i=i.insert(l,Tp(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ve.resolve();let i=new Mn(Mp);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(Ju(i.first()),Ju(i.last())),d=i.getIterator();let p=d.getNext();return Qu(e).Wt({index:"documentKeyIndex",range:l},(y,w,I)=>{const S=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&Mp(p,S)<0;)r(p,null),p=d.getNext();p&&p.isEqual(S)&&(r(p,w),p=d.hasNext()?d.getNext():null),p?I.Ut(Ju(p)):I.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Bd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qu(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let p=ao();for(const y of d){const w=this.$n(Ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=ao();const d=sy(t,r),p=sy(t,so.max());return Qu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(y,w,I)=>{const S=this.$n(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(S.key,S),l.size===i&&I.done()}).next(()=>l)}newChangeBuffer(e){return new Mb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return iy(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}Fn(e,t){return iy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function FM(n,e){let t;if(e.document)t=Qg(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=fi(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Ze.fromSegments(e.unknownDocument.path),i=fi(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Mr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return Un.newInvalidDocument(e)}}class Mb extends xl{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Cl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Mn((l,d)=>Zt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,p.readTime)),d.isValidDocument()){const y=vC(this.Kn.M,d);i=i.add(l.path.popLast()),r+=Tp(y)-p.size,t.push(this.Kn.addEntry(e,l,y))}else if(r-=p.size,this.trackRemovals){const y=vC(this.Kn.M,d.convertToNoDocument(xt.min()));t.push(this.Kn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),ve.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function iy(n){return hi(n,"remoteDocumentGlobal")}function Qu(n){return hi(n,"remoteDocumentsV14")}function Ju(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sy(n,e){const t=e.documentKey.path.toArray();return[n,Bd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Mp(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Zt(t[l],r[l]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class BM{constructor(e){this.M=e}kt(e,t,r,i){const l=new _b("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sC,{unique:!0}),p.createObjectStore("documentMutations"),RT(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=ve.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),RT(e)),d=d.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,y){return y.store("mutations").qt().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sC,{unique:!0});const I=y.store("mutations"),S=w.map(B=>I.put(B));return ve.waitFor(S)})}(e,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(l))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(l))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:RM});y.createIndex("collectionPathOverlayIndex",OM,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",NM,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:lC});y.createIndex("documentKeyIndex",uC),y.createIndex("collectionGroupIndex",cC)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:SM}).createIndex("sequenceNumberIndex",MM,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xM}).createIndex("documentKeyIndex",kM,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Tp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ve.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(p=>ve.forEach(p,y=>{Lt(y.userId===l.userId);const w=Ud(this.M,y);return Tb(e,l.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,p)=>{const y=new rn(d),w=[0,Pi(y)];l.push(t.get(w).next(I=>I?ve.resolve():t.put({targetId:0,path:Pi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ve.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:dC});const r=t.store("collectionParents"),i=new ny,l=d=>{if(i.add(d)){const p=d.lastSegment(),y=d.popLast();return r.put({collectionId:p,parent:Pi(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,p)=>{const y=new rn(d);return l(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,p,y],w)=>{const I=jo(p);return l(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Gu(i),d=bC(this.M,l);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const p=t.store("remoteDocumentsV14"),y=(w=d,w.document?new Ze(rn.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):dt()).path.toArray();var w;const I={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(I))}).next(()=>ve.waitFor(i))}}function RT(n){n.createObjectStore("targetDocuments",{keyPath:vT}).createIndex("documentTargetsIndex",AM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_T,{unique:!0}),n.createObjectStore("targetGlobal")}const AC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SC{constructor(e,t,r,i,l,d,p,y,w,I,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=d,this.document=p,this.Xn=w,this.Zn=I,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=B=>Promise.resolve(),!SC.vt())throw new Fe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kT(this,i),this.hs=t+"main",this.M=new _C(y),this.ls=new gs(this.hs,this.ts,new BM(this.M)),this.fs=new TT(this.referenceDelegate,this.M),this.ds=new TC(this.M),this._s=new EC,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,AC);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ms(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>oy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Tl(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Wd(e).get("owner").next(t=>ve.resolve(this.bs(t)))}Vs(e){return oy(e).delete(this.clientId)}vs(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=hi(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ds(l,18e5),p=l.filter(y=>-1===d.indexOf(y));return ve.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ve.resolve(!0):Wd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,AC);return!1}}return!(!this.networkEnabled||!this.inForeground)||oy(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new mC(t,ms.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>oy(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Ab.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new DT(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return ty.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.ts)?hC:13===d?ET:12===d?Xg:11===d?bT:void dt();var d;let p;return this.ls.runTransaction(e,i,l,y=>(p=new mC(y,this.es?this.es.next():ms.A),"readwrite-primary"===t?this.Es(p).next(w=>!!w||this.As(p)).next(w=>{if(!w)throw Sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(ge.FAILED_PRECONDITION,ey);return r(p)}).next(w=>this.Ps(p).next(()=>w)):this.$s(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}$s(e){return Wd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ge.FAILED_PRECONDITION,AC)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wd(e).put("owner",t)}static vt(){return gs.vt()}Rs(e){const t=Wd(e);return t.get("owner").next(r=>this.bs(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Sr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wd(n){return hi(n,"owner")}function oy(n){return hi(n,"clientMetadata")}function xb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class OT{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Ow(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ze(t)).next(r=>{let i=gp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=gp();return this.indexManager.getCollectionParents(e,i).next(d=>ve.forEach(d,p=>{const y=(w=t,I=p.child(i),new Pa(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,y,r).next(w=>{w.forEach((I,S)=>{l=l.insert(I,S)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const p of d.mutations){const y=p.key;let w=i.get(y);null==w&&(w=Un.newInvalidDocument(y),i=i.insert(y,w)),tb(p,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((l,d)=>{Gg(t,d)||(i=i.remove(l))}),i))}}class kb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=bn(),i=bn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new kb(e,t.fromCache,r,i)}}class Rb{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(xt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(l=>{const d=this.ei(t,l);return(Hg(t)||$g(t))&&this.ni(t.limitType,d,i,r)?this.ti(e,t):(Fg()<=gu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nw(t)),this.Zs.Qs(e,t,Mw(r,-1)).next(p=>(d.forEach(y=>{p=p.insert(y.key,y)}),p)))});var l}ei(e,t){let r=new Mn(oT(e));return t.forEach((i,l)=>{Gg(e,l)&&(r=r.add(l))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ti(e,t){return Fg()<=gu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Nw(t)),this.Zs.Qs(e,t,so.min())}}class MC{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new gr(Zt),this.ri=new Cl(l=>wl(l),Id),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new OT(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Ob(n,e,t,r){return new MC(n,e,t,r)}function xC(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,Ae.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.ai(e),t.Bs.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let y=bn();for(const w of i){d.push(w.batchId);for(const I of w.mutations)y=y.add(I.key)}for(const w of l){p.push(w.batchId);for(const I of w.mutations)y=y.add(I.key)}return t.ci.Ks(r,y).next(w=>({hi:w,removedBatchIds:d,addedBatchIds:p}))})})}),Nb.apply(this,arguments)}function kC(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const I=y.batch,S=I.keys();let B=ve.resolve();return S.forEach(H=>{B=B.next(()=>w.getEntry(p,H)).next(W=>{const de=y.docVersions.get(H);Lt(null!==de),W.version.compareTo(de)<0&&(I.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),w.addEntry(W)))})}),B.next(()=>d.Bs.removeMutationBatch(p,I))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function ay(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function UM(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const p=[];e.targetChanges.forEach((w,I)=>{const S=i.get(I);if(!S)return;p.push(t.fs.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(l,w.addedDocuments,I)));let B=S.withSequenceNumber(l.currentSequenceNumber);var H,W,de;e.targetMismatches.has(I)?B=B.withResumeToken(Ur.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,r)),i=i.insert(I,B),W=B,de=w,(0===(H=S).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(l,B))});let y=ao();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),p.push(Pb(l,d,e.documentUpdates).next(w=>{y=w})),!r.isEqual(xt.min())){const w=t.fs.getLastRemoteSnapshotVersion(l).next(I=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(w)}return ve.waitFor(p).next(()=>d.apply(l)).next(()=>t.ci.Gs(l,y)).next(()=>y)}).then(l=>(t.ii=i,l))}function Pb(n,e,t){let r=bn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=ao();return t.forEach((d,p)=>{const y=i.get(d);p.isNoDocument()&&p.version.isEqual(xt.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),l})}function Fb(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Zd(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,ve.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Sl(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Kd(n,e,t){return RC.apply(this,arguments)}function RC(){return RC=(0,Ae.Z)(function*(n,e,t){const r=Je(n),i=r.ii.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Tl(d))throw d;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),RC.apply(this,arguments)}function Lb(n,e,t){const r=Je(n);let i=xt.min(),l=bn();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,y,w){const I=Je(p),S=I.ri.get(w);return void 0!==S?ve.resolve(I.ii.get(S)):I.fs.getTargetData(y,w)}(r,d,Os(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,p.targetId).next(y=>{l=y})}).next(()=>r.si.Qs(d,e,t?i:xt.min(),t?l:bn())).next(p=>(NC(r,Pw(e),p),{documents:p,li:l})))}function NT(n,e){const t=Je(n),r=Je(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function OC(n,e){const t=Je(n),r=t.oi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,Mw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(NC(t,e,i),i))}function NC(n,e,t){let r=xt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.oi.set(e,r)}function PC(){return PC=(0,Ae.Z)(function*(n,e,t,r){const i=Je(n);let l=bn(),d=ao();for(const w of t){const I=e.fi(w.metadata.name);w.document&&(l=l.add(I));const S=e.di(w);S.setReadTime(e._i(w.metadata.readTime)),d=d.insert(I,S)}const p=i.ui.newChangeBuffer({trackRemovals:!0}),y=yield Zd(i,(w=r,Os(Pu(rn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Pb(w,p,d).next(I=>(p.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.fs.addMatchingKeys(w,l,y.targetId)).next(()=>i.ci.Gs(w,I)).next(()=>I)))}),PC.apply(this,arguments)}function HM(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,Ae.Z)(function*(n,e,t=bn()){const r=yield Zd(n,Os(bb(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Xr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(l,e);const p=r.withResumeToken(Ur.EMPTY_BYTE_STRING,d);return i.ii=i.ii.insert(p.targetId,p),i.fs.updateTargetData(l,p).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),FC.apply(this,arguments)}class $M{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ve.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Xr(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:bb(r.bundledQuery),readTime:Xr(r.readTime)}),ve.resolve();var r}}class PT{constructor(){this.overlays=new gr(Ze.comparator),this.gi=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const i=Od(),l=t.length+1,d=new Ze(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new gr((w,I)=>w-I);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=l.get(w.largestBatchId);null===I&&(I=Od(),l=l.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const p=Od(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,I)=>p.set(w,I)),!(p.size()>=i)););return ve.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vb(t,r));let l=this.gi.get(t);void 0===l&&(l=bn(),this.gi.set(t,l)),this.gi.set(t,l.add(r.key))}}class LC{constructor(){this.yi=new Mn(pi.pi),this.Ii=new Mn(pi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new pi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new pi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ze(new rn([])),r=new pi(t,e),i=new pi(t,e+1),l=[];return this.Ii.forEachInRange([r,i],d=>{this.Ai(d),l.push(d.key)}),l}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ze(new rn([])),r=new pi(t,e),i=new pi(t,e+1);let l=bn();return this.Ii.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new pi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ze.comparator(e.key,t.key)||Zt(e.vi,t.vi)}static Ti(e,t){return Zt(e.vi,t.vi)||Ze.comparator(e.key,t.key)}}class GM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Mn(pi.pi)}checkEmpty(e){return ve.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.Si;this.Si++;const d=new gC(l,t,r,i);this.Bs.push(d);for(const p of i)this.Di=this.Di.add(new pi(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ve.resolve(d)}lookupMutationBatch(e,t){return ve.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),l=i<0?0:i;return ve.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ve.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),i=new pi(t,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([r,i],d=>{const p=this.Ci(d.vi);l.push(p)}),ve.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Zt);return t.forEach(i=>{const l=new pi(i,0),d=new pi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,d],p=>{r=r.add(p.vi)})}),ve.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ze.isDocumentKey(l)||(l=l.child(""));const d=new pi(new Ze(l),0);let p=new Mn(Zt);return this.Di.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(y.vi)),!0)},d),ve.resolve(this.Ni(p))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return ve.forEach(t.mutations,i=>{const l=new pi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new pi(t,0),i=this.Di.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ve.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class qM{constructor(e){this.Mi=e,this.docs=new gr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Un.newInvalidDocument(i))}),ve.resolve(r)}getAllFromCollection(e,t,r){let i=ao();const l=new Ze(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||XD(JD(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Oi(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new s(this)}getSize(e){return ve.resolve(this.size)}}class s extends xl{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class o{constructor(e){this.persistence=e,this.Fi=new Cl(t=>wl(t),Id),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new LC,this.targetCount=0,this.Li=Ku.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ve.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Tn(t),ve.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Fi.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Fi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ve.waitFor(l).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),ve.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.Bi.containsKey(t))}}class a{constructor(e,t){this.Ui={},this.overlays={},this.es=new ms(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new o(this),this.indexManager=new VM,this.ds=new qM(r=>this.referenceDelegate.qi(r)),this.M=new _C(t),this._s=new $M(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new GM(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new u(this.es.next());return this.referenceDelegate.Ki(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Qi(e,t){return ve.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class u extends yb{constructor(e){super(),this.currentSequenceNumber=e}}class h{constructor(e){this.persistence=e,this.ji=new LC,this.Wi=null}static zi(e){return new h(e)}get Hi(){if(this.Wi)return this.Wi;throw dt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ve.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Hi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Hi,r=>{const i=Ze.fromPath(r);return this.Ji(e,i).next(l=>{l||t.removeEntry(i,xt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ve.or([()=>ve.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function m(n,e){return`firestore_clients_${n}_${e}`}function v(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function E(n,e){return`firestore_targets_${n}_${e}`}class C{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Fe(i.error.code,i.error.message))),d?new C(e,t,i.state,l):(Sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class D{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Fe(r.error.code,r.error.message))),l?new D(e,r.state,i):(Sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class M{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Yg();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=vw(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new M(e,l):(Sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class P{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new P(t.clientId,t.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class j{constructor(){this.activeTargetIds=Yg()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ee{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new gr(Zt),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=m(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new j),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const l=e.getItem(m(e.persistenceKey,i));if(l){const d=M.Yi(i,l);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(E(this.persistenceKey,e));if(r){const i=D.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(E(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(l){let d=ms.A;if(null!=l)try{const p=JSON.parse(l);Lt("number"==typeof p),d=p}catch(p){Sr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==ms.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.kr(l)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new C(this.currentUser,e,t,r),l=v(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Xi())}Ir(e){const t=v(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=E(this.persistenceKey,e),l=new D(e,t,r);this.setItem(i,l.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return M.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return C.Yi(new ci(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return D.Yi(i,t)}mr(e){return P.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),l=this.yr(r),d=[],p=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||p.push(y)}),this.syncEngine.Fr(d,p).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Yg();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Ee{constructor(){this.$r=new j,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new j,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ge{Lr(e){}shutdown(){}}class Ye{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ne{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Ct extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,l){const d=this.uo(e,t);$e("RestConnection","Sending: ",d,r);const p={};return this.ao(p,i,l),this.co(e,d,p,r).then(y=>($e("RestConnection","Received: ",y),y),y=>{throw Jf("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}ho(e,t,r,i,l){return this.oo(e,t,r,i,l)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}uo(e,t){return`${this.io}/v1/${t}:${lt[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((l,d)=>{const p=new cw;p.listenOnce(HD.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vd.NO_ERROR:const w=p.getResponseJson();$e("Connection","XHR received:",JSON.stringify(w)),l(w);break;case vd.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),d(new Fe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const I=p.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',I,"response text:",p.getResponseText()),I>0){const S=p.getResponseJson().error;if(S&&S.status&&S.message){const B=function(H){const W=H.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(W)>=0?W:ge.UNKNOWN}(S.status);d(new Fe(B,S.message))}else d(new Fe(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Fe(ge.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UD(),d=jD(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new sr({})),this.ao(p.initMessageHeaders,t,r),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");$e("Connection","Creating WebChannel: "+y,p);const w=l.createWebChannel(y,p);let I=!1,S=!1;const B=new Ne({Wr:W=>{S?$e("Connection","Not sending because WebChannel is closed:",W):(I||($e("Connection","Opening WebChannel transport."),w.open(),I=!0),$e("Connection","WebChannel sending:",W),w.send(W))},zr:()=>w.close()}),H=(W,de,Be)=>{W.listen(de,ft=>{try{Be(ft)}catch(bt){setTimeout(()=>{throw bt},0)}})};return H(w,$v.EventType.OPEN,()=>{S||$e("Connection","WebChannel transport opened.")}),H(w,$v.EventType.CLOSE,()=>{S||(S=!0,$e("Connection","WebChannel transport closed"),B.no())}),H(w,$v.EventType.ERROR,W=>{S||(S=!0,Jf("Connection","WebChannel transport errored:",W),B.no(new Fe(ge.UNAVAILABLE,"The operation could not be completed")))}),H(w,$v.EventType.MESSAGE,W=>{var de;if(!S){const Be=W.data[0];Lt(!!Be);const ft=Be,bt=ft.error||(null===(de=ft[0])||void 0===de?void 0:de.error);if(bt){$e("Connection","WebChannel received error:",bt);const Et=bt.status;let ct=function(Qt){const En=xr[Qt];if(void 0!==En)return pp(En)}(Et),Gt=bt.message;void 0===ct&&(ct=ge.INTERNAL,Gt="Unknown error status: "+Et+" with message "+bt.message),S=!0,B.no(new Fe(ct,Gt)),w.close()}else $e("Connection","WebChannel received:",Be),B.so(Be)}}),H(d,Pg.STAT_EVENT,W=>{W.stat===Qf.PROXY?$e("Connection","Detected buffering proxy"):W.stat===Qf.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.eo()},0),B}}function tn(){return"undefined"!=typeof window?window:null}function fn(){return"undefined"!=typeof document?document:null}function mi(n){return new Yw(n,!0)}class Va{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class ly{constructor(e,t,r,i,l,d,p,y){this.Yn=e,this.Ro=r,this.Po=i,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Va(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ae.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Fe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ae.Z)(function*(){e.state=0,e.start()}))}Ko(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vb extends ly{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function tC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:dt(),i=e.targetChange.targetIds||[],l=function(y,w){return y.N?(Lt(void 0===w||"string"==typeof w),Ur.fromBase64String(w||"")):(Lt(void 0===w||w instanceof Uint8Array),Ur.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const w=void 0===y.code?ge.UNKNOWN:pp(y.code);return new Fe(w,y.message||"")}(d);t=new ab(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Uo(n,r.document.name),l=Xr(r.document.updateTime),d=new di({mapValue:{fields:r.document.fields}}),p=Un.newFoundDocument(i,l,d);t=new Pd(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Uo(n,r.document),l=r.readTime?Xr(r.readTime):xt.min(),d=Un.newNoDocument(i,l);t=new Pd([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Uo(n,r.document);t=new Pd([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,l=new cT(r.count||0);t=new ob(r.targetId,l)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return xt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?xt.min():l.readTime?Xr(l.readTime):xt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Ld(this.M),t.addTarget=function(i,l){let d;const p=l.target;return d=Zv(p)?{documents:db(i,p)}:{query:nC(i,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=Ii(i,l.resumeToken):l.snapshotVersion.compareTo(xt.min())>0&&(d.readTime=_p(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Jg(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Ld(this.M),t.removeTarget=e,this.Fo(t)}}class Bb extends ly{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function TM(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let l=Xr(r.updateTime?r.updateTime:i);return l.isEqual(xt.min())&&(l=Xr(i)),new $w(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.Yo(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ld(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Il(this.M,r))};this.Fo(t)}}class Ub extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.oo(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ge.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ho(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ge.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class jb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Sr(t),this.iu=!1):$e("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Hb{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(p=>{r.enqueueAndForget((0,Ae.Z)(function*(){var y;Yd(d)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ae.Z)(function*(w){const I=Je(w);I.fu.add(4),yield kl(I),I.wu.set("Unknown"),I.fu.delete(4),yield Xu(I)}),function(w){return y.apply(this,arguments)})(d))}))}),this.wu=new jb(r,i)}}function Xu(n){return xp.apply(this,arguments)}function xp(){return xp=(0,Ae.Z)(function*(n){if(Yd(n))for(const e of n.du)yield e(!0)}),xp.apply(this,arguments)}function kl(n){return FT.apply(this,arguments)}function FT(){return FT=(0,Ae.Z)(function*(n){for(const e of n.du)yield e(!1)}),FT.apply(this,arguments)}function VC(n,e){const t=Je(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),BT(t)?VT(t):cy(t).xo()&&LT(t,e))}function $b(n,e){const t=Je(n),r=cy(t);t.lu.delete(e),r.xo()&&zM(t,e),0===t.lu.size&&(r.xo()?r.Mo():Yd(t)&&t.wu.set("Unknown"))}function LT(n,e){n.mu.Z(e.targetId),cy(n).jo(e)}function zM(n,e){n.mu.Z(e),cy(n).Wo(e)}function VT(n){n.mu=new Ww({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),cy(n).start(),n.wu.ru()}function BT(n){return Yd(n)&&!cy(n).Co()&&n.lu.size>0}function Yd(n){return 0===Je(n).fu.size}function WM(n){n.mu=void 0}function BO(n){return UT.apply(this,arguments)}function UT(){return UT=(0,Ae.Z)(function*(n){n.lu.forEach((e,t)=>{LT(n,e)})}),UT.apply(this,arguments)}function UO(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Ae.Z)(function*(n,e){WM(n),BT(n)?(n.wu.au(e),VT(n)):n.wu.set("Unknown")}),jT.apply(this,arguments)}function jO(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,Ae.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof ab&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(i,l){const d=l.cause;for(const p of l.targetIds)i.lu.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i.lu.delete(p),i.mu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield BC(n,r)}else if(e instanceof Pd?n.mu.ut(e):e instanceof ob?n.mu._t(e):n.mu.ht(e),!t.isEqual(xt.min()))try{const r=yield ay(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.mu.yt(l);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.lu.get(y);w&&i.lu.set(y,w.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const y=i.lu.get(p);if(!y)return;i.lu.set(p,y.withResumeToken(Ur.EMPTY_BYTE_STRING,y.snapshotVersion)),zM(i,p);const w=new Sl(y.target,p,1,y.sequenceNumber);LT(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield BC(n,r)}var r}),HT.apply(this,arguments)}function BC(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=(0,Ae.Z)(function*(n,e,t){if(!Tl(e))throw e;n.fu.add(1),yield kl(n),n.wu.set("Offline"),t||(t=()=>ay(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Xu(n)}))}),$T.apply(this,arguments)}function ZM(n,e){return e().catch(t=>BC(n,t,e))}function uy(n){return GT.apply(this,arguments)}function GT(){return GT=(0,Ae.Z)(function*(n){const e=Je(n),t=Qd(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;HO(e);)try{const i=yield Fb(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,$O(e,i)}catch(i){yield BC(e,i)}KM(e)&&YM(e)}),GT.apply(this,arguments)}function HO(n){return Yd(n)&&n.hu.length<10}function $O(n,e){n.hu.push(e);const t=Qd(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function KM(n){return Yd(n)&&!Qd(n).Co()&&n.hu.length>0}function YM(n){Qd(n).start()}function GO(n){return qT.apply(this,arguments)}function qT(){return qT=(0,Ae.Z)(function*(n){Qd(n).Zo()}),qT.apply(this,arguments)}function qO(n){return zT.apply(this,arguments)}function zT(){return zT=(0,Ae.Z)(function*(n){const e=Qd(n);for(const t of n.hu)e.Jo(t.mutations)}),zT.apply(this,arguments)}function zO(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,Ae.Z)(function*(n,e,t){const r=n.hu.shift(),i=yC.from(r,e,t);yield ZM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uy(n)}),WT.apply(this,arguments)}function WO(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ae.Z)(function*(n,e){var t;e&&Qd(n).Ho&&(yield(t=(0,Ae.Z)(function*(r,i){if(fp(l=i.code)&&l!==ge.ABORTED){const d=r.hu.shift();Qd(r).ko(),yield ZM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield uy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),KM(n)&&YM(n)}),ZT.apply(this,arguments)}function QM(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,Ae.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Yd(t);t.fu.add(3),yield kl(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Xu(t)}),KT.apply(this,arguments)}function YT(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Ae.Z)(function*(n,e){const t=Je(n);e?(t.fu.delete(2),yield Xu(t)):e||(t.fu.add(2),yield kl(t),t.wu.set("Unknown"))}),QT.apply(this,arguments)}function cy(n){return n.gu||(n.gu=function(e,t,r){const i=Je(e);return i.eu(),new Vb(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:BO.bind(null,n),Yr:UO.bind(null,n),Qo:jO.bind(null,n)}),n.du.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.gu.ko(),BT(n)?VT(n):n.wu.set("Unknown")):(yield n.gu.stop(),WM(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Qd(n){return n.yu||(n.yu=function(e,t,r){const i=Je(e);return i.eu(),new Bb(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:GO.bind(null,n),Yr:WO.bind(null,n),Xo:qO.bind(null,n),Yo:zO.bind(null,n)}),n.du.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.yu.ko(),yield uy(n)):(yield n.yu.stop(),n.hu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class JT{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,p=new JT(e,t,d,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),Tl(n))return new Fe(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class hy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=gp(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new hy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new hy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class JM{constructor(){this.pu=new gr(Ze.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):dt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class fy{constructor(e,t,r,i,l,d,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new fy(e,t,hy.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ZO{constructor(){this.Tu=void 0,this.listeners=[]}}class KO{constructor(){this.queries=new Cl(e=>Lu(e),Ad),this.onlineState="Unknown",this.Eu=new Set}}function XT(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Ae.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new ZO),i)try{l.Tu=yield t.onListen(r)}catch(d){const p=dy(d,`Initialization of query '${Nw(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Au(t.onlineState),l.Tu&&e.Ru(l.Tu)&&rA(t)}),eA.apply(this,arguments)}function tA(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Ae.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nA.apply(this,arguments)}function YO(n,e){const t=Je(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.Ru(i)&&(r=!0);d.Tu=i}}r&&rA(t)}function QO(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function rA(n){n.Eu.forEach(e=>{e.next()})}class iA{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new fy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class JO{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class XM{constructor(e){this.M=e}fi(e){return Uo(this.M,e)}di(e){return e.metadata.exists?Qg(this.M,e.document,!1):Un.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Xr(e)}}class XO{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ex(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new XM(this.M);for(const i of e)if(i.metadata.queries){const l=r.fi(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||bn()).add(l);t.set(d,p)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function jM(n,e,t,r){return PC.apply(this,arguments)}(e.localStore,new XM(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield HM(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function ex(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tx{constructor(e){this.key=e}}class nx{constructor(e){this.key=e}}class rx{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=bn(),this.mutatedKeys=bn(),this.Uu=oT(e),this.qu=new hy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new JM,i=t?t.qu:this.qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const y=Hg(this.query)&&i.size===this.query.limit?i.last():null,w=$g(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,S)=>{const B=i.get(I),H=Gg(this.query,S)?S:null,W=!!B&&this.mutatedKeys.has(B.key),de=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Be=!1;B&&H?B.data.isEqual(H.data)?W!==de&&(r.track({type:3,doc:H}),Be=!0):this.ju(B,H)||(r.track({type:2,doc:H}),Be=!0,(y&&this.Uu(H,y)>0||w&&this.Uu(H,w)<0)&&(p=!0)):!B&&H?(r.track({type:0,doc:H}),Be=!0):B&&!H&&(r.track({type:1,doc:B}),Be=!0,(y||w)&&(p=!0)),Be&&(H?(d=d.add(H),l=de?l.add(I):l.delete(I)):(d=d.delete(I),l=l.delete(I)))}),Hg(this.query)||$g(this.query))for(;d.size>this.query.limit;){const I=Hg(this.query)?d.last():d.first();d=d.delete(I.key),l=l.delete(I.key),r.track({type:1,doc:I})}return{qu:d,Qu:r,ni:p,mutatedKeys:l}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const l=e.Qu.Iu();l.sort((w,I)=>function(S,B){const H=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return H(S)-H(B)}(w.type,I.type)||this.Uu(w.doc,I.doc)),this.Wu(r);const d=t?this.zu():[],p=0===this.Lu.size&&this.current?1:0,y=p!==this.Bu;return this.Bu=p,0!==l.length||y?{snapshot:new fy(this.query,e.qu,i,l,e.mutatedKeys,0===p,y,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new JM,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=bn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new nx(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new tx(r))}),t}Yu(e){this.$u=e.li,this.Lu=bn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return fy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class eN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tN{constructor(e){this.key=e,this.Zu=!1}}class nN{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new Cl(p=>Lu(p),Ad),this.na=new Map,this.sa=new Set,this.ia=new gr(Ze.comparator),this.ra=new Map,this.oa=new LC,this.ua={},this.aa=new Map,this.ca=Ku.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function rN(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Ae.Z)(function*(n,e){const t=SA(n);let r,i;const l=t.ea.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Xu();else{const d=yield Zd(t.localStore,Os(e));t.isPrimaryClient&&VC(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield oA(t,e,r,"current"===p)}return i}),sA.apply(this,arguments)}function oA(n,e,t,r){return aA.apply(this,arguments)}function aA(){return aA=(0,Ae.Z)(function*(n,e,t,r){n.la=(I,S,B)=>{return(H=(0,Ae.Z)(function*(W,de,Be,ft){let bt=de.view.Gu(Be);bt.ni&&(bt=yield Lb(W.localStore,de.query,!1).then(({documents:Gt})=>de.view.Gu(Gt,bt)));const Et=ft&&ft.targetChanges.get(de.targetId),ct=de.view.applyChanges(bt,W.isPrimaryClient,Et);return yA(W,de.targetId,ct.Hu),ct.snapshot}),function(W,de,Be,ft){return H.apply(this,arguments)})(n,I,S,B);var H};const i=yield Lb(n.localStore,e,!0),l=new rx(e,i.li),d=l.Gu(i.documents),p=Nd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(d,n.isPrimaryClient,p);yA(n,t,y.Hu);const w=new eN(e,t,l);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),y.snapshot}),aA.apply(this,arguments)}function iN(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Ae.Z)(function*(n,e){const t=Je(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(l=>!Ad(l,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Kd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$b(t.remoteStore,r.targetId),py(t,r.targetId)}).catch(zd))):(py(t,r.targetId),yield Kd(t.localStore,r.targetId,!0))}),lA.apply(this,arguments)}function uA(){return uA=(0,Ae.Z)(function*(n,e,t){const r=MA(n);try{const i=yield function(l,d){const p=Je(l),y=Mr.now(),w=d.reduce((S,B)=>S.add(B.key),bn());let I;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>p.ci.Ks(S,w).next(B=>{I=B;const H=[];for(const W of d){const de=uT(W,I.get(W.key));null!=de&&H.push(new Uu(W.key,de,Sw(de.value.mapValue),mr.exists(!0)))}return p.Bs.addMutationBatch(S,y,H,d)})).then(S=>(S.applyToLocalDocumentSet(I),{batchId:S.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,p){let y=l.ua[l.currentUser.toKey()];y||(y=new gr(Zt)),y=y.insert(d,p),l.ua[l.currentUser.toKey()]=y}(r,i.batchId,t),yield ec(r,i.changes),yield uy(r.remoteStore)}catch(i){const l=dy(i,"Failed to persist write");t.reject(l)}}),uA.apply(this,arguments)}function ix(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Ae.Z)(function*(n,e){const t=Je(n);try{const r=yield UM(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.ra.get(l);d&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Zu=!0:i.modifiedDocuments.size>0?Lt(d.Zu):i.removedDocuments.size>0&&(Lt(d.Zu),d.Zu=!1))}),yield ec(t,r,e)}catch(r){yield zd(r)}}),cA.apply(this,arguments)}function sx(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((l,d)=>{const p=d.view.Au(e);p.snapshot&&i.push(p.snapshot)}),function(l,d){const p=Je(l);p.onlineState=d;let y=!1;p.queries.forEach((w,I)=>{for(const S of I.listeners)S.Au(d)&&(y=!0)}),y&&rA(p)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oN(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,Ae.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),l=i&&i.key;if(l){let d=new gr(Ze.comparator);d=d.insert(l,Un.newNoDocument(l,xt.min()));const p=bn().add(l),y=new yp(xt.min(),new Map,new Mn(Zt),d,p);yield ix(r,y),r.ia=r.ia.remove(l),r.ra.delete(e),_A(r)}else yield Kd(r.localStore,e,!1).then(()=>py(r,e,t)).catch(zd)}),dA.apply(this,arguments)}function aN(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Ae.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield kC(t.localStore,e);gA(t,r,null),mA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ec(t,i)}catch(i){yield zd(i)}}),hA.apply(this,arguments)}function lN(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,Ae.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(l,d){const p=Je(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.Bs.lookupMutationBatch(y,d).next(I=>(Lt(null!==I),w=I.keys(),p.Bs.removeMutationBatch(y,I))).next(()=>p.Bs.performConsistencyCheck(y)).next(()=>p.ci.Ks(y,w))})}(r.localStore,e);gA(r,e,t),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ec(r,i)}catch(i){yield zd(i)}}),fA.apply(this,arguments)}function pA(){return pA=(0,Ae.Z)(function*(n,e){const t=Je(n);Yd(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Je(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=dy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),pA.apply(this,arguments)}function mA(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function gA(n,e,t){const r=Je(n);let i=r.ua[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||ox(n,r)})}function ox(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&($b(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),_A(n))}function yA(n,e,t){for(const r of t)r instanceof tx?(n.oa.addReference(r.key,e),cN(n,r)):r instanceof nx?($e("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||ox(n,r.key)):dt()}function cN(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||($e("SyncEngine","New document in limbo: "+t),n.sa.add(r),_A(n))}function _A(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ze(rn.fromString(e)),r=n.ca.next();n.ra.set(r,new tN(t)),n.ia=n.ia.insert(t,r),VC(n.remoteStore,new Sl(Os(Pu(t.path)),r,2,ms.A))}}function ec(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,Ae.Z)(function*(n,e,t){const r=Je(n),i=[],l=[],d=[];var p;r.ea.isEmpty()||(r.ea.forEach((p,y)=>{d.push(r.la(y,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=kb.Ys(y.targetId,w);l.push(I)}}))}),yield Promise.all(d),r.ta.Qo(i),yield(p=(0,Ae.Z)(function*(y,w){const I=Je(y);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ve.forEach(w,B=>ve.forEach(B.Hs,H=>I.persistence.referenceDelegate.addReference(S,B.targetId,H)).next(()=>ve.forEach(B.Js,H=>I.persistence.referenceDelegate.removeReference(S,B.targetId,H)))))}catch(S){if(!Tl(S))throw S;$e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const B=S.targetId;if(!S.fromCache){const H=I.ii.get(B),de=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);I.ii=I.ii.insert(B,de)}}}),function(y,w){return p.apply(this,arguments)})(r.localStore,l))}),vA.apply(this,arguments)}function dN(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ae.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield xC(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(d=>{d.forEach(p=>{p.reject(new Fe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ec(t,r.hi)}var i}),bA.apply(this,arguments)}function hN(n,e){const t=Je(n),r=t.ra.get(e);if(r&&r.Zu)return bn().add(r.key);{let i=bn();const l=t.na.get(e);if(!l)return i;for(const d of l){const p=t.ea.get(d);i=i.unionWith(p.view.Ku)}return i}}function fN(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,Ae.Z)(function*(n,e){const t=Je(n),r=yield Lb(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&yA(t,e.targetId,i.Hu),i}),EA.apply(this,arguments)}function pN(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,Ae.Z)(function*(n,e){const t=Je(n);return OC(t.localStore,e).then(r=>ec(t,r))}),wA.apply(this,arguments)}function mN(n,e,t,r){return CA.apply(this,arguments)}function CA(){return CA=(0,Ae.Z)(function*(n,e,t,r){const i=Je(n),l=yield function(d,p){const y=Je(d),w=Je(y.Bs);return y.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,p).next(S=>S?y.ci.Ks(I,S):ve.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield uy(i.remoteStore):"acknowledged"===t||"rejected"===t?(gA(i,e,r||null),mA(i,e),p=e,Je(Je(i.localStore).Bs)._n(p)):dt(),yield ec(i,l)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),CA.apply(this,arguments)}function IA(){return IA=(0,Ae.Z)(function*(n,e){const t=Je(n);if(SA(t),MA(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ax(t,r.toArray());t.ha=!0,yield YT(t.remoteStore,!0);for(const l of i)VC(t.remoteStore,l)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(py(t,d),Kd(t.localStore,d,!0))),$b(t.remoteStore,d)}),yield i,yield ax(t,r),function(l){const d=Je(l);d.ra.forEach((p,y)=>{$b(d.remoteStore,y)}),d.oa.bi(),d.ra=new Map,d.ia=new gr(Ze.comparator)}(t),t.ha=!1,yield YT(t.remoteStore,!1)}}),IA.apply(this,arguments)}function ax(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Ae.Z)(function*(n,e,t){const r=Je(n),i=[],l=[];for(const d of e){let p;const y=r.na.get(d);if(y&&0!==y.length){p=yield Zd(r.localStore,Os(y[0]));for(const w of y){const I=r.ea.get(w),S=yield fN(r,I);S.snapshot&&l.push(S.snapshot)}}else{const w=yield NT(r.localStore,d);p=yield Zd(r.localStore,w),yield oA(r,lx(w),d,!1)}i.push(p)}return r.ta.Qo(l),i}),DA.apply(this,arguments)}function lx(n){return Qv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function yN(n){const e=Je(n);return Je(Je(e.localStore).persistence).Fs()}function _N(n,e,t,r){return TA.apply(this,arguments)}function TA(){return TA=(0,Ae.Z)(function*(n,e,t,r){const i=Je(n);if(i.ha)return void $e("SyncEngine","Ignoring unexpected query state notification.");const l=i.na.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield OC(i.localStore,Pw(l[0])),p=yp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ec(i,d,p);break}case"rejected":yield Kd(i.localStore,e,!0),py(i,e,r);break;default:dt()}}),TA.apply(this,arguments)}function vN(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Ae.Z)(function*(n,e,t){const r=SA(n);if(r.ha){for(const i of e){if(r.na.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const l=yield NT(r.localStore,i),d=yield Zd(r.localStore,l);yield oA(r,lx(l),d.targetId,!1),VC(r.remoteStore,d)}for(const i of t)r.na.has(i)&&(yield Kd(r.localStore,i,!1).then(()=>{$b(r.remoteStore,i),py(r,i)}).catch(zd))}}),AA.apply(this,arguments)}function SA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oN.bind(null,e),e.ta.Qo=YO.bind(null,e.eventManager),e.ta.fa=QO.bind(null,e.eventManager),e}function MA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,e),e}class ux{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.M=mi(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Ob(this.persistence,new Rb,e.initialUser,this.M)}wa(e){return new a(h.zi,this.M)}_a(e){return new Ee}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cx extends ux{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield MA(r.ya.syncEngine),yield uy(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Ob(this.persistence,new Rb,e.initialUser,this.M)}ma(e){return new ry(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new SC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,tn(),fn(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Ee}}class EN extends cx{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof ee&&(r.sharedClientState.syncEngine={Mr:mN.bind(null,i),Or:_N.bind(null,i),Fr:vN.bind(null,i),Fs:yN.bind(null,i),kr:pN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,Ae.Z)(function*(d){yield function gN(n,e){return IA.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}_a(e){const t=tn();if(!ee.vt(t))throw new Fe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ee(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xA{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,r.syncEngine),yield YT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KO}createDatastore(e){const t=mi(e.databaseInfo.databaseId),r=new Ct(e.databaseInfo);return new Ub(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>sx(this.syncEngine,p,0),d=Ye.vt()?new Ye:new Ge,new Hb(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,p,y,w){const I=new nN(r,i,l,d,p,y);return w&&(I.ha=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=Je(t);$e("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield kl(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dx(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class UC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wN{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Br,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new JO(JSON.parse(l),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ae.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ae.Z)(function*(l,d){const p=Je(l),y=Ld(p.M)+"/documents",w={documents:d.map(H=>La(p.M,H))},I=yield p.ho("BatchGetDocuments",y,w),S=new Map;I.forEach(H=>{const W=function eC(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=Uo(t,r.found.name),l=Xr(r.found.updateTime),d=new di({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=Uo(t,r.missing),l=Xr(r.readTime);return Un.newNoDocument(i,l)}(n,e):dt()}(p.M,H);S.set(W.key.toString(),W)});const B=[];return d.forEach(H=>{const W=S.get(H.toString());Lt(!!W),B.push(W)}),B}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ze.fromPath(i);e.mutations.push(new Hu(l,e.precondition(l)))}),yield(r=(0,Ae.Z)(function*(i,l){const d=Je(i),p=Ld(d.M)+"/documents",y={writes:l.map(w=>Il(d.M,w))};yield d.oo("Commit",p,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mr.updateTime(t):mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Fe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(t)}return mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IN{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Va(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ae.Z)(function*(){const t=new CN(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.xa(l)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!ku(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fp(t)}return!1}}class DN{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=gw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ae.Z)(function*(p){$e("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>($e("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=dy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function hx(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(l){r.isEqual(l)||(yield xC(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),kA.apply(this,arguments)}function fx(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OA(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>QM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>QM(e.remoteStore,l)),n.onlineComponents=e}),RA.apply(this,arguments)}function OA(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Ae.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield hx(n,new ux)),n.offlineComponents}),NA.apply(this,arguments)}function jC(n){return PA.apply(this,arguments)}function PA(){return PA=(0,Ae.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield fx(n,new xA)),n.onlineComponents}),PA.apply(this,arguments)}function px(n){return OA(n).then(e=>e.persistence)}function FA(n){return OA(n).then(e=>e.localStore)}function mx(n){return jC(n).then(e=>e.remoteStore)}function LA(n){return jC(n).then(e=>e.syncEngine)}function my(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Ae.Z)(function*(n){const e=yield jC(n),t=e.eventManager;return t.onListen=rN.bind(null,e.syncEngine),t.onUnlisten=iN.bind(null,e.syncEngine),t}),VA.apply(this,arguments)}function gx(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,p,y){const w=new UC({next:S=>{l.enqueueAndForget(()=>tA(i,I));const B=S.docs.has(d);!B&&S.fromCache?y.reject(new Fe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&p&&"server"===p.source?y.reject(new Fe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new iA(Pu(d.path),w,{includeMetadataChanges:!0,Cu:!0});return XT(i,I)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}function yx(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,p,y){const w=new UC({next:S=>{l.enqueueAndForget(()=>tA(i,I)),S.fromCache&&"server"===p.source?y.reject(new Fe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new iA(d,w,{includeMetadataChanges:!0,Cu:!0});return XT(i,I)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}const _x=new Map;function BA(n,e,t){if(!t)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vx(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bx(n){if(!Ze.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ex(n){if(Ze.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HC(n);throw new Fe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wx(n,e){if(e<=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Cx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,e instanceof Vo?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xf;switch(t.type){case"gapi":const r=t.client;return Lt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_x.get(e);t&&($e("ComponentProvider","Removing Datastore"),_x.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Rl extends Ji{constructor(e,t,r){super(e,t,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Ze(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function Ix(n,e,...t){if(n=(0,Xt.m9)(n),BA("collection","path",e),n instanceof Gb){const r=rn.fromString(e,...t);return Ex(r),new Rl(n,null,r)}{if(!(n instanceof er||n instanceof Rl))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return Ex(r),new Rl(n.firestore,null,r)}}function $C(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=gw.R()),BA("doc","path",e),n instanceof Gb){const r=rn.fromString(e,...t);return bx(r),new er(n,null,new Ze(r))}{if(!(n instanceof er||n instanceof Rl))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return bx(r),new er(n.firestore,n instanceof Rl?n.converter:null,new Ze(r))}}function Dx(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof er||n instanceof Rl)&&(e instanceof er||e instanceof Rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Tx(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Ji&&e instanceof Ji&&n.firestore===e.firestore&&Ad(n._query,e._query)&&n.converter===e.converter}class FN{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Va(this,"async_queue_retry"),this.qa=()=>{const t=fn();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=fn();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=fn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Br;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Tl(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=JT.createAndSchedule(this,e,t,r,l=>this.ja(l));return this.Fa.push(i),i}Ka(){this.$a&&dt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function UA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class LN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends Gb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new FN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ax(this),this._firestoreClient.terminate()}}function ei(n){return n._firestoreClient||Ax(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ax(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QD(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new DN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Sx(n,e,t){const r=new Br;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield hx(n,t),yield fx(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===ge.FAILED_PRECONDITION||l.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function Mx(n){if(n._initialized||n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Ur.fromBase64String(e))}catch(t){throw new Fe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ol(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class GC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const WN=/^__.*__$/;class ZN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}class xx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class qC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new qC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return ZC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(kx(this.Xa)&&WN.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class KN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||mi(e)}ac(e,t,r,i=!1){return new qC({Xa:e,methodName:t,uc:r,path:Qr.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=mi(n._databaseId);return new KN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zC(n,e,t,r,i,l={}){const d=n.ac(l.merge||l.mergeFields?2:0,e,t,i);GA("Data must be an object, but it was:",d,r);const p=Nx(r,d);let y,w;if(l.merge)y=new bd(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const I=[];for(const S of l.mergeFields){const B=qA(e,S,t);if(!d.contains(B))throw new Fe(ge.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Fx(I,B)||I.push(B)}y=new bd(I),w=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,w=d.fieldTransforms;return new ZN(new di(p),y,w)}class qb extends kp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qb}}function Rx(n,e,t){return new qC({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class jA extends kp{_toFieldTransform(e){return new kd(e.path,new Sd)}isEqual(e){return e instanceof jA}}class YN extends kp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Rx(this,e,!0),r=this.cc.map(l=>Op(l,t)),i=new Vu(r);return new kd(e.path,i)}isEqual(e){return this===e}}class QN extends kp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Rx(this,e,!0),r=this.cc.map(l=>Op(l,t)),i=new Bu(r);return new kd(e.path,i)}isEqual(e){return this===e}}class JN extends kp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Md(e.M,qg(e.M,this.hc));return new kd(e.path,t)}isEqual(e){return this===e}}function HA(n,e,t,r){const i=n.ac(1,e,t);GA("Data must be an object, but it was:",i,r);const l=[],d=di.empty();Lo(r,(y,w)=>{const I=WC(e,y,t);w=(0,Xt.m9)(w);const S=i.sc(I);if(w instanceof qb)l.push(I);else{const B=Op(w,S);null!=B&&(l.push(I),d.set(I,B))}});const p=new bd(l);return new xx(d,p,i.fieldTransforms)}function $A(n,e,t,r,i,l){const d=n.ac(1,e,t),p=[qA(e,r,t)],y=[i];if(l.length%2!=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<l.length;B+=2)p.push(qA(e,l[B])),y.push(l[B+1]);const w=[],I=di.empty();for(let B=p.length-1;B>=0;--B)if(!Fx(w,p[B])){const H=p[B];let W=y[B];W=(0,Xt.m9)(W);const de=d.sc(H);if(W instanceof qb)w.push(H);else{const Be=Op(W,de);null!=Be&&(w.push(H),I.set(H,Be))}}const S=new bd(w);return new xx(I,S,d.fieldTransforms)}function Ox(n,e,t,r=!1){return Op(t,n.ac(r?4:3,e))}function Op(n,e){if(Px(n=(0,Xt.m9)(n)))return GA("Unsupported field value:",e,n),Nx(n,e);if(n instanceof kp)return function(t,r){if(!kx(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let p=Op(d,r.ic(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qg(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Mr.fromDate(t);return{timestampValue:_p(r.M,i)}}if(t instanceof Mr){const i=new Mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_p(r.M,i)}}if(t instanceof GC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ol)return{bytesValue:Ii(r.M,t._byteString)};if(t instanceof er){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${HC(t)}`)}(n,e)}function Nx(n,e){const t={};return yw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(n,(r,i)=>{const l=Op(i,e.tc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Px(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mr||n instanceof GC||n instanceof Ol||n instanceof er||n instanceof kp)}function GA(n,e,t){if(!Px(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=HC(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function qA(n,e,t){if((e=(0,Xt.m9)(e))instanceof tc)return e._internalPath;if("string"==typeof e)return WC(n,e);throw ZC("Field path arguments must be of type string or ",n,!1,void 0,t)}const XN=new RegExp("[~\\*/\\[\\]]");function WC(n,e,t){if(e.search(XN)>=0)throw ZC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch(r){throw ZC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZC(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Fe(ge.INVALID_ARGUMENT,p+n+y)}function Fx(n,e){return n.some(t=>t.isEqual(e))}class zb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class e1 extends zb{data(){return super.data()}}function KC(n,e){return"string"==typeof e?WC(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends zb{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(KC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wb extends nc{data(e={}){return super.data(e)}}class Jd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wb(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Wb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Np(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new Wb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Np(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:t1(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function t1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function Lx(n,e){return n instanceof nc&&e instanceof nc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jd&&e instanceof Jd&&n._firestore===e._firestore&&Tx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Vx(n){if($g(n)&&0===n.explicitOrderBy.length)throw new Fe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zb{}function Xd(n,...e){for(const t of e)n=t._apply(n);return n}class n1 extends Zb{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(i,l,d,p,y,w,I){let S;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Gx(I,w);const H=[];for(const W of I)H.push($x(p,i,W));S={arrayValue:{values:H}}}else S=$x(p,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Gx(I,w),S=Ox(d,"where",I,"in"===w||"not-in"===w);const B=ar.create(y,w,S);return function(H,W){if(W.S()){const Be=Jv(H);if(null!==Be&&!Be.isEqual(W.field))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${W.field.toString()}'`);const ft=hp(H);null!==ft&&qx(0,W.field,ft)}const de=function(Be,ft){for(const bt of Be.filters)if(ft.indexOf(bt.op)>=0)return bt.op;return null}(H,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==de)throw new Fe(ge.INVALID_ARGUMENT,de===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${de.toString()}' filters.`)}(i,B),B}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ji(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class s1 extends Zb{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Nu(i,l);return function(p,y){if(null===hp(p)){const w=Jv(p);null!==w&&qx(0,w,y.field)}}(r,d),d}(e._query,this.lc,this._c);return new Ji(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Pa(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Bx extends Zb{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Ji(e.firestore,e.converter,Fu(e._query,this.wc,this.mc))}}class Ux extends Zb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Hx(e,this.type,this.gc,this.yc);return new Ji(e.firestore,e.converter,(i=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class jx extends Zb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Hx(e,this.type,this.gc,this.yc);return new Ji(e.firestore,e.converter,(i=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Hx(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof zb)return function(i,l,d,p,y){if(!p)throw new Fe(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const I of Td(i))if(I.field.isKeyField())w.push(Ru(l,p.key));else{const S=p.data.field(I.field);if(vl(S))throw new Fe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=I.field.canonicalString();throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}w.push(S)}return new Na(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rp(n.firestore);return function(l,d,p,y,w,I){const S=l.explicitOrderBy;if(w.length>S.length)throw new Fe(ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let H=0;H<w.length;H++){const W=w[H];if(S[H].field.isKeyField()){if("string"!=typeof W)throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof W}`);if(!Ow(l)&&-1!==W.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${W}' contains a slash.`);const de=l.path.child(rn.fromString(W));if(!Ze.isDocumentKey(de))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const Be=new Ze(de);B.push(Ru(d,Be))}else{const de=Ox(p,y,W);B.push(de)}}return new Na(B,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function $x(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&-1!==t.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!Ze.isDocumentKey(r))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ru(n,new Ze(r))}if(t instanceof er)return Ru(n,t._key);throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HC(t)}.`)}function Gx(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qx(n,e,t){if(!t.isEqual(e))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zA{convertValue(e,t="none"){switch(bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return Lo(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new GC(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_w(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const t=Ra(e);return new Mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);Lt(mb(r));const i=new Vo(r.get(1),r.get(3)),l=new Ze(r.popFirst(5));return i.isEqual(t)||Sr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function YC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class f1 extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class zx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const i=eh(e,this._firestore),l=YC(i.converter,t,r),d=zC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,mr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=eh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof tc?$A(this._dataReader,"WriteBatch.update",l._key,t,r,i):HA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=eh(e,this._firestore);return this._mutations=this._mutations.concat(new ju(t._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eh(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Fe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Pp extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function Wx(n,e,t){n=pn(n,er);const r=pn(n.firestore,lr),i=YC(n.converter,e,t);return gy(r,[zC(Rp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,mr.none())])}function Zx(n,e,t,...r){n=pn(n,er);const i=pn(n.firestore,lr),l=Rp(i);let d;return d="string"==typeof(e=(0,Xt.m9)(e))||e instanceof tc?$A(l,"updateDoc",n._key,e,t,r):HA(l,"updateDoc",n._key,e),gy(i,[d.toMutation(n._key,mr.exists(!0))])}function Kx(n,...e){var t,r,i;n=(0,Xt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||UA(e[d])||(l=e[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(UA(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,w,I;if(n instanceof er)w=pn(n.firestore,lr),I=Pu(n._key.path),y={next:S=>{e[d]&&e[d](WA(w,n,S))},error:e[d+1],complete:e[d+2]};else{const S=pn(n,Ji);w=pn(S.firestore,lr),I=S._query;const B=new Pp(w);y={next:H=>{e[d]&&e[d](new Jd(w,B,S,H))},error:e[d+1],complete:e[d+2]},Vx(n._query)}return function(S,B,H,W){const de=new UC(W),Be=new iA(B,de,H);return S.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return XT(yield my(S),Be)})),()=>{de.Ia(),S.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return tA(yield my(S),Be)}))}}(ei(w),I,p,y)}function gy(n,e){return function(t,r){const i=new Br;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function sN(n,e,t){return uA.apply(this,arguments)}(yield LA(t),r,i)})),i.promise}(ei(n),e)}function WA(n,e,t){const r=t.docs.get(e._key),i=new Pp(n);return new nc(n,i,e._key,r,new Np(t.hasPendingWrites,t.fromCache),e.converter)}class C1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=eh(e,this._firestore),r=new f1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const l=i[0];if(l.isFoundDocument())return new zb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new zb(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=eh(e,this._firestore),l=YC(i.converter,t,r),d=zC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=eh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof tc?$A(this._dataReader,"Transaction.update",l._key,t,r,i):HA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=eh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=eh(e,this._firestore),r=new Pp(this._firestore);return super.get(e).then(i=>new nc(this._firestore,r,t._key,i._document,new Np(!1,!1),t.converter))}}function ZA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Qx(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Jx(){if(!function KD(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Su=mu.SDK_VERSION,(0,mu._registerComponent)(new Mf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new lr(i,new GD(t.getProvider("auth-internal")),new pw(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,mu.registerVersion)(dw,"3.4.8",n),(0,mu.registerVersion)(dw,"3.4.8","esm2017")}();class Kb{constructor(e){this._delegate=e}static fromBase64String(e){return Jx(),new Kb(Ol.fromBase64String(e))}static fromUint8Array(e){return Qx(),new Kb(Ol.fromUint8Array(e))}toBase64(){return Jx(),this._delegate.toBase64()}toUint8Array(){return Qx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KA(n){return function R1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class O1{enableIndexedDbPersistence(e,t){return function BN(n,e){Mx(n=pn(n,lr));const t=ei(n),r=n._freezeSettings(),i=new xA;return Sx(t,i,new cx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UN(n){Mx(n=pn(n,lr));const e=ei(n),t=n._freezeSettings(),r=new xA;return Sx(e,r,new EN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jN(n){if(n._initialized&&!n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!gs.vt())return Promise.resolve();const i=r+"main";yield gs.delete(i)}),function(r){return t.apply(this,arguments)})(xb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Xx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function NN(n,e,t,r={}){var i;const l=(n=pn(n,Gb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Jf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=ci.MOCK_USER;else{d=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Fe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ci(y)}n._authCredentials=new ep(new fw(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function $N(n){return function TN(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield px(n),t=yield mx(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.fu.delete(0),Xu(i)}(t)}))}(ei(n=pn(n,lr)))}(this._delegate)}disableNetwork(){return function GN(n){return function AN(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield px(n),t=yield mx(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(i){const l=Je(i);l.fu.add(0),yield kl(l),l.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ei(n=pn(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,vx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function HN(n){return function(e){const t=new Br;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function uN(n,e){return pA.apply(this,arguments)}(yield LA(e),t)})),t.promise}(ei(n=pn(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function w1(n,e){return function xN(n,e){const t=new UC(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield my(n),i=t,Je(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield my(n),i=t,void Je(r).Eu.delete(i);var r,i}))}}(ei(n=pn(n,lr)),UA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yy(this,Ix(this._delegate,e))}catch(t){throw ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ho(this,$C(this._delegate,e))}catch(t){throw ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _s(this,function PN(n,e){if(n=pn(n,Gb),BA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ji(n,null,(t=e,new Pa(rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function I1(n,e){return function kN(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const r=yield(i=n,jC(i).then(l=>l.datastore));var i;new IN(n.asyncQueue,r,e,t).run()})),t.promise}(ei(n=pn(n,lr)),t=>e(new C1(n,t)))}(this._delegate,t=>e(new ek(this,t)))}batch(){return ei(this._delegate),new tk(new zx(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function qN(n,e){const t=ei(n=pn(n,lr)),r=new LN;return function RN(n,e,t,r){const i=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,w){if(y instanceof Uint8Array)return dx(y,w);if(y instanceof ArrayBuffer)return dx(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new wN(y,d);var y}(t,mi(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function bN(n,e,t){const r=Je(n);var i;(i=(0,Ae.Z)(function*(l,d,p){try{const y=yield d.getMetadata();if(yield function(B,H){const W=Je(B),de=Xr(H.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",Be=>W._s.getBundleMetadata(Be,H.id)).then(Be=>!!Be&&Be.createTime.compareTo(de)>=0)}(l.localStore,y))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(B=y).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);p._updateProgress(ex(y));const w=new XO(y,l.localStore,d.M);let I=yield d.da();for(;I;){const B=yield w.ku(I);B&&p._updateProgress(B),I=yield d.da()}const S=yield w.complete();return yield ec(l,S.Fu,void 0),yield function(B,H){const W=Je(B);return W.persistence.runTransaction("Save bundle","readwrite",de=>W._s.saveBundleMetadata(de,H))}(l.localStore,y),p._completeWith(S.progress),Promise.resolve(S.Ou)}catch(y){return Jf("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var B}),function(l,d,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield LA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zN(n,e){return function ON(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield FA(n),e)}))}(ei(n=pn(n,lr)),e).then(t=>t?new Ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _s(this,t):null)}}class QC extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kb(new Ol(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ho.forKey(t,this.firestore,null)}}class ek{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new QC(e)}get(e){const t=Lp(e);return this._delegate.get(t).then(r=>new Yb(this._firestore,new nc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Lp(e);return r?(ZA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Lp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Lp(e);return this._delegate.delete(t),this}}class tk{constructor(e){this._delegate=e}set(e,t,r){const i=Lp(e);return r?(ZA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Lp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Lp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Fp(e,new QC(e),t),i.set(t,l)),l}}Fp.INSTANCES=new WeakMap;class Ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ho(t,new er(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new Ho(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yy(this.firestore,Ix(this._delegate,e))}catch(t){throw ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof er&&Dx(this._delegate,e)}set(e,t){t=ZA("DocumentReference.set",t);try{return t?Wx(this._delegate,e,t):Wx(this._delegate,e)}catch(r){throw ys(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Zx(this._delegate,e):Zx(this._delegate,e,t,...r)}catch(i){throw ys(i,"updateDoc()","DocumentReference.update()")}}delete(){return function b1(n){return gy(pn(n.firestore,lr),[new ju(n._key,mr.none())])}(this._delegate)}onSnapshot(...e){const t=nk(e),r=rk(e,i=>new Yb(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Kx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function m1(n){n=pn(n,er);const e=pn(n.firestore,lr),t=ei(e),r=new Pp(e);return function SN(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const p=yield function(y,w){const I=Je(y);return I.persistence.runTransaction("read document","readonly",S=>I.ci.Ls(S,w))}(i,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Fe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=dy(p,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield FA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new nc(e,r,n._key,i,new Np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function g1(n){n=pn(n,er);const e=pn(n.firestore,lr);return gx(ei(e),n._key,{source:"server"}).then(t=>WA(e,n,t))}(this._delegate):function p1(n){n=pn(n,er);const e=pn(n.firestore,lr);return gx(ei(e),n._key).then(t=>WA(e,n,t))}(this._delegate),t.then(r=>new Yb(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ho(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}function ys(n,e,t){return n.message=n.message.replace(e,t),n}function nk(n){for(const e of n)if("object"==typeof e&&!KA(e))return e;return{}}function rk(n,e){var t,r;let i;return i=KA(n[0])?n[0]:KA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Yb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ho(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Lx(this._delegate,e._delegate)}}class Qb extends Yb{data(e){const t=this._delegate.data(e);return function $D(n,e){n||dt()}(void 0!==t),t}}class _s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QC(e)}where(e,t,r){try{return new _s(this.firestore,Xd(this._delegate,function r1(n,e,t){const r=e,i=KC("where",n);return new n1(i,r,t)}(e,t,r)))}catch(i){throw ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _s(this.firestore,Xd(this._delegate,function o1(n,e="asc"){const t=e,r=KC("orderBy",n);return new s1(r,t)}(e,t)))}catch(r){throw ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _s(this.firestore,Xd(this._delegate,function a1(n){return wx("limit",n),new Bx("limit",n,"F")}(e)))}catch(t){throw ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _s(this.firestore,Xd(this._delegate,function l1(n){return wx("limitToLast",n),new Bx("limitToLast",n,"L")}(e)))}catch(t){throw ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _s(this.firestore,Xd(this._delegate,function u1(...n){return new Ux("startAt",n,!0)}(...e)))}catch(t){throw ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _s(this.firestore,Xd(this._delegate,function c1(...n){return new Ux("startAfter",n,!1)}(...e)))}catch(t){throw ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _s(this.firestore,Xd(this._delegate,function d1(...n){return new jx("endBefore",n,!1)}(...e)))}catch(t){throw ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _s(this.firestore,Xd(this._delegate,function h1(...n){return new jx("endAt",n,!0)}(...e)))}catch(t){throw ys(t,"endAt()","Query.endAt()")}}isEqual(e){return Tx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function _1(n){n=pn(n,Ji);const e=pn(n.firestore,lr),t=ei(e),r=new Pp(e);return function MN(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const p=yield Lb(i,l,!0),y=new rx(l,p.li),w=y.Gu(p.documents),I=y.applyChanges(w,!1);d.resolve(I.snapshot)}catch(p){const y=dy(p,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield FA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Jd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function v1(n){n=pn(n,Ji);const e=pn(n.firestore,lr),t=ei(e),r=new Pp(e);return yx(t,n._query,{source:"server"}).then(i=>new Jd(e,r,n,i))}(this._delegate):function y1(n){n=pn(n,Ji);const e=pn(n.firestore,lr),t=ei(e),r=new Pp(e);return Vx(n._query),yx(t,n._query).then(i=>new Jd(e,r,n,i))}(this._delegate),t.then(r=>new YA(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nk(e),r=rk(e,i=>new YA(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Kx(this._delegate,t,r)}withConverter(e){return new _s(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}class P1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Qb(this._firestore,r))})}isEqual(e){return Lx(this._delegate,e._delegate)}}class yy extends _s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ho(this.firestore,e):null}doc(e){try{return new Ho(this.firestore,void 0===e?$C(this._delegate):$C(this._delegate,e))}catch(t){throw ys(t,"doc()","CollectionReference.doc()")}}add(e){return function E1(n,e){const t=pn(n.firestore,lr),r=$C(n),i=YC(n.converter,e);return gy(t,[zC(Rp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ho(this.firestore,t))}isEqual(e){return Dx(this._delegate,e._delegate)}withConverter(e){return new yy(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}function Lp(n){return pn(n,er)}class QA{constructor(...e){this._delegate=new tc(...e)}static documentId(){return new QA(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function T1(){return new jA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vp(e)}static delete(){const e=function D1(){return new qb("deleteField")}();return e._methodName="FieldValue.delete",new Vp(e)}static arrayUnion(...e){const t=function A1(...n){return new YN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vp(t)}static arrayRemove(...e){const t=function S1(...n){return new QN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vp(t)}static increment(e){const t=function M1(n){return new JN("increment",n)}(e);return t._methodName="FieldValue.increment",new Vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const F1={Firestore:Xx,GeoPoint:GC,Timestamp:Mr,Blob:Kb,Transaction:ek,WriteBatch:tk,DocumentReference:Ho,DocumentSnapshot:Yb,Query:_s,QueryDocumentSnapshot:Qb,QuerySnapshot:YA,CollectionReference:yy,FieldPath:QA,FieldValue:Vp,setLogLevel:function N1(n){!function hw(n){ka.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function V1(n){(function L1(n,e){n.INTERNAL.registerComponent(new Mf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},F1)))})(n,(e,t)=>new Xx(e,t,new O1)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(_D.Z);var ik=O(6451),JC=O(5363),B1=O(6063);class U1 extends Sn.x{constructor(e=1/0,t=1/0,r=B1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)p=y;p&&r.splice(0,p+1)}}}var sk=O(3099);function ok(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,sk.B)({connector:()=>new U1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ak(n,e){return(0,os.m)(e)?Dr(()=>n,e):Dr(()=>n)}var JA=O(9468),XA=O(5867);const lk=new Map,q1={activated:!1,tokenObservers:[]},z1={initialized:!1,enabled:!1};function Di(n){return lk.get(n)||q1}function Ba(n,e){lk.set(n,e)}function eI(){return z1}class Q1{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function J1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ck(n){if(!Di(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function rS(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Ae.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,p;try{d=yield fetch(n,l)}catch(S){throw vs.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==d.status)throw vs.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(S){throw vs.create("fetch-parse-error",{originalErrorMessage:S.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(y[1]),I=Date.now();return{token:p.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),iS.apply(this,arguments)}function rP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Jb="firebase-app-check-store";let rI=null;function hk(){return rI||(rI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Jb,{keyPath:"compositeKey"})}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t.message}))}}),rI)}function sS(){return sS=(0,Ae.Z)(function*(n,e){const r=(yield hk()).transaction(Jb,"readwrite"),l=r.objectStore(Jb).put({compositeKey:n,value:e});return new Promise((d,p)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var w;p(vs.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),sS.apply(this,arguments)}const Xb=new gu.Yd("@firebase/app-check");function gk(n,e){return(0,Xt.hl)()?function aP(n,e){return function fk(n,e){return sS.apply(this,arguments)}(function mk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yk(){return eI().enabled}function _k(){return uS.apply(this,arguments)}function uS(){return uS=(0,Ae.Z)(function*(){const n=eI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),uS.apply(this,arguments)}const fP={error:"UNKNOWN_ERROR"};function pP(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function iI(n){return cS.apply(this,arguments)}function cS(){return cS=(0,Ae.Z)(function*(n,e=!1){const t=n.app;ck(t);const r=Di(t);let l,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&sI(y)&&(i=y)}if(!e&&i&&sI(i))return{token:i.token};let p,d=!1;if(yk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rS(rP(t,yield _k()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const y=yield r.exchangeTokenPromise;return yield gk(t,y),Ba(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Xb.warn(y.message):Xb.error(y),l=y}return i?(p={token:i.token},Ba(t,Object.assign(Object.assign({},r),{token:i})),yield gk(t,i)):p=gP(l),d&&bk(t,p),p}),cS.apply(this,arguments)}function hS(n,e){const t=Di(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ba(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function vk(n){const{app:e}=n,t=Di(e);let r=t.tokenRefresher;r||(r=function mP(n){const{app:e}=n;return new Q1((0,Ae.Z)(function*(){let r;if(r=Di(e).token?yield iI(n,!0):yield iI(n),r.error)throw r.error}),()=>!0,()=>{const t=Di(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ba(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bk(n,e){const t=Di(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function sI(n){return n.expireTimeMillis-Date.now()>0}function gP(n){return{token:pP(fP),error:n}}class yP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Di(this.app);for(const t of e)hS(this.app,t.next);return Promise.resolve()}}const Sk="app-check-internal";!function kP(){(0,mu._registerComponent)(new Mf.wA("app-check",n=>function _P(n,e){return new yP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Sk).initialize()})),(0,mu._registerComponent)(new Mf.wA(Sk,n=>function vP(n){return{getToken:e=>iI(n,e),addTokenListener:e=>function dS(n,e,t,r){const{app:i}=n,l=Di(i),d={next:t,error:r,type:e};if(Ba(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&sI(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),vk(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>vk(n))}(n,"INTERNAL",e),removeTokenListener:e=>hS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mu.registerVersion)("@firebase/app-check","0.5.7")}();class gS{constructor(){return(0,Vr.vb)("app-check")}}"undefined"!=typeof window&&window;var FP=O(127);const xk=new c.OlP("angularfire2.auth.use-emulator"),kk=new c.OlP("angularfire2.auth.settings"),Rk=new c.OlP("angularfire2.auth.tenant-id"),Ok=new c.OlP("angularfire2.auth.langugage-code"),Nk=new c.OlP("angularfire2.auth.use-device-language"),Pk=new c.OlP("angularfire.auth.persistence"),Fk=(n,e,t,r,i,l,d,p)=>(0,ks.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[w,I]of Object.entries(d))y.settings[w]=I;return p&&y.setPersistence(p),y},[t,r,i,l,d,p]);let Lk=(()=>{class n{constructor(t,r,i,l,d,p,y,w,I,S,B,H){const W=new Sn.x,de=vt(void 0).pipe((0,JC.Q)(d.outsideAngular),Dr(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,820)))),(0,Rt.U)(()=>(0,ks.on)(t,l,r)),(0,Rt.U)(Be=>Fk(Be,l,p,w,I,S,y,B)),ok({bufferSize:1,refCount:!1}));if(Gr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{de.pipe(aa()).subscribe();const ft=de.pipe(Dr(ct=>ct.getRedirectResult().then(Gt=>Gt,()=>null)),Vr.iC,ok({bufferSize:1,refCount:!1})),bt=de.pipe(Dr(ct=>new ri.y(Gt=>({unsubscribe:l.runOutsideAngular(()=>ct.onAuthStateChanged(Qt=>Gt.next(Qt),Qt=>Gt.error(Qt),()=>Gt.complete()))})))),Et=de.pipe(Dr(ct=>new ri.y(Gt=>({unsubscribe:l.runOutsideAngular(()=>ct.onIdTokenChanged(Qt=>Gt.next(Qt),Qt=>Gt.error(Qt),()=>Gt.complete()))}))));this.authState=ft.pipe(ak(bt),(0,JA.R)(d.outsideAngular),(0,JC.Q)(d.insideAngular)),this.user=ft.pipe(ak(Et),(0,JA.R)(d.outsideAngular),(0,JC.Q)(d.insideAngular)),this.idToken=this.user.pipe(Dr(ct=>ct?(0,ir.D)(ct.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Dr(ct=>ct?(0,ir.D)(ct.getIdTokenResult()):vt(null))),this.credential=(0,ik.T)(ft,W,this.authState.pipe(Gi(ct=>!ct))).pipe((0,Rt.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,JA.R)(d.outsideAngular),(0,JC.Q)(d.insideAngular))}return(0,ks.pX)(this,de,l,{spy:{apply:(Be,ft,bt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&bt.then(Et=>W.next(Et))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ks.Dh),c.LFG(ks.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vr.HU),c.LFG(xk,8),c.LFG(kk,8),c.LFG(Rk,8),c.LFG(Ok,8),c.LFG(Nk,8),c.LFG(Pk,8),c.LFG(gS,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Vk(n,e){return function VP(n,e=Wi.z){return new ri.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function _S(n,e){return Vk(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function aI(n,e){return _S(n,e).pipe($i(void 0),Jm(),(0,Rt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const y=i.find(I=>I.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function Bk(n,e,t){return aI(n,t).pipe(xi((r,i)=>function UP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function jP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return vS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return vS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),ev(),(0,Rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function vS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Uk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=aI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($i(void 0),Jm(),Gi(([r,i])=>i.length>0||!r),(0,Rt.U)(([r,i])=>i),Vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Uk(e);return Bk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(e={}){return _S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Vr.iC)}get(e){return(0,ir.D)(this.query.get(e)).pipe(Vr.iC)}add(e){return this.ref.add(e)}doc(e){return new Hk(this.ref.doc(e),this.afs)}}class Hk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=qk(r,t);return new jk(i,l,this.afs)}snapshotChanges(){return function BP(n,e){return Vk(n,e).pipe($i(void 0),Jm(),(0,Rt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ir.D)(this.ref.get(e)).pipe(Vr.iC)}}class HP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Gi(t=>t.length>0),Vr.iC):aI(this.query,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Uk(e);return Bk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(e={}){return _S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Vr.iC)}get(e){return(0,ir.D)(this.query.get(e)).pipe(Vr.iC)}}const $k=new c.OlP("angularfire2.enableFirestorePersistence"),Gk=new c.OlP("angularfire2.firestore.persistenceSettings"),$P=new c.OlP("angularfire2.firestore.settings"),GP=new c.OlP("angularfire2.firestore.use-emulator");function qk(n,e=(t=>t)){return{query:e(n),ref:n}}let bS=(()=>{class n{constructor(t,r,i,l,d,p,y,w,I,S,B,H,W,de,Be,ft,bt){this.schedulers=y;const Et=(0,ks.on)(t,p,r),ct=I;S&&Fk(Et,p,B,W,de,Be,H,ft),[this.firestore,this.persistenceEnabled$]=(0,ks.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Gt=p.runOutsideAngular(()=>Et.firestore());if(l&&Gt.settings(l),ct&&Gt.useEmulator(...ct),i&&!Gr(d)){const Qt=()=>{try{return(0,ir.D)(Gt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(En){return"undefined"!=typeof console&&console.warn(En),vt(!1)}};return[Gt,p.runOutsideAngular(Qt)]}return[Gt,vt(!1)]},[l,ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=qk(i,r),p=this.schedulers.ngZone.run(()=>l);return new jk(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new HP(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Hk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ks.Dh),c.LFG(ks.xv,8),c.LFG($k,8),c.LFG($P,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vr.HU),c.LFG(Gk,8),c.LFG(GP,8),c.LFG(Lk,8),c.LFG(xk,8),c.LFG(kk,8),c.LFG(Rk,8),c.LFG(Ok,8),c.LFG(Nk,8),c.LFG(Pk,8),c.LFG(gS,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qP=(()=>{class n{constructor(){FP.Z.registerVersion("angularfire",Vr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$k,useValue:!0},{provide:Gk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bS]}),n})(),e0=(()=>{class n{constructor(t){this.firestore=t,this.firestore.collection("dishes").snapshotChanges().subscribe(r=>{const i=r.map(l=>l.payload.doc.data());this.dishes=i})}addNewDish(t){return new Promise((r,i)=>{this.firestore.collection("dishes").add(t).then(l=>{},l=>i(l))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zP=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function WP(){return(0,c.f3M)(re)}}),ZP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ES,YP=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function KP(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ZP.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zP,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{ES="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ES=!1}let _y,th=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ir(n){return n===Ko}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ES)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Kk(){if(_y)return _y;if("object"!=typeof document||!document)return _y=new Set(Zk),_y;let n=document.createElement("input");return _y=new Set(Zk.filter(e=>(n.setAttribute("type",e),n.type===e))),_y}let t0,wS;function lI(n){return function QP(){if(null==t0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>t0=!0}))}finally{t0=t0||!1}return t0}()?n:!!n.capture}function n0(n){return n.composedPath?n.composedPath()[0]:n.target}var aF=O(5032);function r0(n){return(0,Pr.e)((e,t)=>{(0,qs.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),aF.Z)),!t.closed&&e.subscribe(t)})}function Ti(n){return null!=n&&"false"!=`${n}`}function s0(n,e=0){return function lF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function nh(n){return n instanceof c.SBq?n.nativeElement:n}function Xk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function eR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const gF=new c.OlP("cdk-input-modality-detector-options"),yF={ignoreKeys:[18,17,224,91,16]},vy=lI({passive:!0,capture:!0});let _F=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new _i(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,y;(null===(y=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===y?void 0:y.some(w=>w===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=n0(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xk(d)?"keyboard":"mouse"),this._mostRecentTarget=n0(d))},this._onTouchstart=d=>{eR(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=n0(d))},this._options=Object.assign(Object.assign({},yF),l),this.modalityDetected=this._modality.pipe(function oF(n){return Gi((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(ev()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,vy),i.addEventListener("mousedown",this._onMousedown,vy),i.addEventListener("touchstart",this._onTouchstart,vy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vy),document.removeEventListener("mousedown",this._onMousedown,vy),document.removeEventListener("touchstart",this._onTouchstart,vy))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(th),c.LFG(c.R0b),c.LFG(re),c.LFG(gF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bF=new c.OlP("cdk-focus-monitor-default-options"),cI=lI({passive:!0,capture:!0});let CS=(()=>{class n{constructor(t,r,i,l,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Sn.x,this._rootNodeFocusAndBlurListener=p=>{const y=n0(p),w="focus"===p.type?this._onFocus:this._onBlur;for(let I=y;I;I=I.parentElement)w.call(this,p,I)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,r=!1){const i=nh(t);if(!this._platform.isBrowser||1!==i.nodeType)return vt(null);const l=function XP(n){if(function JP(){if(null==wS){const n="undefined"!=typeof document?document.head:null;wS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wS}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const p={checkChildren:r,subject:new Sn.x,rootNode:l};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=nh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=nh(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,y])=>this._originChanged(p,r,y)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=n0(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,cI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,cI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(r0(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(th),c.LFG(_F),c.LFG(re,8),c.LFG(bF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nR="cdk-high-contrast-black-on-white",rR="cdk-high-contrast-white-on-black",IS="cdk-high-contrast-active";let EF=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(IS),t.remove(nR),t.remove(rR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(IS),t.add(nR)):2===r&&(t.add(IS),t.add(rR))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(th),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iR{}const rc="*";function CF(n,e){return{type:7,name:n,definitions:e,options:{}}}function IF(n,e=null){return{type:4,styles:e,timings:n}}function sR(n,e=null){return{type:2,steps:n,options:e}}function dI(n){return{type:6,styles:n,offset:null}}function DF(n,e,t){return{type:0,name:n,styles:e,options:t}}function TF(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oR(n){Promise.resolve(null).then(n)}class o0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?oR(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const un=!1;function lR(n){return new c.vHH(3e3,un)}function oL(){return"undefined"!=typeof window&&void 0!==window.document}function TS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function rh(n){switch(n.length){case 0:return new o0;case 1:return n[0];default:return new aR(n)}}function uR(n,e,t,r,i={},l={}){const d=[],p=[];let y=-1,w=null;if(r.forEach(I=>{const S=I.offset,B=S==y,H=B&&w||{};Object.keys(I).forEach(W=>{let de=W,Be=I[W];if("offset"!==W)switch(de=e.normalizePropertyName(de,d),Be){case"!":Be=i[W];break;case rc:Be=l[W];break;default:Be=e.normalizeStyleValue(W,de,Be,d)}H[de]=Be}),B||p.push(H),w=H,y=S}),d.length)throw function KF(n){return new c.vHH(3502,un)}();return p}function AS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&SS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&SS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&SS(t,"destroy",n)))}}function SS(n,e,t){const r=t.totalTime,l=MS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function MS(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function lo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function cR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let xS=(n,e)=>!1,dR=(n,e,t)=>[],hR=null;function kS(n){const e=n.parentNode||n.host;return e===hR?null:e}(TS()||"undefined"!=typeof Element)&&(oL()?(hR=(()=>document.documentElement)(),xS=(n,e)=>{for(;e;){if(e===n)return!0;e=kS(e)}return!1}):xS=(n,e)=>n.contains(e),dR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Up=null,fR=!1;function pR(n){Up||(Up=function lL(){return"undefined"!=typeof document?document.body:null}()||{},fR=!!Up.style&&"WebkitAppearance"in Up.style);let e=!0;return Up.style&&!function aL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Up.style,!e&&fR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Up.style)),e}const mR=xS,gR=dR;let yR=(()=>{class n{validateStyleProperty(t){return pR(t)}matchesElement(t,r){return!1}containsElement(t,r){return mR(t,r)}getParentElement(t){return kS(t)}query(t,r,i){return gR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,p=[],y){return new o0(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),RS=(()=>{class n{}return n.NOOP=new yR,n})();const OS="ng-enter",fI="ng-leave",pI="ng-trigger",mI=".ng-trigger",vR="ng-animating",NS=".ng-animating";function jp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PS(parseFloat(e[1]),e[2])}function PS(n,e){return"s"===e?1e3*n:n}function gI(n,e,t){return n.hasOwnProperty("duration")?n:function dL(n,e,t){let i,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(lR()),{duration:0,delay:0,easing:""};i=PS(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=PS(parseFloat(y),p[4]));const w=p[5];w&&(d=w)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function AF(){return new c.vHH(3100,un)}()),p=!0),l<0&&(e.push(function SF(){return new c.vHH(3101,un)}()),p=!0),p&&e.splice(y,0,lR())}return{duration:i,delay:l,easing:d}}(n,e,t)}function by(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ih(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else by(n,t);return t}function ER(n,e,t){return t?e+":"+t+";":""}function wR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ER(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ER(0,pL(t),n.style[t]));n.setAttribute("style",e)}function Nl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=LS(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),TS()&&wR(n))}function Hp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=LS(t);n.style[r]=""}),TS()&&wR(n))}function a0(n){return Array.isArray(n)?1==n.length?n[0]:sR(n):n}const FS=new RegExp("{{\\s*(.+?)\\s*}}","g");function CR(n){let e=[];if("string"==typeof n){let t;for(;t=FS.exec(n);)e.push(t[1]);FS.lastIndex=0}return e}function yI(n,e,t){const r=n.toString(),i=r.replace(FS,(l,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(function xF(n){return new c.vHH(3003,un)}()),p=""),p.toString()});return i==r?n:i}function _I(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fL=/-+([a-z0-9])/g;function LS(n){return n.replace(fL,(...e)=>e[1].toUpperCase())}function pL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kF(n){return new c.vHH(3004,un)}()}}function IR(n,e){return window.getComputedStyle(n)[e]}function bL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function EL(n,e,t){if(":"==n[0]){const y=function wL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qF(n){return new c.vHH(3016,un)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function GF(n){return new c.vHH(3015,un)}()),e;const i=r[1],l=r[2],d=r[3];e.push(DR(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(DR(d,i))}(r,t,e)):t.push(n),t}const wI=new Set(["true","1"]),CI=new Set(["false","0"]);function DR(n,e){const t=wI.has(n)||CI.has(n),r=wI.has(e)||CI.has(e);return(i,l)=>{let d="*"==n||n==i,p="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?wI.has(n):CI.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?wI.has(e):CI.has(e)),d&&p}}const CL=new RegExp("s*:selfs*,?","g");function VS(n,e,t,r){return new IL(n).build(e,t,r)}class IL{constructor(e){this._driver=e}build(e,t,r){const i=new AL(t);this._resetContextStyleTimingState(i);const l=uo(this,a0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function OF(){return new c.vHH(3006,un)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,w=y.name;w.toString().split(/\s*,\s*/).forEach(I=>{y.name=I,l.push(this.visitState(y,t))}),y.name=w}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function NF(){return new c.vHH(3007,un)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};r.styles.forEach(p=>{if(II(p)){const y=p;Object.keys(y).forEach(w=>{CR(y[w]).forEach(I=>{d.hasOwnProperty(I)||l.add(I)})})}}),l.size&&(_I(l.values()),t.errors.push(function PF(n,e){return new c.vHH(3008,un)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=uo(this,a0(e.animation),t);return{type:1,matchers:bL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:$p(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>uo(this,r,t)),options:$p(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const p=uo(this,d,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:$p(e.options)}}visitAnimate(e,t){const r=function ML(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return BS(gI(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=BS(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||gI(r,e),BS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:dI({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,p=!1;if(!d){p=!0;const w={};r.easing&&(w.easing=r.easing),d=dI(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==rc?r.push(d):t.errors.push(function FF(n){return new c.vHH(3002,un)}()):r.push(d)}):r.push(e.styles);let i=!1,l=null;return r.forEach(d=>{if(II(d)){const p=d,y=p.easing;if(y&&(l=y,delete p.easing),!i)for(let w in p)if(p[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],w=y[p];let I=!0;w&&(l!=i&&l>=w.startTime&&i<=w.endTime&&(t.errors.push(function LF(n,e,t,r,i){return new c.vHH(3010,un)}()),I=!1),l=w.startTime),I&&(y[p]={startTime:l,endTime:i}),t.options&&function hL(n,e,t){const r=e.params||{},i=CR(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function MF(n){return new c.vHH(3001,un)}())})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function VF(){return new c.vHH(3011,un)}()),r;let l=0;const d=[];let p=!1,y=!1,w=0;const I=e.steps.map(ft=>{const bt=this._makeStyleAst(ft,t);let Et=null!=bt.offset?bt.offset:function SL(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(II(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(II(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(bt.styles),ct=0;return null!=Et&&(l++,ct=bt.offset=Et),y=y||ct<0||ct>1,p=p||ct<w,w=ct,d.push(ct),bt});y&&t.errors.push(function BF(){return new c.vHH(3012,un)}()),p&&t.errors.push(function UF(){return new c.vHH(3200,un)}());const S=e.steps.length;let B=0;l>0&&l<S?t.errors.push(function jF(){return new c.vHH(3202,un)}()):0==l&&(B=1/(S-1));const H=S-1,W=t.currentTime,de=t.currentAnimateTimings,Be=de.duration;return I.forEach((ft,bt)=>{const Et=B>0?bt==H?1:B*bt:d[bt],ct=Et*Be;t.currentTime=W+de.delay+ct,de.duration=ct,this._validateStyleAst(ft,t),ft.offset=Et,r.styles.push(ft)}),r}visitReference(e,t){return{type:8,animation:uo(this,a0(e.animation),t),options:$p(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:$p(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:$p(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function DL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(CL,"")),n=n.replace(/@\*/g,mI).replace(/@\w+/g,t=>mI+"-"+t.substr(1)).replace(/:animating/g,NS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,lo(t.collectedStyles,t.currentQuerySelector,{});const p=uo(this,a0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:$p(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function HF(){return new c.vHH(3013,un)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gI(e.timings,t.errors,!0);return{type:12,animation:uo(this,a0(e.animation),t),timings:r,options:null}}}class AL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function II(n){return!Array.isArray(n)&&"object"==typeof n}function $p(n){return n?(n=by(n)).params&&(n.params=function TL(n){return n?by(n):null}(n.params)):n={},n}function BS(n,e,t){return{duration:n,delay:e,easing:t}}function US(n,e,t,r,i,l,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:p}}class DI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RL=new RegExp(":enter","g"),NL=new RegExp(":leave","g");function jS(n,e,t,r,i,l={},d={},p,y,w=[]){return(new PL).buildKeyframes(n,e,t,r,i,l,d,p,y,w)}class PL{buildKeyframes(e,t,r,i,l,d,p,y,w,I=[]){w=w||new DI;const S=new HS(e,t,w,i,l,I,[]);S.options=y,S.currentTimeline.setStyles([d],null,S.errors,y),uo(this,r,S);const B=S.timelines.filter(H=>H.containsAnimation());if(Object.keys(p).length){let H;for(let W=B.length-1;W>=0;W--){const de=B[W];if(de.element===t){H=de;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([p],null,S.errors,y)}return B.length?B.map(H=>H.buildKeyframes()):[US(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?jp(r.duration):null,p=null!=r.delay?jp(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,p);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=TI);const d=jp(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>uo(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?jp(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),uo(this,d,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gI(t.params?yI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?jp(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TI);let d=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((w,I)=>{t.currentQueryIndex=I;const S=t.createSubContext(e.options,w);l&&S.delayNextStep(l),w===t.element&&(y=S.currentTimeline),uo(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),p=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const I=t.currentTimeline;y&&I.delayNextStep(y);const S=I.currentTime;uo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const TI={};class HS{constructor(e,t,r,i,l,d,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new AI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=jp(r.duration)),null!=r.delay&&(i.delay=jp(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=yI(l[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new HS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=TI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new FL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(RL,"."+this._enterClassName)).replace(NL,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!l&&0==p.length&&d.push(function $F(n){return new c.vHH(3014,un)}()),p}}class AI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||rc,this._currentKeyframe[t]=rc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},d=function LL(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=rc})):ih(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const y=yI(d[p],l,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:rc),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const w=ih(p,!0);Object.keys(w).forEach(I=>{const S=w[I];"!"==S?e.add(I):S==rc&&t.add(I)}),r||(w.offset=y/this.duration),i.push(w)});const l=e.size?_I(e.values()):[],d=t.size?_I(t.values()):[];if(r){const p=i[0],y=by(p);p.offset=0,y.offset=1,i=[p,y]}return US(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class FL extends AI{constructor(e,t,r,i,l,d,p=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,p=t/d,y=ih(e[0],!1);y.offset=0,l.push(y);const w=ih(e[0],!1);w.offset=SR(p),l.push(w);const I=e.length-1;for(let S=1;S<=I;S++){let B=ih(e[S],!1);B.offset=SR((t+B.offset*r)/d),l.push(B)}r=d,t=0,i="",e=l}return US(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function SR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class $S{}class VL extends $S{normalizePropertyName(e,t){return LS(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if(BL[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function RF(n,e){return new c.vHH(3005,un)}())}return d+l}}const BL=(()=>function UL(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function MR(n,e,t,r,i,l,d,p,y,w,I,S,B){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:p,queriedElements:y,preStyleProps:w,postStyleProps:I,totalTime:S,errors:B}}const GS={};class xR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jL(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,i,l,d,p,y,w,I){const S=[],B=this.ast.options&&this.ast.options.params||GS,W=this.buildStyles(r,p&&p.params||GS,S),de=y&&y.params||GS,Be=this.buildStyles(i,de,S),ft=new Set,bt=new Map,Et=new Map,ct="void"===i,Gt={params:Object.assign(Object.assign({},B),de)},Qt=I?[]:jS(e,t,this.ast.animation,l,d,W,Be,Gt,w,S);let En=0;if(Qt.forEach(ic=>{En=Math.max(ic.duration+ic.delay,En)}),S.length)return MR(t,this._triggerName,r,i,ct,W,Be,[],[],bt,Et,En,S);Qt.forEach(ic=>{const sc=ic.element,kO=lo(bt,sc,{});ic.preStyleProps.forEach(zp=>kO[zp]=!0);const h0=lo(Et,sc,{});ic.postStyleProps.forEach(zp=>h0[zp]=!0),sc!==t&&ft.add(sc)});const Li=_I(ft.values());return MR(t,this._triggerName,r,i,ct,W,Be,Qt,Li,bt,Et,En)}}class HL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=by(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(i[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(p=>{let y=d[p];y.length>1&&(y=yI(y,i,t));const w=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,w,y,t),r[w]=y})}}),r}}class GL{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new HL(i.style,i.options&&i.options.params||{},r)}),kR(this.states,"true","1"),kR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new xR(e,i,this.states))}),this.fallbackTransition=function qL(n,e,t){return new xR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function kR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zL=new DI;class WL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=VS(this._driver,t,r,[]);if(r.length)throw function YF(n){return new c.vHH(3503,un)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=uR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let d;const p=new Map;if(l?(d=jS(this._driver,t,l,OS,fI,{},{},r,zL,i),d.forEach(I=>{const S=lo(p,I.element,{});I.postStyleProps.forEach(B=>S[B]=null)})):(i.push(function QF(){return new c.vHH(3300,un)}()),d=[]),i.length)throw function JF(n){return new c.vHH(3504,un)}();p.forEach((I,S)=>{Object.keys(I).forEach(B=>{I[B]=this._driver.computeStyle(S,B,rc)})});const w=rh(d.map(I=>{const S=p.get(I.element);return this._buildPlayer(I,{},S)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function XF(n){return new c.vHH(3301,un)}();return t}listen(e,t,r,i){const l=MS(t,"","","");return AS(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const RR="ng-animate-queued",qS="ng-animate-disabled",JL=[],OR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$o="__ng_removed";class zS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rV(n){return null!=n?n:null}(r?e.value:e),r){const l=by(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const l0="void",WS=new zS(l0);class eV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Go(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function eL(n,e){return new c.vHH(3302,un)}();if(null==r||0==r.length)throw function tL(n){return new c.vHH(3303,un)}();if(!function iV(n){return"start"==n||"done"==n}(r))throw function nL(n,e){return new c.vHH(3400,un)}();const l=lo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const p=lo(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Go(e,pI),Go(e,pI+"-"+t),p[t]=WS),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(d);y>=0&&l.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function rL(n){return new c.vHH(3401,un)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new ZS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Go(e,pI),Go(e,pI+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const w=new zS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),p[t]=w,y||(y=WS),w.value!==l0&&y.value===w.value){if(!function aV(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,w.params)){const de=[],Be=l.matchStyles(y.value,y.params,de),ft=l.matchStyles(w.value,w.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Hp(e,Be),Nl(e,ft)})}return}const B=lo(this._engine.playersByElement,e,[]);B.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let H=l.matchTransition(y.value,w.value,e,w.params),W=!1;if(!H){if(!i)return;H=l.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:w,player:d,isFallbackTransition:W}),W||(Go(e,RR),d.onStart(()=>{Ey(e,RR)})),d.onDone(()=>{let de=this.players.indexOf(d);de>=0&&this.players.splice(de,1);const Be=this._engine.playersByElement.get(e);if(Be){let ft=Be.indexOf(d);ft>=0&&Be.splice(ft,1)}}),this.players.push(d),B.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,mI,!0);r.forEach(i=>{if(i[$o])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const p=[];if(Object.keys(l).forEach(y=>{if(d.set(y,l[y].value),this._triggers[y]){const w=this.trigger(e,y,l0,i);w&&p.push(w)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&rh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const y=this._triggers[d].fallbackTransition,w=r[d]||WS,I=new zS(l0),S=new ZS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:I,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[$o];(!l||l===OR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Go(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==r.triggerName){const y=MS(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,AS(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class tV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=l;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const d=r[i[l]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(SI(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!SI(t))return;const l=t[$o];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Go(e,qS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ey(e,qS))}removeNode(e,t,r,i){if(SI(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[$o]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return SI(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,mI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,NS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[$o];if(r&&r.setForRemoval){if(e[$o]=OR,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Go(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?rh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function iL(n){return new c.vHH(3402,un)}()}_flushAnimations(e,t){const r=new DI,i=[],l=new Map,d=[],p=new Map,y=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(mt=>{I.add(mt);const At=this.driver.query(mt,".ng-animate-queued",!0);for(let Vt=0;Vt<At.length;Vt++)I.add(At[Vt])});const S=this.bodyNode,B=Array.from(this.statesByElement.keys()),H=FR(B,this.collectedEnterElements),W=new Map;let de=0;H.forEach((mt,At)=>{const Vt=OS+de++;W.set(At,Vt),mt.forEach(gn=>Go(gn,Vt))});const Be=[],ft=new Set,bt=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const At=this.collectedLeaveElements[mt],Vt=At[$o];Vt&&Vt.setForRemoval&&(Be.push(At),ft.add(At),Vt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(gn=>ft.add(gn)):bt.add(At))}const Et=new Map,ct=FR(B,Array.from(ft));ct.forEach((mt,At)=>{const Vt=fI+de++;Et.set(At,Vt),mt.forEach(gn=>Go(gn,Vt))}),e.push(()=>{H.forEach((mt,At)=>{const Vt=W.get(At);mt.forEach(gn=>Ey(gn,Vt))}),ct.forEach((mt,At)=>{const Vt=Et.get(At);mt.forEach(gn=>Ey(gn,Vt))}),Be.forEach(mt=>{this.processLeaveNode(mt)})});const Gt=[],Qt=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Vt=>{const gn=Vt.player,Ai=Vt.element;if(Gt.push(gn),this.collectedEnterElements.length){const Es=Ai[$o];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(Vt.triggerName)){const Wp=Es.previousTriggersValues.get(Vt.triggerName),lh=this.statesByElement.get(Vt.element);lh&&lh[Vt.triggerName]&&(lh[Vt.triggerName].value=Wp)}return void gn.destroy()}}const Fl=!S||!this.driver.containsElement(S,Ai),co=Et.get(Ai),ah=W.get(Ai),yr=this._buildInstruction(Vt,r,ah,co,Fl);if(yr.errors&&yr.errors.length)return void Qt.push(yr);if(Fl)return gn.onStart(()=>Hp(Ai,yr.fromStyles)),gn.onDestroy(()=>Nl(Ai,yr.toStyles)),void i.push(gn);if(Vt.isFallbackTransition)return gn.onStart(()=>Hp(Ai,yr.fromStyles)),gn.onDestroy(()=>Nl(Ai,yr.toStyles)),void i.push(gn);const NO=[];yr.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||NO.push(Es)}),yr.timelines=NO,r.append(Ai,yr.timelines),d.push({instruction:yr,player:gn,element:Ai}),yr.queriedElements.forEach(Es=>lo(p,Es,[]).push(gn)),yr.preStyleProps.forEach((Es,Wp)=>{const lh=Object.keys(Es);if(lh.length){let Zp=y.get(Wp);Zp||y.set(Wp,Zp=new Set),lh.forEach(sM=>Zp.add(sM))}}),yr.postStyleProps.forEach((Es,Wp)=>{const lh=Object.keys(Es);let Zp=w.get(Wp);Zp||w.set(Wp,Zp=new Set),lh.forEach(sM=>Zp.add(sM))})});if(Qt.length){const mt=[];Qt.forEach(At=>{mt.push(function sL(n,e){return new c.vHH(3505,un)}())}),Gt.forEach(At=>At.destroy()),this.reportError(mt)}const En=new Map,Li=new Map;d.forEach(mt=>{const At=mt.element;r.has(At)&&(Li.set(At,At),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,En))}),i.forEach(mt=>{const At=mt.element;this._getPreviousPlayers(At,!1,mt.namespaceId,mt.triggerName,null).forEach(gn=>{lo(En,At,[]).push(gn),gn.destroy()})});const ic=Be.filter(mt=>VR(mt,y,w)),sc=new Map;PR(sc,this.driver,bt,w,rc).forEach(mt=>{VR(mt,y,w)&&ic.push(mt)});const h0=new Map;H.forEach((mt,At)=>{PR(h0,this.driver,new Set(mt),y,"!")}),ic.forEach(mt=>{const At=sc.get(mt),Vt=h0.get(mt);sc.set(mt,Object.assign(Object.assign({},At),Vt))});const zp=[],RO=[],OO={};d.forEach(mt=>{const{element:At,player:Vt,instruction:gn}=mt;if(r.has(At)){if(I.has(At))return Vt.onDestroy(()=>Nl(At,gn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(gn.totalTime),void i.push(Vt);let Ai=OO;if(Li.size>1){let co=At;const ah=[];for(;co=co.parentNode;){const yr=Li.get(co);if(yr){Ai=yr;break}ah.push(co)}ah.forEach(yr=>Li.set(yr,Ai))}const Fl=this._buildAnimation(Vt.namespaceId,gn,En,l,h0,sc);if(Vt.setRealPlayer(Fl),Ai===OO)zp.push(Vt);else{const co=this.playersByElement.get(Ai);co&&co.length&&(Vt.parentPlayer=rh(co)),i.push(Vt)}}else Hp(At,gn.fromStyles),Vt.onDestroy(()=>Nl(At,gn.toStyles)),RO.push(Vt),I.has(At)&&i.push(Vt)}),RO.forEach(mt=>{const At=l.get(mt.element);if(At&&At.length){const Vt=rh(At);mt.setRealPlayer(Vt)}}),i.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<Be.length;mt++){const At=Be[mt],Vt=At[$o];if(Ey(At,fI),Vt&&Vt.hasAnimation)continue;let gn=[];if(p.size){let Fl=p.get(At);Fl&&Fl.length&&gn.push(...Fl);let co=this.driver.query(At,NS,!0);for(let ah=0;ah<co.length;ah++){let yr=p.get(co[ah]);yr&&yr.length&&gn.push(...yr)}}const Ai=gn.filter(Fl=>!Fl.destroyed);Ai.length?sV(this,At,Ai):this.processLeaveNode(At)}return Be.length=0,zp.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const At=this.players.indexOf(mt);this.players.splice(At,1)}),mt.play()}),zp}elementContainsData(e,t){let r=!1;const i=t[$o];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==l0;p.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,I=w!==l,S=lo(r,w,[]);this._getPreviousPlayers(w,I,d,p,t.toState).forEach(H=>{const W=H.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),H.destroy(),S.push(H)})}Hp(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const p=t.triggerName,y=t.element,w=[],I=new Set,S=new Set,B=t.timelines.map(W=>{const de=W.element;I.add(de);const Be=de[$o];if(Be&&Be.removedBeforeQueried)return new o0(W.duration,W.delay);const ft=de!==y,bt=function oV(n){const e=[];return LR(n,e),e}((r.get(de)||JL).map(En=>En.getRealPlayer())).filter(En=>!!En.element&&En.element===de),Et=l.get(de),ct=d.get(de),Gt=uR(0,this._normalizer,0,W.keyframes,Et,ct),Qt=this._buildPlayer(W,Gt,bt);if(W.subTimeline&&i&&S.add(de),ft){const En=new ZS(e,p,de);En.setRealPlayer(Qt),w.push(En)}return Qt});w.forEach(W=>{lo(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function nV(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,W.element,W))}),I.forEach(W=>Go(W,vR));const H=rh(B);return H.onDestroy(()=>{I.forEach(W=>Ey(W,vR)),Nl(y,t.toStyles)}),S.forEach(W=>{lo(i,W,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new o0(e.duration,e.delay)}}class ZS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new o0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>AS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function SI(n){return n&&1===n.nodeType}function NR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function PR(n,e,t,r,i){const l=[];t.forEach(y=>l.push(NR(y)));const d=[];r.forEach((y,w)=>{const I={};y.forEach(S=>{const B=I[S]=e.computeStyle(w,S,i);(!B||0==B.length)&&(w[$o]=XL,d.push(w))}),n.set(w,I)});let p=0;return t.forEach(y=>NR(y,l[p++])),d}function FR(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(p){if(!p)return 1;let y=l.get(p);if(y)return y;const w=p.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),l.set(p,y),y}return e.forEach(p=>{const y=d(p);1!==y&&t.get(y).push(p)}),t}function Go(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ey(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function sV(n,e,t){rh(t).onDone(()=>n.processLeaveNode(e))}function LR(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aR?LR(r.players,e):e.push(r)}}function VR(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class MI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new tV(e,t,r),this._timelineEngine=new WL(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let p=this._triggerCache[d];if(!p){const y=[],I=VS(this._driver,l,y,[]);if(y.length)throw function ZF(n,e){return new c.vHH(3404,un)}();p=function $L(n,e,t){return new GL(n,e,t)}(i,I,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=cR(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,p]=cR(r);return this._timelineEngine.listen(d,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nl(this._element,this._initialStyles),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hp(this._element,this._endStyles),this._endStyles=null),Nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];cV(i)&&(e=e||{},e[i]=n[i])}return e}function cV(n){return"display"===n||"position"===n}class BR{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:IR(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dV{validateStyleProperty(e){return pR(e)}matchesElement(e,t){return!1}containsElement(e,t){return mR(e,t)}getParentElement(e){return kS(e)}query(e,t,r){return gR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const w={},I=d.filter(B=>B instanceof BR);(function mL(n,e){return 0===n||0===e})(r,i)&&I.forEach(B=>{let H=B.currentSnapshot;Object.keys(H).forEach(W=>w[W]=H[W])}),t=function gL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(p=>{l.hasOwnProperty(p)||d.push(p),l[p]=t[p]}),d.length)for(var i=1;i<e.length;i++){let p=e[i];d.forEach(function(y){p[y]=IR(n,y)})}}return e}(e,t=t.map(B=>ih(B,!1)),w);const S=function lV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=KS(e[0]),e.length>1&&(r=KS(e[e.length-1]))):e&&(t=KS(e)),t||r?new uV(n,t,r):null}(e,t);return new BR(e,t,y,S)}}let hV=(()=>{class n extends iR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?sR(t):t;return UR(this._renderer,null,r,"register",[i]),new fV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fV extends class wF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pV(this._id,e,t||{},this._renderer)}}class pV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return UR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function UR(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const jR="@.disabled";let mV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const p=null==d?void 0:d.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(l);return I||(I=new HR("",l,this.engine),this._rendererCache.set(l,I)),I}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=I=>{Array.isArray(I)?I.forEach(y):this.engine.registerTrigger(d,p,t,I.name,I)};return r.data.animation.forEach(y),new gV(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(MI),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class HR{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==jR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gV extends HR{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jR?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function _V(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let vV=(()=>{class n extends MI{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(RS),c.LFG($S))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Gp=new c.OlP("AnimationModuleType"),$R=[{provide:iR,useClass:hV},{provide:$S,useFactory:function bV(){return new VL}},{provide:MI,useClass:vV},{provide:c.FYo,useFactory:function EV(n,e,t){return new mV(n,e,t)},deps:[Gn,MI,c.R0b]}],GR=[{provide:RS,useFactory:()=>new dV},{provide:Gp,useValue:"BrowserAnimations"},...$R],wV=[{provide:RS,useClass:yR},{provide:Gp,useValue:"NoopAnimations"},...$R];let CV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?wV:GR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:GR,imports:[_c]}),n})();const DV=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function IV(){return!0}});let bs=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function eF(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EF),c.LFG(DV,8),c.LFG(re))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[zk],zk]}),n})();function TV(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ti(e)}}}function zR(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function YS(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ti(e)}}}function AV(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?s0(t):this.defaultTabIndex}}}function SV(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Sn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let WR=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xV{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZR={enterDuration:225,exitDuration:150},QS=lI({passive:!0}),KR=["mousedown","touchstart"],YR=["mouseup","mouseleave","touchend","touchcancel"];class RV{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=nh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},ZR),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function NV(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,y=t-i.top,w=l.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=p-d+"px",I.style.top=y-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function OV(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const S=new xV(this,I,r);return S.state=0,this._activeRipples.add(S),r.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const B=S===this._mostRecentTransientRipple;S.state=1,!r.persistent&&(!B||!this._isPointerDown)&&S.fadeOut()},w),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},ZR),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=nh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(KR))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(YR),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Xk(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!eR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,QS)})})}_removeTriggerEvents(){this._triggerElement&&(KR.forEach(e=>{this._triggerElement.removeEventListener(e,this,QS)}),this._pointerUpEventsRegistered&&YR.forEach(e=>{this._triggerElement.removeEventListener(e,this,QS)}))}}const PV=new c.OlP("mat-ripple-global-options");let kI=(()=>{class n{constructor(t,r,i,l,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new RV(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(th),c.Y36(PV,8),c.Y36(Gp,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),JS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bs],bs]}),n})(),LV=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VV=["input"],BV=function(n){return{enterDuration:n}},UV=["*"],jV=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function HV(){return{color:"accent"}}});let QR=0;const $V={provide:xs,useExisting:(0,c.Gpc)(()=>eO),multi:!0};class JR{constructor(e,t){this.source=e,this.value=t}}const XR=new c.OlP("MatRadioGroup");let GV=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+QR++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Ti(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Ti(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new JR(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),eO=(()=>{class n extends GV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,tO,5),2&t){let l;c.iGM(l=c.CRH())&&(r._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([$V,{provide:XR,useExisting:n}]),c.qOj]}),n})();class qV{constructor(e){this._elementRef=e}}const zV=YS(AV(qV));let WV=(()=>{class n extends zV{constructor(t,r,i,l,d,p,y,w){super(r),this._changeDetector=i,this._focusMonitor=l,this._radioDispatcher=d,this._providerOverride=y,this._uniqueId="mat-radio-"+ ++QR,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,w&&(this.tabIndex=s0(w,0)),this._removeUniqueSelectionListener=d.listen((I,S)=>{I!==this.id&&S===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const r=Ti(t);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Ti(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Ti(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new JR(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf(VV,5),2&t){let i;c.iGM(i=c.CRH())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]}),n})(),tO=(()=>{class n extends WV{constructor(t,r,i,l,d,p,y,w){super(t,r,i,l,d,p,y,w)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(XR,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(CS),c.Y36(LV),c.Y36(Gp,8),c.Y36(jV,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&t&&(c.uIk("tabindex",null)("id",r.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-radio-checked",r.checked)("mat-radio-disabled",r.disabled)("_mat-animation-noopable",r._noopAnimations)("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:UV,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,r){if(1&t&&(c.F$t(),c.TgZ(0,"label",0,1)(2,"span",2),c._UZ(3,"span",3)(4,"span",4),c.TgZ(5,"input",5,6),c.NdJ("change",function(l){return r._onInputInteraction(l)})("click",function(l){return r._onInputClick(l)}),c.qZA(),c.TgZ(7,"span",7),c._UZ(8,"span",8),c.qZA()(),c.TgZ(9,"span",9)(10,"span",10),c._uU(11,"\xa0"),c.qZA(),c.Hsn(12),c.qZA()()),2&t){const i=c.MAs(1);c.uIk("for",r.inputId),c.xp6(5),c.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex)("required",r.required),c.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),c.xp6(2),c.Q6J("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",c.VKq(18,BV,r._noopAnimations?0:150)),c.xp6(2),c.ekj("mat-radio-label-before","before"==r.labelPosition)}},directives:[kI],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),nO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[JS,bs],bs]}),n})(),rO=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KV=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=nh(t);return new ri.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Sn.x,i=this._mutationObserverFactory.create(l=>r.next(l));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YV=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ti(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=s0(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function ZV(n,e=Wi.z){return(0,Pr.e)((t,r)=>{let i=null,l=null,d=null;const p=()=>{if(i){i.unsubscribe(),i=null;const w=l;l=null,r.next(w)}};function y(){const w=d+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);p()}t.subscribe((0,Vn.x)(r,w=>{l=w,d=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{l=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(KV),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rO]}),n})();var JV=O(1144);const XV=["addListener","removeListener"],e2=["addEventListener","removeEventListener"],t2=["on","off"];function RI(n,e,t,r){if((0,os.m)(t)&&(r=t,t=void 0),r)return RI(n,e,t).pipe(Ah(r));const[i,l]=function s2(n){return(0,os.m)(n.addEventListener)&&(0,os.m)(n.removeEventListener)}(n)?e2.map(d=>p=>n[d](e,p,t)):function n2(n){return(0,os.m)(n.addListener)&&(0,os.m)(n.removeListener)}(n)?XV.map(iO(n,e)):function r2(n){return(0,os.m)(n.on)&&(0,os.m)(n.off)}(n)?t2.map(iO(n,e)):[];if(!i&&(0,JV.z)(n))return(0,zn.z)(d=>RI(d,e,t))((0,qs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ri.y(d=>{const p=(...y)=>d.next(1<y.length?y:y[0]);return i(p),()=>l(p)})}function iO(n,e){return t=>r=>n[t](e,r)}const o2=["connectionContainer"],a2=["inputContainer"],l2=["label"];function u2(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function c2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function d2(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function h2(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function f2(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function p2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,d2,4,1,"ng-container",12),c.YNc(3,h2,1,0,"ng-content",12),c.YNc(4,f2,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function m2(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function g2(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function y2(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function _2(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function v2(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,_2,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const b2=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],E2=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let w2=0;const sO=new c.OlP("MatError");let C2=(()=>{class n{constructor(t,r){this.id="mat-error-"+w2++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("id",r.id)},inputs:{id:"id"},features:[c._Bn([{provide:sO,useExisting:n}])]}),n})();const I2={transitionMessages:CF("transitionMessages",[DF("enter",dI({opacity:1,transform:"translateY(0%)"})),TF("void => enter",[dI({opacity:0,transform:"translateY(-5px)"}),IF("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let XS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const D2=new c.OlP("MatHint");let eM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const A2=new c.OlP("MatPrefix"),S2=new c.OlP("MatSuffix");let oO=0;const x2=zR(class{constructor(n){this._elementRef=n}},"primary"),k2=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lO=new c.OlP("MatFormField");let R2=(()=>{class n extends x2{constructor(t,r,i,l,d,p,y){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=l,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Sn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+oO++,this._labelId="mat-form-field-label-"+oO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ti(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe($i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(r0(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(r0(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ik.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(r0(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,RI(this._label.nativeElement,"transitionend").pipe((0,sa.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,i=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${l}`);for(let S=0;S<I.length;S++)I[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,p=0;const y=r.querySelectorAll(i),w=r.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(I),B=t.children,H=this._getStartEnd(B[0].getBoundingClientRect());let W=0;for(let de=0;de<B.length;de++)W+=B[de].offsetWidth;d=Math.abs(H-S)-5,p=W>0?.75*W+10:0}for(let I=0;I<y.length;I++)y[I].style.width=`${d}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(YP,8),c.Y36(k2,8),c.Y36(th),c.Y36(c.R0b),c.Y36(Gp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,XS,5),c.Suo(i,XS,7),c.Suo(i,eM,5),c.Suo(i,eM,7),c.Suo(i,T2,5),c.Suo(i,sO,5),c.Suo(i,D2,5),c.Suo(i,A2,5),c.Suo(i,S2,5)),2&t){let l;c.iGM(l=c.CRH())&&(r._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(r._controlStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(r._placeholderChild=l.first),c.iGM(l=c.CRH())&&(r._errorChildren=l),c.iGM(l=c.CRH())&&(r._hintChildren=l),c.iGM(l=c.CRH())&&(r._prefixChildren=l),c.iGM(l=c.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(c.Gf(o2,7),c.Gf(a2,5),c.Gf(l2,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._connectionContainerRef=i.first),c.iGM(i=c.CRH())&&(r._inputContainerRef=i.first),c.iGM(i=c.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:lO,useExisting:n}]),c.qOj],ngContentSelectors:E2,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(c.F$t(b2),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),c.YNc(3,u2,9,0,"ng-container",3),c.YNc(4,c2,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,p2,5,16,"label",8),c.qZA()(),c.YNc(10,m2,2,0,"div",9),c.qZA(),c.YNc(11,g2,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,y2,2,1,"div",12),c.YNc(14,v2,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==r.appearance),c.xp6(1),c.Q6J("ngIf",r._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",r._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",r._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=r.appearance),c.xp6(1),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Hr,YV,$r,Cr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[I2.transitionMessages]},changeDetection:0}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ji,bs,QV],bs]}),n})();var N2=O(3532);function L2(n,e=Wi.z){return function O2(n){return(0,Pr.e)((e,t)=>{let r=!1,i=null,l=null,d=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const w=i;i=null,t.next(w)}d&&t.complete()},y=()=>{l=null,d&&t.complete()};e.subscribe((0,Vn.x)(t,w=>{r=!0,i=w,l||(0,qs.Xf)(n(w)).subscribe(l=(0,Vn.x)(t,p,y))},()=>{d=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>function F2(n=0,e,t=Wi.P){let r=-1;return null!=e&&((0,N2.K)(e)?t=e:r=e),new ri.y(i=>{let l=function P2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(n,e))}const uO=lI({passive:!0});let V2=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ia.E;const r=nh(t),i=this._monitoredElements.get(r);if(i)return i.subject;const l=new Sn.x,d="cdk-text-field-autofilled",p=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,uO),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",p,uO)}}),l}stopMonitoring(t){const r=nh(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(th),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B2=(()=>{class n{constructor(t,r,i,l){this._elementRef=t,this._platform=r,this._ngZone=i,this._destroyed=new Sn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=d=>{this._hasFocus="focus"===d.type},this._document=l,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=s0(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=s0(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=Ti(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{RI(this._getWindow(),"resize").pipe(L2(16),r0(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,r=t.style.marginBottom||"",i=this._platform.FIREFOX,l=i&&this._hasFocus,d=i?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";l&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(d);const p=t.scrollHeight-4;return t.classList.remove(d),l&&(t.style.marginBottom=r),p}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const r=this._elementRef.nativeElement,i=r.value;if(!t&&this._minRows===this._previousMinRows&&i===this._previousValue)return;const l=this._measureScrollHeight(),d=Math.max(l,this._cachedPlaceholderHeight||0);r.style.height=`${d}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(r)):setTimeout(()=>this._scrollToCaretPosition(r))}),this._previousValue=i,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:r,selectionEnd:i}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(th),c.Y36(c.R0b),c.Y36(re,8))},n.\u0275dir=c.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,r){1&t&&c.NdJ("input",function(){return r._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),NI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const U2=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),j2=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let H2=0;const $2=SV(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let G2=(()=>{class n extends $2{constructor(t,r,i,l,d,p,y,w,I,S){super(p,l,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+H2++,this.focused=!1,this.stateChanges=new Sn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(W=>Kk().has(W));const B=this._elementRef.nativeElement,H=B.nodeName.toLowerCase();this._inputValueAccessor=y||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",W=>{const de=W.target;!de.value&&0===de.selectionStart&&0===de.selectionEnd&&(de.setSelectionRange(1,1),de.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ti(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Oo.required))&&void 0!==l&&l}set required(t){this._required=Ti(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Kk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ti(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=i,i?l.setAttribute("placeholder",i):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){j2.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(th),c.Y36(no,10),c.Y36(L_,8),c.Y36(If,8),c.Y36(WR),c.Y36(U2,10),c.Y36(V2),c.Y36(c.R0b),c.Y36(lO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(c.Ikx("disabled",r.disabled)("required",r.required),c.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),c.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:XS,useExisting:n}]),c.qOj,c.TTD]}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[WR],imports:[[NI,OI,bs],NI,OI]}),n})();const q2=["mat-button",""],z2=["*"],Z2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],K2=zR(TV(YS(class{constructor(n){this._elementRef=n}})));let tM=(()=>{class n extends K2{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of Z2)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(CS),c.Y36(Gp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&c.Gf(kI,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:q2,ngContentSelectors:z2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[kI],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[JS,bs],bs]}),n})();function Y2(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"input",34),c.NdJ("close",function(){return c.CHM(t),c.oxw().addIngredient()})("keydown",function(i){return c.CHM(t),c.oxw().onKeydownMain(i)}),c.qZA(),c.TgZ(2,"button",35),c.NdJ("click",function(){const l=c.CHM(t).index;return c.oxw().closeFieldIngridient(l)}),c._uU(3,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0456\u043d\u0433\u0440\u0456\u0434\u0456\u0454\u043d\u0442"),c.qZA(),c.BQk()}if(2&n){const t=e.index,r=c.oxw();c.xp6(1),c.Q6J("formControlName",t),c.xp6(1),c.Q6J("disabled",r.shouldDisableDeleteButton())}}function Q2(n,e){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),c.qZA())}function J2(n,e){1&n&&(c.TgZ(0,"p",36),c._uU(1,"\u041f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0443\u0441\u0456 \u043f\u043e\u043b\u044f!"),c.qZA())}var Pl=(()=>(function(n){n.Type="type",n.Title="title",n.Ingredients="ingredients",n.Receipt="receipt",n.Author="author"}(Pl||(Pl={})),Pl))();let X2=(()=>{class n{constructor(t,r,i){this.fb=t,this.store=r,this.firestore=i,this.field=Pl,this.disableButtonClose=!0,this.o=function l(d){return 1!=d?d*l(d-1):1}}ngOnInit(){this.form=this.fb.group({[Pl.Type]:["",Oo.required],[Pl.Title]:["",Oo.required],[Pl.Receipt]:["",Oo.required],[Pl.Author]:["",Oo.required],[Pl.Ingredients]:this.fb.array([new Kc("",Oo.required)])}),this.form.valueChanges.subscribe(t=>{console.log(this.form)})}getIngredients(){return this.form.get(this.field.Ingredients)}addIngredient(){this.form.get(this.field.Ingredients).push(new Kc("",Oo.required)),this.disableButtonClose=!1}submit(){const t=this.form.getRawValue();this.store.addNewDish(t),this.form.reset(),alert("\u0420\u0435\u0446\u0435\u043f\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e"),this.form.setControl(Pl.Ingredients,this.fb.array([new Kc("",Oo.required)],Oo.required))}closeFieldIngridient(t){this.form.get(this.field.Ingredients).removeAt(t)}shouldDisableAddButton(){var t;return!!(null===(t=this.form.get(this.field.Ingredients))||void 0===t?void 0:t.invalid)}shouldDisableDeleteButton(){var t;return(null===(t=this.form.get(this.field.Ingredients))||void 0===t?void 0:t.length)<2}onKeydownMain(t){("Enter"===t.key||"Tab"===t.key)&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yD),c.Y36(e0),c.Y36(bS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-add-recipe"]],decls:69,vars:11,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"cont"],[3,"formGroup"],[1,"form-group"],[3,"formControlName"],["value","breakfasts"],["value","firstDishs"],["value","appetizers"],["value","salads"],["value","garnishs"],["value","desserts"],["value","drinks"],["value","fish"],["value","meat"],["value","grill"],["value","bakes"],["value","conservations"],["placeholder","\u0412\u043f\u0438\u0448\u0456\u0442\u044c \u0441\u044e\u0434\u0438 \u043d\u0430\u0437\u0432\u0443 \u0441\u0442\u0440\u0430\u0432\u0438",1,"input-name-dish","matInput",3,"formControlName"],[1,"ingridients"],[1,"add-lessons-form"],[3,"formArrayName"],[4,"ngFor","ngForOf"],[1,"add-ingredient",3,"disabled","click"],[1,"receipt"],["appearance","outline"],["id","playceholder-textarea"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10",3,"formControlName"],[4,"ngIf"],["placeholder","\u0412\u043f\u0438\u0448\u0456\u0442\u044c \u0441\u044e\u0434\u0438 \u0441\u0432\u043e\u0454 \u0456\u043c'\u044f",1,"author-name",3,"formControlName"],["id","eror",4,"ngIf"],["mat-button","","color","blue",3,"disabled","click"],["placeholder","\u0412\u043f\u0438\u0448\u0456\u0442\u044c \u0441\u044e\u0434\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u043e\u0434\u0438\u043d \u0456\u043d\u0433\u0440\u0456\u0434\u0456\u0454\u043d\u0442","required","","matInput","",1,"ingridient-input",3,"formControlName","close","keydown"],[1,"close-field-ingridient",3,"disabled","click"],["id","eror"]],template:function(t,r){if(1&t&&(c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),c.TgZ(5,"title"),c._uU(6,"Document"),c.qZA()(),c.TgZ(7,"body")(8,"h2"),c._uU(9," \u0414\u041e\u0414\u0410\u0422\u0418 \u0420\u0415\u0426\u0415\u041f\u0422"),c.qZA(),c.TgZ(10,"div",4)(11,"form",5)(12,"div",6)(13,"h3"),c._uU(14,"\u0412\u0438\u0434 \u0441\u0442\u0440\u0430\u0432\u0438"),c.qZA(),c.TgZ(15,"mat-radio-group",7)(16,"mat-radio-button",8),c._uU(17,"\u0421\u043d\u0456\u0434\u0430\u043d\u043a\u0438"),c.qZA(),c.TgZ(18,"mat-radio-button",9),c._uU(19,"\u041f\u0435\u0440\u0448\u0456 \u0421\u0442\u0440\u0430\u0432\u0438"),c.qZA(),c.TgZ(20,"mat-radio-button",10),c._uU(21,"\u0417\u0430\u043a\u0443\u0441\u043a\u0438"),c.qZA(),c.TgZ(22,"mat-radio-button",11),c._uU(23,"\u0421\u0430\u043b\u0430\u0442\u0438"),c.qZA(),c.TgZ(24,"mat-radio-button",12),c._uU(25,"\u0413\u0430\u0440\u043d\u0456\u0440\u0438"),c.qZA(),c.TgZ(26,"mat-radio-button",13),c._uU(27,"\u0414\u0435\u0441\u0435\u0440\u0442\u0438"),c.qZA(),c.TgZ(28,"mat-radio-button",14),c._uU(29,"\u041d\u0430\u043f\u043e\u0457"),c.qZA(),c.TgZ(30,"mat-radio-button",15),c._uU(31,"\u0420\u0438\u0431\u0430"),c.qZA(),c.TgZ(32,"mat-radio-button",16),c._uU(33,"\u041c'\u044f\u0441\u043e"),c.qZA(),c.TgZ(34,"mat-radio-button",17),c._uU(35,"\u0413\u0440\u0438\u043b\u044c"),c.qZA(),c.TgZ(36,"mat-radio-button",18),c._uU(37,"\u0412\u0438\u043f\u0456\u0447\u043a\u0430"),c.qZA(),c.TgZ(38,"mat-radio-button",19),c._uU(39,"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u0430\u0446\u0456\u0457"),c.qZA()()(),c._UZ(40,"hr"),c.TgZ(41,"div",6)(42,"h3"),c._uU(43,"\u041d\u0430\u0437\u0432\u0430 \u0441\u0442\u0440\u0430\u0432\u0438"),c.qZA(),c._UZ(44,"br")(45,"input",20),c.qZA(),c._UZ(46,"hr"),c.TgZ(47,"div",21)(48,"h3"),c._uU(49,"\u0406\u043d\u0433\u0440\u0456\u0434\u0456\u0454\u043d\u0442\u0438"),c.qZA(),c.TgZ(50,"div",22),c.ynx(51,23),c.YNc(52,Y2,4,2,"ng-container",24),c.BQk(),c.TgZ(53,"button",25),c.NdJ("click",function(){return r.addIngredient()}),c._uU(54," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0456\u043d\u0433\u0440\u0456\u0434\u0456\u0454\u043d\u0442 "),c.qZA()()(),c._UZ(55,"hr"),c.TgZ(56,"div",26)(57,"h3"),c._uU(58,"\u0420\u0435\u0446\u0435\u043f\u0442"),c.qZA(),c._UZ(59,"br"),c.TgZ(60,"mat-form-field",27)(61,"mat-label",28),c._uU(62,"\u0412\u043f\u0438\u0448\u0456\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442 \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u044e\u0434\u0438"),c.qZA(),c._UZ(63,"textarea",29),c.YNc(64,Q2,2,0,"mat-error",30),c.qZA()(),c._UZ(65,"input",31),c.YNc(66,J2,2,0,"p",32),c.TgZ(67,"button",33),c.NdJ("click",function(){return r.submit()}),c._uU(68," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 "),c.qZA()()()()()),2&t){let i;c.xp6(11),c.Q6J("formGroup",r.form),c.xp6(4),c.Q6J("formControlName",r.field.Type),c.xp6(30),c.Q6J("formControlName",r.field.Title),c.xp6(6),c.Q6J("formArrayName",r.field.Ingredients),c.xp6(1),c.Q6J("ngForOf",r.getIngredients().controls),c.xp6(1),c.Q6J("disabled",r.shouldDisableAddButton()),c.xp6(10),c.Q6J("formControlName",r.field.Receipt),c.xp6(1),c.Q6J("ngIf",null==(i=r.form.get(r.field.Receipt))?null:i.invalid),c.xp6(1),c.Q6J("formControlName",r.field.Author),c.xp6(1),c.Q6J("ngIf",!r.form.valid),c.xp6(1),c.Q6J("disabled",!r.form.valid)}},directives:[U_,G0,If,eO,$0,Df,tO,Nm,fu,Jn,G2,Ym,R2,eM,B2,Hr,C2,tM],styles:['@charset "UTF-8";mat-radio-button[_ngcontent-%COMP%]{margin-left:1vw}h2[_ngcontent-%COMP%]{text-align:center;font-weight:400}h3[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:center;font-size:20px;border:#92b1fa solid 1px;width:200px;border-radius:40%;background-color:#fff;font-weight:400}.cont[_ngcontent-%COMP%]{border:#b4cbff solid 2px;padding:15px}mat-radio-button[_ngcontent-%COMP%]{margin:2vw;padding-left:50px}hr[_ngcontent-%COMP%]{border:#b4cbff solid 1px}.input-name-dish[_ngcontent-%COMP%]{display:flex;width:90vw;background-color:#fff;border:1px solid #86c1f8;text-align:start;font-size:1rem;outline:none;padding:.4rem}#receipt[_ngcontent-%COMP%]{display:flex;background-color:#fff;border:1px solid #86c1f8;outline:none;align-content:flex-start;font-size:1rem}.mat-button[_ngcontent-%COMP%]{font-size:1rem;margin-top:1vw;margin-left:auto;margin-right:auto;display:flex;background-color:#8cb2fa}#eror[_ngcontent-%COMP%]{color:red;text-align:center;font-size:1rem;margin:2vw}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#d5f8f8;padding:1vw;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}[_nghost-%COMP%]   .add-lessons-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #86c1f8;margin:2vw 0;padding-left:1vw;width:90vw}[_nghost-%COMP%]   .ingridient-input[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.4rem}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:80vw}[_nghost-%COMP%]   \\430[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{width:95vw;font-size:1rem;padding-bottom:5px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#98bffa}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90vw}[_nghost-%COMP%]   .cdk-textarea-autosize[_ngcontent-%COMP%]{width:90vw}[_nghost-%COMP%]   .add-ingredient[_ngcontent-%COMP%]{margin-left:3vw;background-color:#8cb2fa;border-radius:5px;margin-bottom:1vw;padding:.4rem;font-weight:500;border:none}[_nghost-%COMP%]   .close-field-ingridient[_ngcontent-%COMP%]{background-color:#ea2a2a99;border-radius:5px;margin-bottom:1vw;padding:.4rem;font-weight:500;border:none}[_ngcontent-%COMP%]::placeholder{color:#565656;font-size:1rem}.author-name[_ngcontent-%COMP%]{border-radius:5px;border:none;font-size:1rem;padding:.35rem}']}),n})(),eB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contakt"]],decls:3,vars:0,consts:[[1,"kontaktu"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"email: saz9002@gmail.com"),c.qZA()())},styles:[".kontaktu[_ngcontent-%COMP%]{display:flex;padding:2vw}"]}),n})();function tB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",4),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().onDishClick(l)}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.title)}}let nB=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.store=i}ngOnInit(){this.route.params.subscribe(t=>{this.type=t.type,this.dishes=this.store.dishes.filter(r=>r.type===t.type)})}onDishClick(t){this.router.navigate([`main/${this.type}/${t.title}`])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wr),c.Y36(cs),c.Y36(e0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dishes"]],decls:5,vars:1,consts:[[1,"breakfast-container"],[1,"breakfest-button"],["mat-stroked-button","",3,"click",4,"ngFor","ngForOf"],[1,"breakfast-field"],["mat-stroked-button","",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,tB,2,1,"button",2),c.qZA(),c.TgZ(3,"div",3),c._UZ(4,"router-outlet"),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.dishes))},directives:[Jn,tM,ga],styles:[".breakfest-button[_ngcontent-%COMP%]{border-right:2px solid #b4cbff;width:170px}.breakfast-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}button[_ngcontent-%COMP%]{text-align:left;height:-moz-fit-content;height:fit-content;display:block;white-space:normal;line-height:normal;font-size:medium;margin:10px;width:150px;background-color:#cbd7f8;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.breakfast-field[_ngcontent-%COMP%]{word-wrap:break-word;padding:15px}@media screen and (max-width: 800px){.breakfast-container[_ngcontent-%COMP%]{flex-direction:column}.breakfast-container[_ngcontent-%COMP%]   .breakfest-button[_ngcontent-%COMP%]{border-right:none}.breakfast-field[_ngcontent-%COMP%]{width:100vw;padding:2px}}"]}),n})();const rB=["*",[["mat-card-footer"]]],iB=["*","mat-card-footer"],sB=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],oB=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),uB=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:iB,decls:2,vars:0,template:function(t,r){1&t&&(c.F$t(rB),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),cB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:oB,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(c.F$t(sB),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bs],bs]}),n})();function dB(n,e){if(1&n&&c._UZ(0,"img",6),2&n){const t=c.oxw();c.MGl("src","assets/",t.dish.photo,".jpg",c.LSH)}}function hB(n,e){if(1&n&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}function fB(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.dish.author," ")}}let pB=(()=>{class n{constructor(t,r){this.route=t,this.store=r}ngOnInit(){this.route.params.subscribe(t=>{this.dish=this.store.dishes.find(r=>r.title===t.title)||this.store.dishes[0]})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cs),c.Y36(e0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dish"]],decls:13,vars:5,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["class","photo",3,"src",4,"ngIf"],[1,"text"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"photo",3,"src"]],template:function(t,r){1&t&&(c.TgZ(0,"mat-card",0)(1,"mat-card-header"),c._UZ(2,"div",1),c.TgZ(3,"mat-card-subtitle")(4,"h3"),c._uU(5),c.qZA()()(),c.YNc(6,dB,1,1,"img",2),c.TgZ(7,"div",3)(8,"ul"),c.YNc(9,hB,2,1,"li",4),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.YNc(12,fB,2,1,"p",5),c.qZA()()),2&t&&(c.xp6(5),c.Oqu(r.dish.title),c.xp6(1),c.Q6J("ngIf",!!r.dish.photo),c.xp6(3),c.Q6J("ngForOf",r.dish.ingredients),c.xp6(2),c.hij(" ",r.dish.receipt," "),c.xp6(1),c.Q6J("ngIf",r.dish.author))},directives:[uB,cB,lB,aB,Hr,Jn],styles:[".photo[_ngcontent-%COMP%]{width:30vw;height:auto;display:flex;margin:auto}@media screen and (max-width: 800px){.photo[_ngcontent-%COMP%]{width:50vw}}"]}),n})();const mB=function(n,e){return{active:n,inactive:e}},gB=[{path:"main",component:(()=>{class n{constructor(t,r,i){this.storeService=t,this.router=r,this.route=i,this.active=!0}ngOnInit(){this.route.url.subscribe(t=>{t[0].path&&(this.active=!0)}),this.active="/main"===this.router.url}onTypeButtonClick(t){this.router.navigate([`main/${t}`]),this.route.url.subscribe(r=>{this.active="/main"===this.router.url})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(e0),c.Y36(Wr),c.Y36(cs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],decls:28,vars:4,consts:[[1,"main-container"],[1,"main-button",3,"ngClass"],["mat-flat-button","",3,"click"],[1,"main-field"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("breakfasts")}),c._uU(3,"\u0421\u043d\u0456\u0434\u0430\u043d\u043a\u0438"),c.qZA(),c.TgZ(4,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("firstDishs")}),c._uU(5,"\u041f\u0435\u0440\u0448\u0456 \u0421\u0442\u0440\u0430\u0432\u0438"),c.qZA(),c.TgZ(6,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("appetizers")}),c._uU(7,"\u0417\u0430\u043a\u0443\u0441\u043a\u0438"),c.qZA(),c.TgZ(8,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("salads")}),c._uU(9,"\u0421\u0430\u043b\u0430\u0442\u0438 "),c.qZA(),c.TgZ(10,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("garnishs")}),c._uU(11,"\u0413\u0430\u0440\u043d\u0456\u0440\u0438"),c.qZA(),c.TgZ(12,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("desserts")}),c._uU(13,"\u0414\u0435\u0441\u0435\u0440\u0442\u0438"),c.qZA(),c.TgZ(14,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("drinks")}),c._uU(15,"\u041d\u0430\u043f\u043e\u0457"),c.qZA(),c.TgZ(16,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("fish")}),c._uU(17,"\u0420\u0438\u0431\u0430"),c.qZA(),c.TgZ(18,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("meat")}),c._uU(19,"\u041c'\u044f\u0441\u043e"),c.qZA(),c.TgZ(20,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("grill")}),c._uU(21,"\u0413\u0440\u0438\u043b\u044c"),c.qZA(),c.TgZ(22,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("bakes")}),c._uU(23,"\u0412\u0438\u043f\u0456\u0447\u043a\u0430"),c.qZA(),c.TgZ(24,"button",2),c.NdJ("click",function(){return r.onTypeButtonClick("conservations")}),c._uU(25,"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u0430\u0446\u0456\u0457"),c.qZA()(),c.TgZ(26,"div",3),c._UZ(27,"router-outlet"),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("ngClass",c.WLB(1,mB,r.active,!r.active)))},directives:[ws,tM,ga],styles:[".main-container[_ngcontent-%COMP%]{display:flex;background-color:#dbf5eb;height:100vh}.main-button[_ngcontent-%COMP%]{padding:1vw;width:max-content;border-right:2px solid #b7c1ff}.mat-flat-button[_ngcontent-%COMP%]{color:#6573f0;background-color:#fff;border:1px solid #b7c1ff;text-align:left;font-size:1rem;margin:.3rem;display:block;width:9rem;border-radius:15px}@media screen and (max-width: 800px){.main-container[_ngcontent-%COMP%]{width:100vw}.main-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{display:block}.main-container[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{display:none}.mat-flat-button[_ngcontent-%COMP%]{border-radius:15px}}"]}),n})(),children:[{path:":type",component:nB,children:[{path:":title",component:pB}]}]},{path:"addRecipe",component:X2},{path:"contakt",component:eB}];let yB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[gf.forRoot(gB)],gf]}),n})();var _B=O(6148);let vB=(()=>{class n{constructor(t,r){this.router=t,this.storeService=r,this.title="cook"}goToPage(t){this.router.navigate([t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wr),c.Y36(e0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"container"],[1,"head"],[1,"head-button",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return r.goToPage("main")}),c._uU(3,"\u0420\u0435\u0446\u0435\u043f\u0442\u0438"),c.qZA(),c.TgZ(4,"button",2),c.NdJ("click",function(){return r.goToPage("addRecipe")}),c._uU(5,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u0435\u0446\u0435\u043f\u0442"),c.qZA(),c.TgZ(6,"button",2),c.NdJ("click",function(){return r.goToPage("contakt")}),c._uU(7,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),c.qZA()(),c._UZ(8,"router-outlet"),c.qZA())},directives:[ga],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#dbf5eb;border-bottom:2px solid #b4cbff}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .head-button[_ngcontent-%COMP%]{color:#1a26c7;background-color:#ecf6f7;margin:1vw;border:solid 2px #b2bcf5;font-weight:500;font-size:1rem;border-radius:20px;padding:.4rem}"]}),n})();const EB=(0,XA.ZF)({apiKey:"AIzaSyCWFFyCm_o6NZyQ3oweY9UXjT4d2k20W1U",authDomain:"andrii-cook.firebaseapp.com",databaseURL:"https://andrii-cook-default-rtdb.europe-west1.firebasedatabase.app",projectId:"andrii-cook",storageBucket:"andrii-cook.appspot.com",messagingSenderId:"760675137580",appId:"1:760675137580:web:90e4221648c8e7792bb989",measurementId:"G-J63Y3PDZKE"});(0,_B.IH)(EB);let yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bs,JS],bs]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bs],bs]}),n})();const $B=[dO,hO,yO,nO,OI,cO,MO],GB=[NI];let qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[...$B,...GB],dO,hO,yO,nO,OI,cO,MO,NI]}),n})();const xO_firebaseConfig={apiKey:"AIzaSyCWFFyCm_o6NZyQ3oweY9UXjT4d2k20W1U",authDomain:"andrii-cook.firebaseapp.com",databaseURL:"https://andrii-cook-default-rtdb.europe-west1.firebasedatabase.app",projectId:"andrii-cook",storageBucket:"andrii-cook.appspot.com",messagingSenderId:"760675137580",appId:"1:760675137580:web:90e4221648c8e7792bb989",measurementId:"G-J63Y3PDZKE"};let zB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[vB]}),n.\u0275inj=c.cJS({providers:[],imports:[[_c,yB,CV,qB,Yc,bE,ks.hO.initializeApp(xO_firebaseConfig),qP]]}),n})();(0,c.G48)(),Dy().bootstrapModule(zB).catch(n=>console.error(n))},6148:(ht,Re,O)=>{O.d(Re,{IH:()=>nr,Gb:()=>qt});var c=O(5861),Y=O(9681),L=O(1877),se=O(2090),oe=O(4859);O(2833);const re="analytics",ye="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",te="https://www.googletagmanager.com/gtag/js",Ue=new L.Yd("@firebase/analytics");function Ie(J){return Promise.all(J.map(pe=>pe.catch(De=>De)))}function Pe(J,pe){const De=document.createElement("script");De.src=`${te}?l=${J}&id=${pe}`,De.async=!0,document.head.appendChild(De)}function me(J,pe,De,F,k,U){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(J,pe,De,F,k,U){const X=F[k];try{if(X)yield pe[X];else{const Se=(yield Ie(De)).find(st=>st.measurementId===k);Se&&(yield pe[Se.appId])}}catch(z){Ue.error(z)}J("config",k,U)})).apply(this,arguments)}function nt(J,pe,De,F,k){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(J,pe,De,F,k){try{let U=[];if(k&&k.send_to){let X=k.send_to;Array.isArray(X)||(X=[X]);const z=yield Ie(De);for(const Se of X){const st=z.find(Dn=>Dn.measurementId===Se),Ut=st&&pe[st.appId];if(!Ut){U=[];break}U.push(Ut)}}0===U.length&&(U=Object.values(pe)),yield Promise.all(U),J("event",F,k||{})}catch(U){Ue.error(U)}})).apply(this,arguments)}function Ce(){const J=window.document.getElementsByTagName("script");for(const pe of Object.values(J))if(pe.src&&pe.src.includes(te))return pe;return null}const je=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_e=new class ae{constructor(pe={},De=1e3){this.throttleMetadata=pe,this.intervalMillis=De}getThrottleMetadata(pe){return this.throttleMetadata[pe]}setThrottleMetadata(pe,De){this.throttleMetadata[pe]=De}deleteThrottleMetadata(pe){delete this.throttleMetadata[pe]}};function ue(J){return new Headers({Accept:"application/json","x-goog-api-key":J})}function Le(J){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(J){var pe;const{appId:De,apiKey:F}=J,k={method:"GET",headers:ue(F)},U=G.replace("{app-id}",De),X=yield fetch(U,k);if(200!==X.status&&304!==X.status){let z="";try{const Se=yield X.json();(null===(pe=Se.error)||void 0===pe?void 0:pe.message)&&(z=Se.error.message)}catch(Se){}throw je.create("config-fetch-failed",{httpStatus:X.status,responseMessage:z})}return X.json()})).apply(this,arguments)}function It(J){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(J,pe=_e,De){const{appId:F,apiKey:k,measurementId:U}=J.options;if(!F)throw je.create("no-app-id");if(!k){if(U)return{measurementId:U,appId:F};throw je.create("no-api-key")}const X=pe.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},z=new _n;return setTimeout((0,c.Z)(function*(){z.abort()}),void 0!==De?De:6e4),mn({appId:F,apiKey:k,measurementId:U},X,z,pe)})).apply(this,arguments)}function mn(J,pe,De){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(J,{throttleEndTimeMillis:pe,backoffCount:De},F,k=_e){const{appId:U,measurementId:X}=J;try{yield _t(F,pe)}catch(z){if(X)return Ue.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${X} provided in the "measurementId" field in the local Firebase config. [${z.message}]`),{appId:U,measurementId:X};throw z}try{const z=yield Le(J);return k.deleteThrottleMetadata(U),z}catch(z){if(!yn(z)){if(k.deleteThrottleMetadata(U),X)return Ue.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${X} provided in the "measurementId" field in the local Firebase config. [${z.message}]`),{appId:U,measurementId:X};throw z}const Se=503===Number(z.customData.httpStatus)?(0,se.$s)(De,k.intervalMillis,30):(0,se.$s)(De,k.intervalMillis),st={throttleEndTimeMillis:Date.now()+Se,backoffCount:De+1};return k.setThrottleMetadata(U,st),Ue.debug(`Calling attemptFetch again in ${Se} millis`),mn(J,st,F,k)}})).apply(this,arguments)}function _t(J,pe){return new Promise((De,F)=>{const k=Math.max(pe-Date.now(),0),U=setTimeout(De,k);J.addEventListener(()=>{clearTimeout(U),F(je.create("fetch-throttle",{throttleEndTimeMillis:pe}))})})}function yn(J){if(!(J instanceof se.ZR&&J.customData))return!1;const pe=Number(J.customData.httpStatus);return 429===pe||500===pe||503===pe||504===pe}class _n{constructor(){this.listeners=[]}addEventListener(pe){this.listeners.push(pe)}abort(){this.listeners.forEach(pe=>pe())}}function kr(){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(){if(!(0,se.hl)())return Ue.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(J){return Ue.warn(je.create("indexeddb-unavailable",{errorInfo:J}).message),!1}return!0})).apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(J,pe,De,F,k,U,X){var z;const Se=It(J);Se.then(nn=>{De[nn.measurementId]=nn.appId,J.options.measurementId&&nn.measurementId!==J.options.measurementId&&Ue.warn(`The measurement ID in the local Firebase config (${J.options.measurementId}) does not match the measurement ID fetched from the server (${nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nn=>Ue.error(nn)),pe.push(Se);const st=kr().then(nn=>{if(nn)return F.getId()}),[Ut,Dn]=yield Promise.all([Se,st]);Ce()||Pe(U,Ut.measurementId),k("js",new Date);const jt=null!==(z=null==X?void 0:X.config)&&void 0!==z?z:{};return jt.origin="firebase",jt.update=!0,null!=Dn&&(jt[ye]=Dn),k("config",Ut.measurementId,jt),Ut.measurementId})).apply(this,arguments)}class Mt{constructor(pe){this.app=pe}_delete(){return delete xn[this.app.options.appId],Promise.resolve()}}let xn={},_r=[];const tr={};let vr,br,Tn="dataLayer",cr=!1;function Nn(J,pe,De){!function On(){const J=[];if((0,se.ru)()&&J.push("This is a browser extension environment."),(0,se.zI)()||J.push("Cookies are not available."),J.length>0){const pe=J.map((F,k)=>`(${k+1}) ${F}`).join(" "),De=je.create("invalid-analytics-context",{errorInfo:pe});Ue.warn(De.message)}}();const F=J.options.appId;if(!F)throw je.create("no-app-id");if(!J.options.apiKey){if(!J.options.measurementId)throw je.create("no-api-key");Ue.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${J.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xn[F])throw je.create("already-exists",{id:F});if(!cr){!function He(J){let pe=[];Array.isArray(window[J])?pe=window[J]:window[J]=pe}(Tn);const{wrappedGtag:U,gtagCore:X}=function we(J,pe,De,F,k){let U=function(...X){window[F].push(arguments)};return window[k]&&"function"==typeof window[k]&&(U=window[k]),window[k]=function Oe(J,pe,De,F){function U(){return(U=(0,c.Z)(function*(X,z,Se){try{"event"===X?yield nt(J,pe,De,z,Se):"config"===X?yield me(J,pe,De,F,z,Se):J("set",z)}catch(st){Ue.error(st)}})).apply(this,arguments)}return function k(X,z,Se){return U.apply(this,arguments)}}(U,J,pe,De),{gtagCore:U,wrappedGtag:window[k]}}(xn,_r,tr,Tn,"gtag");br=U,vr=X,cr=!0}return xn[F]=function Yn(J,pe,De,F,k,U,X){return Wt.apply(this,arguments)}(J,_r,tr,pe,vr,Tn,De),new Mt(J)}function dr(){return(dr=(0,c.Z)(function*(J,pe,De,F,k){if(k&&k.global)J("event",De,F);else{const U=yield pe;J("event",De,Object.assign(Object.assign({},F),{send_to:U}))}})).apply(this,arguments)}function nr(J=(0,Y.getApp)()){J=(0,se.m9)(J);const pe=(0,Y._getProvider)(J,re);return pe.isInitialized()?pe.getImmediate():function Rr(J,pe={}){const De=(0,Y._getProvider)(J,re);if(De.isInitialized()){const k=De.getImmediate();if((0,se.vZ)(pe,De.getOptions()))return k;throw je.create("already-initialized")}return De.initialize({options:pe})}(J)}function qt(){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(J){return!1}})).apply(this,arguments)}const We="@firebase/analytics";!function et(){(0,Y._registerComponent)(new oe.wA(re,(pe,{options:De})=>Nn(pe.getProvider("app").getImmediate(),pe.getProvider("installations-internal").getImmediate(),De),"PUBLIC")),(0,Y._registerComponent)(new oe.wA("analytics-internal",function J(pe){try{const De=pe.getProvider(re).getImmediate();return{logEvent:(F,k,U)=>function zt(J,pe,De,F){J=(0,se.m9)(J),function kn(J,pe,De,F,k){return dr.apply(this,arguments)}(br,xn[J.app.options.appId],pe,De,F).catch(k=>Ue.error(k))}(De,F,k,U)}}catch(De){throw je.create("interop-component-reg-failed",{reason:De})}},"PRIVATE")),(0,Y.registerVersion)(We,"0.7.8"),(0,Y.registerVersion)(We,"0.7.8","esm2017")}()},5867:(ht,Re,O)=>{O.d(Re,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp});var c=O(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(ht,Re,O)=>{O.d(Re,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ht,Re,O)=>{O.r(Re);var c=O(5861),Y=O(3942),L=O(2090),se=O(9681),oe=O(655),be=O(1877),re=O(4859);const Pe=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new be.Yd("@firebase/auth");function Qe(_,...f){nt.logLevel<=be.in.ERROR&&nt.error(`Auth (${se.SDK_VERSION}): ${_}`,...f)}function Oe(_,...f){throw je(_,...f)}function we(_,...f){return je(_,...f)}function Ce(_,f,g){const b=Object.assign(Object.assign({},He()),{[f]:g});return new L.LL("auth","Firebase",b).create(f,{appName:_.name})}function qe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Oe(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return me.create(_,...f)}function ie(_,f,...g){if(!_)throw je(f,...g)}function Q(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Qe(f),new Error(f)}function ae(_,f){_||Q(f)}const _e=new Map;function ue(_){ae(_ instanceof Function,"Expected a class definition");let f=_e.get(_);return f?(ae(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,_e.set(_,f),f)}function It(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Kt(){return"http:"===mn()||"https:"===mn()}function mn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class yn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ae(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(_,f){ae(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class kr{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yn=new yn(3e4,6e4);function Wt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Mt(_,f,g,b){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f,g,b,T={}){return _r(_,T,(0,c.Z)(function*(){let x={},K={};b&&("GET"===f?K=b:x={body:JSON.stringify(b)});const fe=(0,L.xO)(Object.assign({key:_.config.apiKey},K)).slice(1),ze=yield _._getAdditionalHeaders();return ze["Content-Type"]="application/json",_.languageCode&&(ze["X-Firebase-Locale"]=_.languageCode),kr.fetch()(vr(_,_.config.apiHost,g,fe),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function _r(_,f,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},en),f);try{const T=new br(_),x=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const K=yield x.json();if("needConfirmation"in K)throw cr(_,"account-exists-with-different-credential",K);if(x.ok&&!("errorMessage"in K))return K;{const fe=x.ok?K.errorMessage:K.error.message,[ze,ot]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw cr(_,"credential-already-in-use",K);if("EMAIL_EXISTS"===ze)throw cr(_,"email-already-in-use",K);const Dt=b[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ce(_,Dt,ot);Oe(_,Dt)}}catch(T){if(T instanceof L.ZR)throw T;Oe(_,"network-request-failed")}})).apply(this,arguments)}function Tn(_,f,g,b){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(_,f,g,b,T={}){const x=yield Mt(_,f,g,b,T);return"mfaPendingCredential"in x&&Oe(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function vr(_,f,g,b){const T=`${f}${g}?${b}`;return _.config.emulator?_n(_.config,T):`${_.config.apiScheme}://${T}`}class br{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(we(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=we(_,f,b);return T.customData._tokenResponse=g,T}function On(){return(On=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Nn(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function dr(_,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function cn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function es(){return(es=(0,c.Z)(function*(_,f=!1){const g=(0,L.m9)(_),b=yield g.getIdToken(f),T=it(b);ie(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,K=null==x?void 0:x.sign_in_provider;return{claims:T,token:b,authTime:cn(Bt(T.auth_time)),issuedAtTime:cn(Bt(T.iat)),expirationTime:cn(Bt(T.exp)),signInProvider:K||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Bt(_){return 1e3*Number(_)}function it(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(g);return T?JSON.parse(T):(Qe("Failed to decode base64 JWT payload"),null)}catch(T){return Qe("Caught error parsing JWT payload as JSON",T),null}}function nr(_,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof L.ZR&&qt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function qt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class jr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class jn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=cn(this.lastLoginAt),this.creationTime=cn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(_){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),T=yield nr(_,dr(g,{idToken:b}));ie(null==T?void 0:T.users.length,g,"internal-error");const x=T.users[0];_._notifyReloadListener(x);const K=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?xe(x.providerUserInfo):[],fe=We(_.providerData,K),Dt=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==fe?void 0:fe.length)),pt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:fe,metadata:new jn(x.createdAt,x.lastLoginAt),isAnonymous:Dt};Object.assign(_,pt)})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(_){const f=(0,L.m9)(_);yield Pn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function We(_,f){return[..._.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function xe(_){return _.map(f=>{var{providerId:g}=f,b=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function J(){return(J=(0,c.Z)(function*(_,f){const g=yield _r(_,{},(0,c.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=_.config,K=vr(_,T,"/v1/token",`key=${x}`),fe=yield _._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",kr.fetch()(K,{method:"POST",headers:fe,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(void 0!==f.idToken,"internal-error"),ie(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function at(_){const f=it(_);return ie(f,"internal-error"),ie(void 0!==f.exp,"internal-error"),ie(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return ie(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:K}=yield function et(_,f){return J.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,x,Number(K))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:x}=g,K=new pe;return b&&(ie("string"==typeof b,"internal-error",{appName:f}),K.refreshToken=b),T&&(ie("string"==typeof T,"internal-error",{appName:f}),K.accessToken=T),x&&(ie("number"==typeof x,"internal-error",{appName:f}),K.expirationTime=x),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Q("not implemented")}}function De(_,f){ie("string"==typeof _||void 0===_,"internal-error",{appName:f})}class F{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,x=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new jn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield nr(g,g.stsTokenManager.getToken(g.auth,f));return ie(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Er(_){return es.apply(this,arguments)}(this,f)}reload(){return function rr(_){return zt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new F(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Pn(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield nr(f,function gt(_,f){return On.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,x,K,fe,ze,ot,Dt;const pt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Bn=null!==(T=g.email)&&void 0!==T?T:void 0,zi=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,cu=null!==(K=g.photoURL)&&void 0!==K?K:void 0,ol=null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,al=null!==(ze=g._redirectEventId)&&void 0!==ze?ze:void 0,ff=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,l_=null!==(Dt=g.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Ro,emailVerified:Bc,isAnonymous:Uc,providerData:pf,stsTokenManager:jc}=g;ie(Ro&&jc,f,"internal-error");const Wr=pe.fromJSON(this.name,jc);ie("string"==typeof Ro,f,"internal-error"),De(pt,f.name),De(Bn,f.name),ie("boolean"==typeof Bc,f,"internal-error"),ie("boolean"==typeof Uc,f,"internal-error"),De(zi,f.name),De(cu,f.name),De(ol,f.name),De(al,f.name),De(ff,f.name),De(l_,f.name);const mf=new F({uid:Ro,auth:f,email:Bn,emailVerified:Bc,displayName:pt,isAnonymous:Uc,photoURL:cu,phoneNumber:zi,tenantId:ol,stsTokenManager:Wr,createdAt:ff,lastLoginAt:l_});return pf&&Array.isArray(pf)&&(mf.providerData=pf.map(Hc=>Object.assign({},Hc))),al&&(mf._redirectEventId=al),mf}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const T=new pe;T.updateFromServerResponse(g);const x=new F({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield Pn(x),x})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,c.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function X(_,f,g){return`firebase:${_}:${f}:${g}`}class z{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:x}=this.auth;this.fullUserKey=X(this.userKey,T.apiKey,x),this.fullPersistenceKey=X("persistence",T.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?F._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new z(ue(U),f,b);const T=(yield Promise.all(g.map(function(){var ot=(0,c.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let x=T[0]||ue(U);const K=X(b,f.config.apiKey,f.name);let fe=null;for(const ot of g)try{const Dt=yield ot._get(K);if(Dt){const pt=F._fromJSON(f,Dt);ot!==x&&(fe=pt),x=ot;break}}catch(Dt){}const ze=T.filter(ot=>ot._shouldAllowMigration);return x._shouldAllowMigration&&ze.length?(x=ze[0],fe&&(yield x._set(K,fe.toJSON())),yield Promise.all(g.map(function(){var ot=(0,c.Z)(function*(Dt){if(Dt!==x)try{yield Dt._remove(K)}catch(pt){}});return function(Dt){return ot.apply(this,arguments)}}())),new z(x,f,b)):new z(x,f,b)})()}}function Se(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(jt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(st(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(kt(f))return"Blackberry";if(dn(f))return"Webos";if(Ut(f))return"Safari";if((f.includes("chrome/")||Dn(f))&&!f.includes("edge/"))return"Chrome";if(nn(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function st(_=(0,L.z$)()){return/firefox\//i.test(_)}function Ut(_=(0,L.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Dn(_=(0,L.z$)()){return/crios\//i.test(_)}function jt(_=(0,L.z$)()){return/iemobile/i.test(_)}function nn(_=(0,L.z$)()){return/android/i.test(_)}function kt(_=(0,L.z$)()){return/blackberry/i.test(_)}function dn(_=(0,L.z$)()){return/webos/i.test(_)}function Fn(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)}function Si(_=(0,L.z$)()){return Fn(_)||nn(_)||dn(_)||kt(_)||/windows phone/i.test(_)||jt(_)}function Ps(_,f=[]){let g;switch(_){case"Browser":g=Se((0,L.z$)());break;case"Worker":g=`${Se((0,L.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${b}`}class wr{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ne(this),this.idTokenSubscription=new ne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;if(!b._deleted&&(b.persistenceManager=yield z.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,K=null==T?void 0:T._redirectEventId,fe=yield g.tryRedirectSignIn(f);(!x||x===K)&&(null==fe?void 0:fe.user)&&(T=fe.user)}return T?T._redirectEventId?(ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield Pn(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _t(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,L.m9)(f):null;return b&&ie(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&ie(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ue(f)||g._popupRedirectResolver;ie(b,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[ue(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(K,this,"internal-error"),K.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function V(_){return(0,L.m9)(_)}class ne{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tt(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function St(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ot{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Q("not implemented")}_getIdTokenResponse(f){return Q("not implemented")}_linkToIdToken(f,g){return Q("not implemented")}_getReauthenticationResolver(f){return Q("not implemented")}}function Or(_,f){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:resetPassword",Wt(_,f))})).apply(this,arguments)}function Nt(_,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ws(_,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",Wt(_,f))})).apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithPassword",Wt(_,f))})).apply(this,arguments)}function Bi(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendOobCode",Wt(_,f))})).apply(this,arguments)}function Hr(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(_,f){return Bi(_,f)})).apply(this,arguments)}function oc(_,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(_,f){return Bi(_,f)})).apply(this,arguments)}function $r(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(_,f){return Bi(_,f)})).apply(this,arguments)}function Ll(_,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(_,f){return Bi(_,f)})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}class Wo extends Ot{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Wo(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new Wo(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Cs(_,f){return Jn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function zo(_,f){return ti.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Oe(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Nt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Vl(_,f){return Bl.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Xn(_,f){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithIdp",Wt(_,f))})).apply(this,arguments)}class Ui extends Ot{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ui(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,x=(0,oe._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const K=new Ui(b,T);return K.idToken=x.idToken||void 0,K.accessToken=x.accessToken||void 0,K.secret=x.secret,K.nonce=x.nonce,K.pendingToken=x.pendingToken||null,K}_getIdTokenResponse(f){return Xn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Xn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Xn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function lc(_,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendVerificationCode",Wt(_,f))})).apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f))})).apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(_,f){const g=yield Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f));if(g.temporaryProof)throw cr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const hc={USER_NOT_FOUND:"user-not-found"};function ch(){return(ch=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hc)})).apply(this,arguments)}class fo extends Ot{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new fo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new fo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function cc(_,f){return dc.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function wy(_,f){return uh.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Cy(_,f){return ch.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}=f;return b||g||T||x?new fo({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}):null}}class Vs{constructor(f){var g,b,T,x,K,fe;const ze=(0,L.zd)((0,L.pd)(f)),ot=null!==(g=ze.apiKey)&&void 0!==g?g:null,Dt=null!==(b=ze.oobCode)&&void 0!==b?b:null,pt=function Yp(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ze.mode)&&void 0!==T?T:null);ie(ot&&Dt&&pt,"argument-error"),this.apiKey=ot,this.operation=pt,this.code=Dt,this.continueUrl=null!==(x=ze.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(K=ze.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(fe=ze.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const g=function fc(_){const f=(0,L.zd)((0,L.pd)(_)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||f||_}(f);try{return new Vs(g)}catch(b){return null}}}let Ul=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Wo._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=Vs.parseLink(b);return ie(T,"argument-error"),Wo._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Bs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class gi extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class po extends gi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Ui._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Ui._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return po.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return po.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:x,nonce:K,providerId:fe}=f;if(!b&&!T&&!g&&!x||!fe)return null;try{return new po(fe)._credential({idToken:g,accessToken:b,nonce:K,pendingToken:x})}catch(ze){return null}}}let mo=(()=>{class _ extends gi{constructor(){super("facebook.com")}static credential(g){return Ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Zo=(()=>{class _ extends gi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return _.credential(b,T)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),pc=(()=>{class _ extends gi{constructor(){super("github.com")}static credential(g){return Ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ji extends Ot{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Xn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Xn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Xn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:x}=g;return b&&T&&x&&b===T?new ji(b,x):null}static _create(f,g){return new ji(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends Bs{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return go.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return go.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ji.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return ji._create(b,g)}catch(T){return null}}}let yo=(()=>{class _ extends gi{constructor(){super("twitter.com")}static credential(g,b){return Ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return _.credential(b,T)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ua(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signUp",Wt(_,f))})).apply(this,arguments)}class Gr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,c.Z)(function*(){const x=yield F._fromIdTokenResponse(f,b,T),K=Qp(b);return new Gr({user:x,providerId:K,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=Qp(b);return new Gr({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function Qp(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function gc(){return(gc=(0,c.Z)(function*(_){var f;const g=V(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Gr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ua(g,{returnSecureToken:!0}),T=yield Gr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ja extends L.ZR{constructor(f,g,b,T){var x;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,ja.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new ja(f,g,b,T)}}function is(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?ja._fromErrorAndOperation(_,x,f,b):x})}function Ha(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function hh(){return(hh=(0,c.Z)(function*(_,f){const g=(0,L.m9)(_);yield yi(!0,g,f);const{providerUserInfo:b}=yield Nn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Ha(b||[]);return g.providerData=g.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function on(_,f){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(_,f,g=!1){const b=yield nr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Gr._forOperation(_,"link",b)})).apply(this,arguments)}function yi(_,f,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(_,f,g){yield Pn(f);const T=!1===_?"provider-already-linked":"no-such-provider";ie(Ha(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function fh(_,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,T="reauthenticate";try{const x=yield nr(_,is(b,T,f,_),g);ie(x.idToken,b,"internal-error");const K=it(x.idToken);ie(K,b,"internal-error");const{sub:fe}=K;return ie(_.uid===fe,b,"user-mismatch"),Gr._forOperation(_,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Oe(b,"user-mismatch"),x}})).apply(this,arguments)}function Yo(_,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,f,g=!1){const b="signIn",T=yield is(_,b,f),x=yield Gr._fromIdTokenResponse(_,b,T);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Hl(_,f){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(_,f){return Yo(V(_),f)})).apply(this,arguments)}function R(_,f){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(_,f){const g=(0,L.m9)(_);return yield yi(!1,g,f.providerId),on(g,f)})).apply(this,arguments)}function le(_,f){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(_,f){return fh((0,L.m9)(_),f)})).apply(this,arguments)}function Ke(_,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:signInWithCustomToken",Wt(_,f))})).apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(_,f){const g=V(_),b=yield Ke(g,{token:f,returnSecureToken:!0}),T=yield Gr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Xe{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?vn._fromServerResponse(f,g):Oe(f,"internal-error")}}class vn extends Xe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new vn(g)}}function Ht(_,f,g){var b;ie((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),ie(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Hi(){return(Hi=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_),T={requestType:"PASSWORD_RESET",email:f};g&&Ht(b,T,g),yield oc(b,T)})).apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(_,f,g){yield Or((0,L.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(_,f){yield ws((0,L.m9)(_),{oobCode:f})})).apply(this,arguments)}function $t(_,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(_,f){const g=(0,L.m9)(_),b=yield Or(g,{oobCode:f}),T=b.requestType;switch(ie(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(b.mfaInfo,g,"internal-error");default:ie(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=Xe._fromServerResponse(V(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(_,f){const{data:g}=yield $t((0,L.m9)(_),f);return g.email})).apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(_,f,g){const b=V(_),T=yield Ua(b,{returnSecureToken:!0,email:f,password:g}),x=yield Gr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function Jp(){return(Jp=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};ie(g.handleCodeInApp,b,"argument-error"),g&&Ht(b,T,g),yield $r(b,T)})).apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_),T=Ul.credentialWithLink(f,g||It());return ie(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Hl(b,T)})).apply(this,arguments)}function qr(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:createAuthUri",Wt(_,f))})).apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Kt()?It():"http://localhost"},{signinMethods:T}=yield qr((0,L.m9)(_),b);return T||[]})).apply(this,arguments)}function gh(){return(gh=(0,c.Z)(function*(_,f){const g=(0,L.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ht(g.auth,T,f);const{email:x}=yield Hr(g.auth,T);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function yh(){return(yh=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ht(b.auth,x,g);const{email:K}=yield Ll(b.auth,x);K!==_.email&&(yield _.reload())})).apply(this,arguments)}function Dy(_,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _h(){return(_h=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,L.m9)(_),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},K=yield nr(b,Dy(b.auth,x));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const fe=b.providerData.find(({providerId:ze})=>"password"===ze);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function nm(_,f,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(_,f,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const K=yield nr(_,Nt(b,x));yield _._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ea{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class im extends ea{constructor(f,g,b,T){super(f,g,b),this.username=T}}class Ty extends ea{constructor(f,g){super(f,"facebook.com",g)}}class ql extends im{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class bo extends ea{constructor(f,g){super(f,"google.com",g)}}class Ay extends im{constructor(f,g,b){super(f,"twitter.com",g,b)}}function ni(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function rm(_){var f,g;if(!_)return null;const{providerId:b}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const K=null===(g=null===(f=it(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new ea(x,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new Ty(x,T);case"github.com":return new ql(x,T);case"google.com":return new bo(x,T);case"twitter.com":return new Ay(x,T,_.screenName||null);case"custom":case"anonymous":return new ea(x,null);default:return new ea(x,b,T)}}(g)}class Hs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Hs("enroll",f)}static _fromMfaPendingCredential(f){return new Hs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Hs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Hs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class zl{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=V(f),T=g.customData._serverResponse,x=(T.mfaInfo||[]).map(fe=>Xe._fromServerResponse(b,fe));ie(T.mfaPendingCredential,b,"internal-error");const K=Hs._fromMfaPendingCredential(T.mfaPendingCredential);return new zl(K,x,function(){var fe=(0,c.Z)(function*(ze){const ot=yield ze._process(b,K);delete T.mfaInfo,delete T.mfaPendingCredential;const Dt=Object.assign(Object.assign({},T),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(g.operationType){case"signIn":const pt=yield Gr._fromIdTokenResponse(b,g.operationType,Dt);return yield b._updateCurrentUser(pt.user),pt;case"reauthenticate":return ie(g.user,b,"internal-error"),Gr._forOperation(g.user,g.operationType,Dt);default:Oe(b,"internal-error")}});return function(ze){return fe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function wh(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:start",Wt(_,f))}class $s{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Xe._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new $s(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Hs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const T=f,x=yield b.getSession(),K=yield nr(b.user,T._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),x=yield nr(g.user,function m0(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:K})=>K!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Za=new WeakMap,Ch="__sak";class Eo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class _ extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ih(){const _=(0,L.z$)();return Ut(_)||Fn(_)}()&&function Hn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),x=this.localCache[b];T!==x&&g(b,x,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((fe,ze,ot)=>{this.notifyListeners(fe,ot)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(T);if(g.newValue!==fe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const x=()=>{const fe=this.storage.getItem(T);!b&&this.localCache[T]===fe||this.notifyListeners(T,fe)},K=this.storage.getItem(T);!function ns(){return(0,L.w1)()&&10===document.documentMode}()||K===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield b().call(T,g);return T.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),Sn=(()=>{class _ extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let ri=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const T=g,{eventId:x,eventType:K,data:fe}=T.data,ze=b.handlersMap[K];if(!(null==ze?void 0:ze.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:K});const ot=Array.from(ze).map(function(){var pt=(0,c.Z)(function*(Bn){return Bn(T.origin,fe)});return function(Bn){return pt.apply(this,arguments)}}()),Dt=yield function _i(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(ot);T.ports[0].postMessage({status:"done",eventId:x,eventType:K,response:Dt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ka(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class om{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let K,fe;return new Promise((ze,ot)=>{const Dt=Ka("",20);x.port1.start();const pt=setTimeout(()=>{ot(new Error("unsupported_event"))},b);fe={messageChannel:x,onMessage(Bn){const zi=Bn;if(zi.data.eventId===Dt)switch(zi.data.status){case"ack":clearTimeout(pt),K=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),ze(zi.data.response);break;default:clearTimeout(pt),clearTimeout(K),ot(new Error("invalid_response"))}}},T.handlers.add(fe),x.port1.addEventListener("message",fe.onMessage),T.target.postMessage({eventType:f,eventId:Dt,data:g},[x.port2])}).finally(()=>{fe&&T.removeMessageHandler(fe)})})()}}function Rn(){return window}function Gs(){return void 0!==Rn().WorkerGlobalScope&&"function"==typeof Rn().importScripts}function Ds(){return(Ds=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Th="firebaseLocalStorageDb",Wl="firebaseLocalStorage",Vn="fbase_key";class ta{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ya(_,f){return _.transaction([Wl],f?"readwrite":"readonly").objectStore(Wl)}function na(){const _=indexedDB.open(Th,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Wl,{keyPath:Vn})}catch(T){g(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Wl)?f(b):(b.close(),yield function vc(){const _=indexedDB.deleteDatabase(Th);return new ta(_).toPromise()}(),f(yield na()))}))})}function os(_,f,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(_,f,g){const b=Ya(_,!0).put({[Vn]:f,value:g});return new ta(b).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(_,f){const g=Ya(_,!1).get(f),b=yield new ta(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Qa(_,f){const g=Ya(_,!0).delete(f);return new ta(g).toPromise()}const as=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield na()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(T++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Gs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=ri._getInstance(function am(){return Gs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(T,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function Dh(){return Ds.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new om(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Rt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield na();return yield os(g,Ch,"1"),yield Qa(g,Ch),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>os(x,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(x=>function lm(_,f){return ra.apply(this,arguments)}(x,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>Qa(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(K=>{const fe=Ya(K,!1).getAll();return new ta(fe).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:K,value:fe}of b)x.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(fe)&&(g.notifyListeners(K,fe),T.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!x.has(K)&&(g.notifyListeners(K,null),T.push(K));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ia(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:start",Wt(_,f))}function zs(){return(zs=(0,c.Z)(function*(_){return(yield Mt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dr(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=T=>{const x=we("internal-error");x.customData=T,g(x)},b.type="text/javascript",b.charset="UTF-8",function um(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function sa(_){return`__${_}${Math.floor(1e6*Math.random())}`}const xi=1e12;class Gi{constructor(f){this.auth=f,this.counter=xi,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new ls(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||xi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||xi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||xi))||void 0===b||b.execute(),""})()}}class ls{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ie(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zn(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=sa("rcb"),xh=new yn(3e4,6e4);class ky{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rn().grecaptcha}load(f,g=""){return ie(function Ry(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Rn().grecaptcha):new Promise((b,T)=>{const x=Rn().setTimeout(()=>{T(we(f,"network-request-failed"))},xh.get());Rn()[oa]=()=>{Rn().clearTimeout(x),delete Rn()[oa];const fe=Rn().grecaptcha;if(!fe)return void T(we(f,"internal-error"));const ze=fe.render;fe.render=(ot,Dt)=>{const pt=ze(ot,Dt);return this.counter++,pt},this.hostLanguage=g,b(fe)},Dr(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:oa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),T(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Rn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _0{load(f){return(0,c.Z)(function*(){return new Gi(f)})()}clearedOneInstance(){}}const aa="recaptcha",ii={theme:"light",type:"image"};class Oy{constructor(f,g=Object.assign({},ii),b){this.parameters=g,this.type=aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=V(b),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ie(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _0:new ky,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const K=fe=>{!fe||(f.tokenChangeListeners.delete(K),x(fe))};f.tokenChangeListeners.add(K),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Rn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ie(Kt()&&!Gs(),f.auth,"internal-error"),yield function Io(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Pr(_){return zs.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ws{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=fo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Zn(){return(Zn=(0,c.Z)(function*(_,f,g){const b=V(_),T=yield si(b,f,(0,L.m9)(g));return new Ws(T,x=>Hl(b,x))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_);yield yi(!1,b,"phone");const T=yield si(b.auth,f,(0,L.m9)(g));return new Ws(T,x=>R(b,x))})).apply(this,arguments)}function Rh(){return(Rh=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_),T=yield si(b.auth,f,(0,L.m9)(g));return new Ws(T,x=>le(b,x))})).apply(this,arguments)}function si(_,f,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,f,g){var b;const T=yield g.verify();try{let x;if(ie("string"==typeof T,_,"argument-error"),ie(g.type===aa,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const K=x.session;if("phoneNumber"in x)return ie("enroll"===K.type,_,"internal-error"),(yield wh(_,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ie("signin"===K.type,_,"internal-error");const fe=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return ie(fe,_,"missing-multi-factor-info"),(yield ia(_,{mfaPendingCredential:K.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield lc(_,{phoneNumber:x.phoneNumber,recaptchaToken:T});return K}}finally{g._reset()}})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(_,f){yield on((0,L.m9)(_),f)})).apply(this,arguments)}let Zs=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=V(g)}verifyPhoneNumber(g,b){return si(this.auth,g,(0,L.m9)(b))}static credential(g,b){return fo._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?fo._fromTokenResponse(b,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Do(_,f){return f?ue(f):(ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Nh extends Ot{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Xn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Xn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Xn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ny(_){return Yo(_.auth,new Nh(_),_.bypassAuthState)}function Py(_){const{auth:f,user:g}=_;return ie(g,f,"internal-error"),fh(g,new Nh(_),_.bypassAuthState)}function Jt(_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return ie(g,f,"internal-error"),on(g,new Nh(_),_.bypassAuthState)})).apply(this,arguments)}class hr{constructor(f,g,b,T,x=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:x,tenantId:K,error:fe,type:ze}=f;if(fe)return void g.reject(fe);const ot={auth:g.auth,requestUri:b,sessionId:T,tenantId:K||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ze)(ot))}catch(Dt){g.reject(Dt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ny;case"linkViaPopup":case"linkViaRedirect":return Jt;case"reauthViaPopup":case"reauthViaRedirect":return Py;default:Oe(this.auth,"internal-error")}}resolve(f){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wc=new yn(2e3,1e4);function cm(){return(cm=(0,c.Z)(function*(_,f,g){const b=V(_);qe(_,f,Bs);const T=Do(b,g);return new Ic(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Ph(){return(Ph=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_);qe(b.auth,f,Bs);const T=Do(b.auth,g);return new Ic(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_);qe(b.auth,f,Bs);const T=Do(b.auth,g);return new Ic(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let Ic=(()=>{class _ extends hr{constructor(g,b,T,x,K){super(g,b,x,K),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return ie(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){ae(1===g.filter.length,"Popup operations only handle one event");const b=Ka();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,wc.get())};g()}}return _.currentPopupAction=null,_})();const Dc=new Map;class fr extends hr{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Dc.get(g.auth._key());if(!b){try{const x=(yield function ki(_,f){return fm.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(T){b=()=>Promise.reject(T)}Dc.set(g.auth._key(),b)}return g.bypassAuthState||Dc.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function fm(){return(fm=(0,c.Z)(function*(_,f){const g=Fh(f),b=pm(_);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function ca(_,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(_,f){return pm(_)._set(Fh(f),"true")})).apply(this,arguments)}function pm(_){return ue(_._redirectPersistence)}function Fh(_){return X("pendingRedirect",_.config.apiKey,_.name)}function Tc(){return(Tc=(0,c.Z)(function*(_,f,g){const b=V(_);qe(_,f,Bs);const T=Do(b,g);return yield ca(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_);qe(b.auth,f,Bs);const T=Do(b.auth,g);yield ca(T,b.auth);const x=yield Yl(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(_,f,g){const b=(0,L.m9)(_);qe(b.auth,f,Bs);const T=Do(b.auth,g);yield yi(!1,b,f.providerId),yield ca(T,b.auth);const x=yield Yl(b);return T._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f){return yield V(_)._initializationPromise,Kl(_,f,!1)})).apply(this,arguments)}function Kl(_,f){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,c.Z)(function*(_,f,g=!1){const b=V(_),T=Do(b,f),K=yield new fr(b,T,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,f)),K})).apply(this,arguments)}function Yl(_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_){const f=Ka(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class tl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ql(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ac(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!Ac(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(we(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(f))}saveEventToCache(f){this.cachedEventUids.add(nl(f)),this.lastProcessedEventTime=Date.now()}}function nl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Ac({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Jl(_){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(_,f={}){return Mt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ly=/^https?/;function us(){return(us=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Jl(_);for(const g of f)try{if(Xl(g))return}catch(b){}Oe(_,"unauthorized-domain")})).apply(this,arguments)}function Xl(_){const f=It(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const K=new URL(_);return""===K.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===b}if(!Ly.test(g))return!1;if(gm.test(_))return b===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const By=new yn(3e4,6e4);function Uy(){const _=Rn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Sc=null;function jy(_){return Sc=Sc||function ym(_){return new Promise((f,g)=>{var b,T,x;function K(){Uy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Uy(),g(we(_,"network-request-failed"))},timeout:By.get()})}if(null===(T=null===(b=Rn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=Rn().gapi)||void 0===x?void 0:x.load)){const fe=sa("iframefcb");return Rn()[fe]=()=>{gapi.load?K():g(we(_,"network-request-failed"))},Dr(`https://apis.google.com/js/api.js?onload=${fe}`).catch(ze=>g(ze))}K()}}).catch(f=>{throw Sc=null,f})}(_),Sc}const Uh=new yn(5e3,15e3),Ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ha(_){const f=_.config;ie(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?_n(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:se.SDK_VERSION},T=Mc.get(_.config.apiHost);T&&(b.eid=T);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function cs(){return cs=(0,c.Z)(function*(_){const f=yield jy(_),g=Rn().gapi;return ie(g,_,"internal-error"),f.open({where:document.body,url:ha(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ys,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(x,K){yield b.restyle({setHideOnLeave:!1});const fe=we(_,"network-request-failed"),ze=Rn().setTimeout(()=>{K(fe)},Uh.get());function ot(){Rn().clearTimeout(ze),x(b)}b.ping(ot).then(ot,()=>{K(fe)})});return function(x,K){return T.apply(this,arguments)}}()))}),cs.apply(this,arguments)}const $y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Gh(_,f,g,b,T,x){ie(_.config.authDomain,_,"auth-domain-config-required"),ie(_.config.apiKey,_,"invalid-api-key");const K={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:se.SDK_VERSION,eventId:T};if(f instanceof Bs){f.setDefaultLanguage(_.languageCode),K.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(K.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,ot]of Object.entries(x||{}))K[ze]=ot}if(f instanceof gi){const ze=f.getScopes().filter(ot=>""!==ot);ze.length>0&&(K.scopes=ze.join(","))}_.tenantId&&(K.tid=_.tenantId);const fe=K;for(const ze of Object.keys(fe))void 0===fe[ze]&&delete fe[ze];return`${function qy({config:_}){return _.emulator?_n(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,L.xO)(fe).slice(1)}`}const ds="webStorageSupport";class Oc extends class qh{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return Q("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Oc(f)}_finalizeEnroll(f,g,b){return function Sy(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Mh(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:finalize",Wt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _m=(()=>{class _{constructor(){}static assertion(g){return Oc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var vm="@firebase/auth",Nc="0.19.12";class bm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ms(){return window}function pa(){return(pa=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:T}=Ms();ae(f.sessionId,"AuthEvent did not contain a session ID");const x=yield ma(f.sessionId),K={};return Fn()?K.ibi=T.packageName:nn()?K.apn=T.packageName:Oe(_,"operation-not-supported-in-this-environment"),T.displayName&&(K.appDisplayName=T.displayName),K.sessionId=x,Gh(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(_){const{BuildInfo:f}=Ms(),g={};Fn()?g.iosBundleId=f.packageName:nn()?g.androidPackageName=f.packageName:Oe(_,"operation-not-supported-in-this-environment"),yield Jl(_,g)})).apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(_,f,g){const{cordova:b}=Ms();let T=()=>{};try{yield new Promise((x,K)=>{let fe=null;function ze(){var pt;x();const Bn=null===(pt=b.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Bn&&Bn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ot(){fe||(fe=window.setTimeout(()=>{K(we(_,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}f.addPassiveListener(ze),document.addEventListener("resume",ot,!1),nn()&&document.addEventListener("visibilitychange",Dt,!1),T=()=>{f.removePassiveListener(ze),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Dt,!1),fe&&window.clearTimeout(fe)}})}finally{T()}})).apply(this,arguments)}function ma(_){return wm.apply(this,arguments)}function wm(){return(wm=(0,c.Z)(function*(_){const f=il(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function il(_){if(ae(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function Wy(_){(0,se._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:x,authDomain:K}=b.options;return((fe,ze)=>{ie(x&&!x.includes(":"),"invalid-api-key",{appName:fe.name}),ie(!(null==K?void 0:K.includes(":")),"argument-error",{appName:fe.name});const ot={apiKey:x,authDomain:K,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ps(_)},Dt=new wr(fe,ze,ot);return function ce(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ue);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Dt,g),Dt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new re.wA("auth-internal",f=>{const g=V(f.getProvider("auth").getImmediate());return new bm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(vm,Nc,function zy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(vm,Nc,"esm2017")}("Browser");class Kh extends tl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function nu(_){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(_){const f=yield ga()._get(Qh(_));return f&&(yield ga()._remove(Qh(_))),f})).apply(this,arguments)}function ru(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function ga(){return ue(wo)}function Qh(_){return X("authEvent",_.config.apiKey,_.name)}function su(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,L.zd)(g.join("?"))}function tf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Lc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Im(_=(0,L.z$)()){return!("file:"!==Lc()&&"ionic:"!==Lc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fr(){try{const _=self.localStorage,f=Ka();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Xs(_=(0,L.z$)()){return function Jy(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Xy(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch(_){return ko()&&(0,L.hl)()}return!1}function ko(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function au(){return(function Qy(){return"http:"===Lc()||"https:"===Lc()}()||(0,L.ru)()||Im())&&!function Vc(){return(0,L.b$)()||(0,L.UG)()}()&&Fr()&&!ko()}function nf(){return Im()&&"undefined"!=typeof document}function ya(){return(ya=(0,c.Z)(function*(){return!!nf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Oi={LOCAL:"local",NONE:"none",SESSION:"session"},_a=ie,sf="persistence";function va(_){return af.apply(this,arguments)}function af(){return(af=(0,c.Z)(function*(_){yield _._initializationPromise;const f=lu(),g=X(sf,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function lu(){var _;try{return(null===(_=function rf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const e_=ie;class vi{constructor(){this.browserResolver=ue(class Js{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sn,this._completeRedirectFn=Kl}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){var K;ae(null===(K=x.eventManagers[f._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const fe=Gh(f,g,b,It(),T);return function Qs(_,f,g,b=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const ze=Object.assign(Object.assign({},$y),{width:b.toString(),height:T.toString(),top:x,left:K}),ot=(0,L.z$)().toLowerCase();g&&(fe=Dn(ot)?"_blank":g),st(ot)&&(f=f||"http://localhost",ze.scrollbars="yes");const Dt=Object.entries(ze).reduce((Bn,[zi,cu])=>`${Bn}${zi}=${cu},`,"");if(function Vi(_=(0,L.z$)()){var f;return Fn(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ot)&&"_self"!==fe)return function $h(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",fe),new Rc(null);const pt=window.open(f||"",fe,Dt);ie(pt,_,"popup-blocked");try{pt.focus()}catch(Bn){}return new Rc(pt)}(f,fe,Ka())})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function My(_){Rn().location.href=_}(Gh(f,g,b,It(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:x}=this.eventManagers[g];return T?Promise.resolve(T):(ae(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function Hy(_){return cs.apply(this,arguments)}(f),T=new tl(f);return b.register("authEvent",x=>(ie(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ds,{type:ds},T=>{var x;const K=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[ds];void 0!==K&&g(!!K),Oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Vy(_){return us.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Si()||Ut()||Fn()}}),this.cordovaResolver=ue(class ef{constructor(){this._redirectPersistence=Sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kl}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new Kh(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Oe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){!function Fc(_){var f,g,b,T,x,K,fe,ze,ot,Dt;const pt=Ms();ie("function"==typeof(null===(f=null==pt?void 0:pt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(g=null==pt?void 0:pt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(x=null===(T=null===(b=null==pt?void 0:pt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(ze=null===(fe=null===(K=null==pt?void 0:pt.cordova)||void 0===K?void 0:K.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===ze?void 0:ze.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Dt=null===(ot=null==pt?void 0:pt.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Dt?void 0:Dt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const K=yield x._initialize(f);yield K.initialized(),K.resetRedirect(),function Zl(){Dc.clear()}(),yield x._originValidation(f);const fe=function Yh(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:ru(),postBody:null,tenantId:_.tenantId,error:we(_,"no-auth-event")}}(f,b,T);yield function E0(_,f){return ga()._set(Qh(_),f)}(f,fe);const ze=yield function zh(_,f,g){return pa.apply(this,arguments)}(f,fe,g),ot=yield function tu(_){const{cordova:f}=Ms();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function ts(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(T)})})}(ze);return function Em(_,f,g){return Pc.apply(this,arguments)}(f,K,ot)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Wh(_){return Ri.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:x}=Ms(),K=setTimeout((0,c.Z)(function*(){yield nu(f),g.onEvent(tf())}),500),fe=function(){var Dt=(0,c.Z)(function*(pt){clearTimeout(K);const Bn=yield nu(f);let zi=null;Bn&&(null==pt?void 0:pt.url)&&(zi=function Ky(_,f){var g,b;const T=function iu(_){const f=su(_),g=f.link?decodeURIComponent(f.link):void 0,b=su(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return su(T).link||T||b||g||_}(f);if(T.includes("/__/auth/callback")){const x=su(T),K=x.firebaseError?function Jh(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,fe=null===(b=null===(g=null==K?void 0:K.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],ze=fe?we(fe):null;return ze?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Bn,pt.url)),g.onEvent(zi||tf())});return function(Bn){return Dt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,fe);const ze=T,ot=`${x.packageName.toLowerCase()}://`;Ms().handleOpenURL=function(){var Dt=(0,c.Z)(function*(pt){if(pt.toLowerCase().startsWith(ot)&&fe({url:pt}),"function"==typeof ze)try{ze(pt)}catch(Bn){console.error(Bn)}});return function(pt){return Dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sn,this._completeRedirectFn=Kl}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return nf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return e_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function zr(){return ya.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Am(_){return _.unwrap()}function ba(_){return Sm(_)}function Sm(_){const{_tokenResponse:f}=_ instanceof L.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Zs.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Zo;break;case"facebook.com":b=mo;break;case"github.com":b=pc;break;case"twitter.com":b=yo;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:K,pendingToken:fe,nonce:ze}=f;return x||K||T||fe?fe?g.startsWith("saml.")?ji._create(g,fe):Ui._fromParams({providerId:g,signInMethod:g,pendingToken:fe,idToken:T,accessToken:x}):new po(g).credential({idToken:T,accessToken:x,rawNonce:ze}):null}return _ instanceof L.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Lr(_,f){return f.catch(g=>{throw g instanceof L.ZR&&function n_(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new r_(_,function Eh(_,f){var g;const b=(0,L.m9)(_),T=f;return ie(f.customData.operationType,b,"argument-error"),ie(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),zl._fromError(b,T)}(_,f));else if(b){const T=Sm(f),x=f;T&&(x.credential=T,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:ba(g),additionalUserInfo:ni(g),user:eo.getOrCreate(T)}})}function lf(_,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Lr(_,g.confirm(b))}})).apply(this,arguments)}class r_{constructor(f,g){this.resolver=g,this.auth=function t_(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(Am(this.auth),this.resolver.resolveSignIn(f))}}class eo{constructor(f){this._delegate=f,this.multiFactor=function g0(_){const f=(0,L.m9)(_);return Za.has(f)||Za.set(f,$s._fromUser(f)),Za.get(f)}(f)}static getOrCreate(f){return eo.USER_MAP.has(f)||eo.USER_MAP.set(f,new eo(f)),eo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Lr(g.auth,R(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return lf(b.auth,function kh(_,f,g){return la.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Lr(g.auth,function Ts(_,f,g){return Cc.apply(this,arguments)}(g._delegate,f,vi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield va(V(g.auth)),function Kn(_,f,g){return function mm(_,f,g){return As.apply(this,arguments)}(_,f,g)}(g._delegate,f,vi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Lr(g.auth,le(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return lf(this.auth,function v0(_,f,g){return Rh.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Lr(this.auth,function dm(_,f,g){return Ph.apply(this,arguments)}(this._delegate,f,vi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield va(V(g.auth)),function Ao(_,f,g){return function So(_,f,g){return Yt.apply(this,arguments)}(_,f,g)}(g._delegate,f,vi)})()}sendEmailVerification(f){return function Us(_,f){return gh.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function jl(_,f){return hh.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function vh(_,f){return nm((0,L.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function f0(_,f){return nm((0,L.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Oh(_,f){return ua.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function _c(_,f){return _h.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function tm(_,f,g){return yh.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}eo.USER_MAP=new WeakMap;const uu=ie;let cf=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;uu(T,"invalid-api-key",{appName:g.name}),uu(T,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?vi:void 0;this._delegate=b.initialize({options:{persistence:i_(T,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?eo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Te(_,f,g){const b=V(_);ie(b._canInitEmulator,b,"emulator-config-failed"),ie(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),x=tt(f),{host:K,port:fe}=function hn(_){const f=tt(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const x=T[1];return{host:x,port:St(b.substr(x.length+1))}}{const[x,K]=b.split(":");return{host:x,port:St(K)}}}(f);b.config.emulator={url:`${x}//${K}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:fe,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function An(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function Xo(_,f){return Me.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $t(this._delegate,g)}confirmPasswordReset(g,b){return function Qo(_,f,g){return Jo.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,c.Z)(function*(){return Lr(T._delegate,function $l(_,f,g){return Mi.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function em(_,f){return vo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Xp(_,f){const g=Vs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){uu(au(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Vh(_,f){return Mo.apply(this,arguments)}(g._delegate,vi);return b?Lr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Cm(_,f){V(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:x,error:K,complete:fe}=df(g,b,T);return this._delegate.onAuthStateChanged(x,K,fe)}onIdTokenChanged(g,b,T){const{next:x,error:K,complete:fe}=df(g,b,T);return this._delegate.onIdTokenChanged(x,K,fe)}sendSignInLinkToEmail(g,b){return function mh(_,f,g){return Jp.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Is(_,f,g){return Hi.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let T;switch(function Dm(_,f){_a(Object.values(Oi).includes(f),_,"invalid-persistence-type"),(0,L.b$)()?_a(f!==Oi.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?_a(f===Oi.NONE,_,"unsupported-persistence-type"):ko()?_a(f===Oi.NONE||f===Oi.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):_a(f===Oi.NONE||Fr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Oi.SESSION:T=Sn;break;case Oi.LOCAL:T=(yield ue(as)._isAvailable())?as:wo;break;case Oi.NONE:T=U;break;default:return Oe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function dh(_){return gc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,Hl(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function Cn(_,f){return Ln.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Lr(this._delegate,function ph(_,f,g){return Hl((0,L.m9)(_),Ul.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Lr(this._delegate,function yc(_,f,g){return za.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return lf(this._delegate,function bc(_,f,g){return Zn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return uu(au(),b._delegate,"operation-not-supported-in-this-environment"),Lr(b._delegate,function To(_,f,g){return cm.apply(this,arguments)}(b._delegate,g,vi))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return uu(au(),b._delegate,"operation-not-supported-in-this-environment"),yield va(b._delegate),function Fy(_,f,g){return function Lh(_,f,g){return Tc.apply(this,arguments)}(_,f,g)}(b._delegate,g,vi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Gn(_,f){return qa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Oi,_})();function df(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const T=b;return{next:K=>T(K&&eo.getOrCreate(K)),error:f,complete:g}}function i_(_,f){const g=function Tm(_,f){const g=lu();if(!g)return[];const b=X(sf,_,f);switch(g.getItem(b)){case Oi.NONE:return[U];case Oi.LOCAL:return[as,Sn];case Oi.SESSION:return[Sn];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(as)&&g.push(as),"undefined"!=typeof window)for(const b of[wo,Sn])g.includes(b)||g.push(b);return g.includes(U)||g.push(U),g}class hf{constructor(){this.providerId="phone",this._delegate=new Zs(Am(Y.Z.auth()))}static credential(f,g){return Zs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}hf.PHONE_SIGN_IN_METHOD=Zs.PHONE_SIGN_IN_METHOD,hf.PROVIDER_ID=Zs.PROVIDER_ID;const s_=ie;class o_{constructor(f,g,b=Y.Z.app()){var T;s_(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Oy(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mm(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new cf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ul,FacebookAuthProvider:mo,GithubAuthProvider:pc,GoogleAuthProvider:Zo,OAuthProvider:po,SAMLAuthProvider:go,PhoneAuthProvider:hf,PhoneMultiFactorGenerator:_m,RecaptchaVerifier:o_,TwitterAuthProvider:yo,Auth:cf,AuthCredential:Ot,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(Y.Z)},8306:(ht,Re,O)=>{O.d(Re,{y:()=>$});var c=O(930),Y=O(727),L=O(8822),se=O(4671);var re=O(2416),ye=O(576),he=O(2806);let $=(()=>{class Ie{constructor(He){He&&(this._subscribe=He)}lift(He){const me=new Ie;return me.source=this,me.operator=He,me}subscribe(He,me,ke){const nt=function Ue(Ie){return Ie&&Ie instanceof c.Lv||function te(Ie){return Ie&&(0,ye.m)(Ie.next)&&(0,ye.m)(Ie.error)&&(0,ye.m)(Ie.complete)}(Ie)&&(0,Y.Nn)(Ie)}(He)?He:new c.Hp(He,me,ke);return(0,he.x)(()=>{const{operator:Qe,source:Oe}=this;nt.add(Qe?Qe.call(nt,Oe):Oe?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(He){try{return this._subscribe(He)}catch(me){He.error(me)}}forEach(He,me){return new(me=G(me))((ke,nt)=>{const Qe=new c.Hp({next:Oe=>{try{He(Oe)}catch(we){nt(we),Qe.unsubscribe()}},error:nt,complete:ke});this.subscribe(Qe)})}_subscribe(He){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(He)}[L.L](){return this}pipe(...He){return function be(Ie){return 0===Ie.length?se.y:1===Ie.length?Ie[0]:function(He){return Ie.reduce((me,ke)=>ke(me),He)}}(He)(this)}toPromise(He){return new(He=G(He))((me,ke)=>{let nt;this.subscribe(Qe=>nt=Qe,Qe=>ke(Qe),()=>me(nt))})}}return Ie.create=Pe=>new Ie(Pe),Ie})();function G(Ie){var Pe;return null!==(Pe=null!=Ie?Ie:re.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(ht,Re,O)=>{O.d(Re,{x:()=>re});var c=O(8306),Y=O(727);const se=(0,O(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(8737),be=O(2806);let re=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const te=new ye(this,this);return te.operator=G,te}_throwIfClosed(){if(this.closed)throw new se}next(G){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(G)}})}error(G){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:te}=this;for(;te.length;)te.shift().error(G)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:te,isStopped:Ue,observers:Ie}=this;return te||Ue?Y.Lc:(this.currentObservers=null,Ie.push(G),new Y.w0(()=>{this.currentObservers=null,(0,oe.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:te,thrownError:Ue,isStopped:Ie}=this;te?G.error(Ue):Ie&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return he.create=($,G)=>new ye($,G),he})();class ye extends re{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===te||te.call(G,$)}error($){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===te||te.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,te;return null!==(te=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==te?te:Y.Lc}}},930:(ht,Re,O)=>{O.d(Re,{Hp:()=>He,Lv:()=>te});var c=O(576),Y=O(727),L=O(2416),se=O(7849),oe=O(5032);const be=he("C",void 0,void 0);function he(Oe,we,Ce){return{kind:Oe,value:we,error:Ce}}var $=O(3410),G=O(2806);class te extends Y.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,Y.Nn)(we)&&we.add(this)):this.destination=Qe}static create(we,Ce,qe){return new He(we,Ce,qe)}next(we){this.isStopped?nt(function ye(Oe){return he("N",Oe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?nt(function re(Oe){return he("E",void 0,Oe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?nt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ie(Oe,we){return Ue.call(Oe,we)}class Pe{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(we)}catch(qe){me(qe)}}error(we){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(we)}catch(qe){me(qe)}else me(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ce){me(Ce)}}}class He extends te{constructor(we,Ce,qe){let je;if(super(),(0,c.m)(we)||!we)je={next:null!=we?we:void 0,error:null!=Ce?Ce:void 0,complete:null!=qe?qe:void 0};else{let ie;this&&L.v.useDeprecatedNextContext?(ie=Object.create(we),ie.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&Ie(we.next,ie),error:we.error&&Ie(we.error,ie),complete:we.complete&&Ie(we.complete,ie)}):je=we}this.destination=new Pe(je)}}function me(Oe){L.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Oe):(0,se.h)(Oe)}function nt(Oe,we){const{onStoppedNotification:Ce}=L.v;Ce&&$.z.setTimeout(()=>Ce(Oe,we))}const Qe={closed:!0,next:oe.Z,error:function ke(Oe){throw Oe},complete:oe.Z}},727:(ht,Re,O)=>{O.d(Re,{Lc:()=>be,w0:()=>oe,Nn:()=>re});var c=O(576);const L=(0,O(3888).d)(he=>function(G){he(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((te,Ue)=>`${Ue+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var se=O(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Ie){$=Ie instanceof L?Ie.errors:[Ie]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ie of Ue)try{ye(Ie)}catch(Pe){$=null!=$?$:[],Pe instanceof L?$=[...$,...Pe.errors]:$.push(Pe)}}if($)throw new L($)}}add($){var G;if($&&$!==this)if(this.closed)ye($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,se.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,se.P)(G,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const be=oe.EMPTY;function re(he){return he instanceof oe||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function ye(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(ht,Re,O)=>{O.d(Re,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Re,O)=>{O.d(Re,{E:()=>Y});const Y=new(O(8306).y)(oe=>oe.complete())},8996:(ht,Re,O)=>{O.d(Re,{D:()=>we});var c=O(8421),Y=O(5363),L=O(9468),be=O(8306),ye=O(2202),he=O(576),$=O(9672);function te(Ce,qe){if(!Ce)throw new Error("Iterable cannot be null");return new be.y(je=>{(0,$.f)(je,qe,()=>{const ie=Ce[Symbol.asyncIterator]();(0,$.f)(je,qe,()=>{ie.next().then(Q=>{Q.done?je.complete():je.next(Q.value)})},0,!0)})})}var Ue=O(3670),Ie=O(8239),Pe=O(1144),He=O(6495),me=O(2206),ke=O(4532),nt=O(3260);function we(Ce,qe){return qe?function Oe(Ce,qe){if(null!=Ce){if((0,Ue.c)(Ce))return function se(Ce,qe){return(0,c.Xf)(Ce).pipe((0,L.R)(qe),(0,Y.Q)(qe))}(Ce,qe);if((0,Pe.z)(Ce))return function re(Ce,qe){return new be.y(je=>{let ie=0;return qe.schedule(function(){ie===Ce.length?je.complete():(je.next(Ce[ie++]),je.closed||this.schedule())})})}(Ce,qe);if((0,Ie.t)(Ce))return function oe(Ce,qe){return(0,c.Xf)(Ce).pipe((0,L.R)(qe),(0,Y.Q)(qe))}(Ce,qe);if((0,me.D)(Ce))return te(Ce,qe);if((0,He.T)(Ce))return function G(Ce,qe){return new be.y(je=>{let ie;return(0,$.f)(je,qe,()=>{ie=Ce[ye.h](),(0,$.f)(je,qe,()=>{let Q,ae;try{({value:Q,done:ae}=ie.next())}catch(_e){return void je.error(_e)}ae?je.complete():je.next(Q)},0,!0)}),()=>(0,he.m)(null==ie?void 0:ie.return)&&ie.return()})}(Ce,qe);if((0,nt.L)(Ce))return function Qe(Ce,qe){return te((0,nt.Q)(Ce),qe)}(Ce,qe)}throw(0,ke.z)(Ce)}(Ce,qe):(0,c.Xf)(Ce)}},8421:(ht,Re,O)=>{O.d(Re,{Xf:()=>Ue});var c=O(655),Y=O(1144),L=O(8239),se=O(8306),oe=O(3670),be=O(2206),re=O(4532),ye=O(6495),he=O(3260),$=O(576),G=O(7849),te=O(8822);function Ue(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,oe.c)(Oe))return function Ie(Oe){return new se.y(we=>{const Ce=Oe[te.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,Y.z)(Oe))return function Pe(Oe){return new se.y(we=>{for(let Ce=0;Ce<Oe.length&&!we.closed;Ce++)we.next(Oe[Ce]);we.complete()})}(Oe);if((0,L.t)(Oe))return function He(Oe){return new se.y(we=>{Oe.then(Ce=>{we.closed||(we.next(Ce),we.complete())},Ce=>we.error(Ce)).then(null,G.h)})}(Oe);if((0,be.D)(Oe))return ke(Oe);if((0,ye.T)(Oe))return function me(Oe){return new se.y(we=>{for(const Ce of Oe)if(we.next(Ce),we.closed)return;we.complete()})}(Oe);if((0,he.L)(Oe))return function nt(Oe){return ke((0,he.Q)(Oe))}(Oe)}throw(0,re.z)(Oe)}function ke(Oe){return new se.y(we=>{(function Qe(Oe,we){var Ce,qe,je,ie;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(Oe);!(qe=yield Ce.next()).done;)if(we.next(qe.value),we.closed)return}catch(Q){je={error:Q}}finally{try{qe&&!qe.done&&(ie=Ce.return)&&(yield ie.call(Ce))}finally{if(je)throw je.error}}we.complete()})})(Oe,we).catch(Ce=>we.error(Ce))})}},6451:(ht,Re,O)=>{O.d(Re,{T:()=>be});var c=O(8189),Y=O(8421),L=O(515),se=O(3269),oe=O(8996);function be(...re){const ye=(0,se.yG)(re),he=(0,se._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,c.J)(he)((0,oe.D)($,ye)):L.E}},5403:(ht,Re,O)=>{O.d(Re,{x:()=>Y});var c=O(930);function Y(se,oe,be,re,ye){return new L(se,oe,be,re,ye)}class L extends c.Lv{constructor(oe,be,re,ye,he,$){super(oe),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=be?function(G){try{be(G)}catch(te){oe.error(te)}}:super._next,this._error=ye?function(G){try{ye(G)}catch(te){oe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(ht,Re,O)=>{O.d(Re,{U:()=>L});var c=O(4482),Y=O(5403);function L(se,oe){return(0,c.e)((be,re)=>{let ye=0;be.subscribe((0,Y.x)(re,he=>{re.next(se.call(oe,he,ye++))}))})}},8189:(ht,Re,O)=>{O.d(Re,{J:()=>L});var c=O(5577),Y=O(4671);function L(se=1/0){return(0,c.z)(Y.y,se)}},5577:(ht,Re,O)=>{O.d(Re,{z:()=>ye});var c=O(4004),Y=O(8421),L=O(4482),se=O(9672),oe=O(5403),re=O(576);function ye(he,$,G=1/0){return(0,re.m)($)?ye((te,Ue)=>(0,c.U)((Ie,Pe)=>$(te,Ie,Ue,Pe))((0,Y.Xf)(he(te,Ue))),G):("number"==typeof $&&(G=$),(0,L.e)((te,Ue)=>function be(he,$,G,te,Ue,Ie,Pe,He){const me=[];let ke=0,nt=0,Qe=!1;const Oe=()=>{Qe&&!me.length&&!ke&&$.complete()},we=qe=>ke<te?Ce(qe):me.push(qe),Ce=qe=>{Ie&&$.next(qe),ke++;let je=!1;(0,Y.Xf)(G(qe,nt++)).subscribe((0,oe.x)($,ie=>{null==Ue||Ue(ie),Ie?we(ie):$.next(ie)},()=>{je=!0},void 0,()=>{if(je)try{for(ke--;me.length&&ke<te;){const ie=me.shift();Pe?(0,se.f)($,Pe,()=>Ce(ie)):Ce(ie)}Oe()}catch(ie){$.error(ie)}}))};return he.subscribe((0,oe.x)($,we,()=>{Qe=!0,Oe()})),()=>{null==He||He()}}(te,Ue,he,G)))}},5363:(ht,Re,O)=>{O.d(Re,{Q:()=>se});var c=O(9672),Y=O(4482),L=O(5403);function se(oe,be=0){return(0,Y.e)((re,ye)=>{re.subscribe((0,L.x)(ye,he=>(0,c.f)(ye,oe,()=>ye.next(he),be),()=>(0,c.f)(ye,oe,()=>ye.complete(),be),he=>(0,c.f)(ye,oe,()=>ye.error(he),be)))})}},3099:(ht,Re,O)=>{O.d(Re,{B:()=>be});var c=O(8996),Y=O(5698),L=O(7579),se=O(930),oe=O(4482);function be(ye={}){const{connector:he=(()=>new L.x),resetOnError:$=!0,resetOnComplete:G=!0,resetOnRefCountZero:te=!0}=ye;return Ue=>{let Ie=null,Pe=null,He=null,me=0,ke=!1,nt=!1;const Qe=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Oe=()=>{Qe(),Ie=He=null,ke=nt=!1},we=()=>{const Ce=Ie;Oe(),null==Ce||Ce.unsubscribe()};return(0,oe.e)((Ce,qe)=>{me++,!nt&&!ke&&Qe();const je=He=null!=He?He:he();qe.add(()=>{me--,0===me&&!nt&&!ke&&(Pe=re(we,te))}),je.subscribe(qe),Ie||(Ie=new se.Hp({next:ie=>je.next(ie),error:ie=>{nt=!0,Qe(),Pe=re(Oe,$,ie),je.error(ie)},complete:()=>{ke=!0,Qe(),Pe=re(Oe,G),je.complete()}}),(0,c.D)(Ce).subscribe(Ie))})(Ue)}}function re(ye,he,...$){return!0===he?(ye(),null):!1===he?null:he(...$).pipe((0,Y.q)(1)).subscribe(()=>ye())}},9468:(ht,Re,O)=>{O.d(Re,{R:()=>Y});var c=O(4482);function Y(L,se=0){return(0,c.e)((oe,be)=>{be.add(L.schedule(()=>oe.subscribe(be),se))})}},5698:(ht,Re,O)=>{O.d(Re,{q:()=>se});var c=O(515),Y=O(4482),L=O(5403);function se(oe){return oe<=0?()=>c.E:(0,Y.e)((be,re)=>{let ye=0;be.subscribe((0,L.x)(re,he=>{++ye<=oe&&(re.next(he),oe<=ye&&re.complete())}))})}},8505:(ht,Re,O)=>{O.d(Re,{b:()=>oe});var c=O(576),Y=O(4482),L=O(5403),se=O(4671);function oe(be,re,ye){const he=(0,c.m)(be)||re||ye?{next:be,error:re,complete:ye}:be;return he?(0,Y.e)(($,G)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let Ue=!0;$.subscribe((0,L.x)(G,Ie=>{var Pe;null===(Pe=he.next)||void 0===Pe||Pe.call(he,Ie),G.next(Ie)},()=>{var Ie;Ue=!1,null===(Ie=he.complete)||void 0===Ie||Ie.call(he),G.complete()},Ie=>{var Pe;Ue=!1,null===(Pe=he.error)||void 0===Pe||Pe.call(he,Ie),G.error(Ie)},()=>{var Ie,Pe;Ue&&(null===(Ie=he.unsubscribe)||void 0===Ie||Ie.call(he)),null===(Pe=he.finalize)||void 0===Pe||Pe.call(he)}))}):se.y}},4408:(ht,Re,O)=>{O.d(Re,{o:()=>oe});var c=O(727);class Y extends c.w0{constructor(re,ye){super()}schedule(re,ye=0){return this}}const L={setInterval(be,re,...ye){const{delegate:he}=L;return(null==he?void 0:he.setInterval)?he.setInterval(be,re,...ye):setInterval(be,re,...ye)},clearInterval(be){const{delegate:re}=L;return((null==re?void 0:re.clearInterval)||clearInterval)(be)},delegate:void 0};var se=O(8737);class oe extends Y{constructor(re,ye){super(re,ye),this.scheduler=re,this.work=ye,this.pending=!1}schedule(re,ye=0){if(this.closed)return this;this.state=re;const he=this.id,$=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId($,he,ye)),this.pending=!0,this.delay=ye,this.id=this.id||this.requestAsyncId($,this.id,ye),this}requestAsyncId(re,ye,he=0){return L.setInterval(re.flush.bind(re,this),he)}recycleAsyncId(re,ye,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ye;L.clearInterval(ye)}execute(re,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(re,ye);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ye){let $,he=!1;try{this.work(re)}catch(G){he=!0,$=G||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:ye}=this,{actions:he}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(he,this),null!=re&&(this.id=this.recycleAsyncId(ye,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Re,O)=>{O.d(Re,{v:()=>L});var c=O(6063);class Y{constructor(oe,be=Y.now){this.schedulerActionCtor=oe,this.now=be}schedule(oe,be=0,re){return new this.schedulerActionCtor(this,oe).schedule(re,be)}}Y.now=c.l.now;class L extends Y{constructor(oe,be=Y.now){super(oe,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:be}=this;if(this._active)return void be.push(oe);let re;this._active=!0;do{if(re=oe.execute(oe.state,oe.delay))break}while(oe=be.shift());if(this._active=!1,re){for(;oe=be.shift();)oe.unsubscribe();throw re}}}},4986:(ht,Re,O)=>{O.d(Re,{z:()=>L,P:()=>se});var c=O(4408);const L=new(O(7565).v)(c.o),se=L},6063:(ht,Re,O)=>{O.d(Re,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ht,Re,O)=>{O.d(Re,{z:()=>c});const c={setTimeout(Y,L,...se){const{delegate:oe}=c;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(Y,L,...se):setTimeout(Y,L,...se)},clearTimeout(Y){const{delegate:L}=c;return((null==L?void 0:L.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(ht,Re,O)=>{O.d(Re,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Re,O)=>{O.d(Re,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Re,O)=>{O.d(Re,{jO:()=>se,yG:()=>oe,_6:()=>be});var c=O(576),Y=O(3532);function L(re){return re[re.length-1]}function se(re){return(0,c.m)(L(re))?re.pop():void 0}function oe(re){return(0,Y.K)(L(re))?re.pop():void 0}function be(re,ye){return"number"==typeof L(re)?re.pop():ye}},8737:(ht,Re,O)=>{function c(Y,L){if(Y){const se=Y.indexOf(L);0<=se&&Y.splice(se,1)}}O.d(Re,{P:()=>c})},3888:(ht,Re,O)=>{function c(Y){const se=Y(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(Re,{d:()=>c})},2806:(ht,Re,O)=>{O.d(Re,{x:()=>L,O:()=>se});var c=O(2416);let Y=null;function L(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const be=!Y;if(be&&(Y={errorThrown:!1,error:null}),oe(),be){const{errorThrown:re,error:ye}=Y;if(Y=null,re)throw ye}}else oe()}function se(oe){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=oe)}},9672:(ht,Re,O)=>{function c(Y,L,se,oe=0,be=!1){const re=L.schedule(function(){se(),be?Y.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(Y.add(re),!be)return re}O.d(Re,{f:()=>c})},4671:(ht,Re,O)=>{function c(Y){return Y}O.d(Re,{y:()=>c})},1144:(ht,Re,O)=>{O.d(Re,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(ht,Re,O)=>{O.d(Re,{D:()=>Y});var c=O(576);function Y(L){return Symbol.asyncIterator&&(0,c.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(ht,Re,O)=>{function c(Y){return"function"==typeof Y}O.d(Re,{m:()=>c})},3670:(ht,Re,O)=>{O.d(Re,{c:()=>L});var c=O(8822),Y=O(576);function L(se){return(0,Y.m)(se[c.L])}},6495:(ht,Re,O)=>{O.d(Re,{T:()=>L});var c=O(2202),Y=O(576);function L(se){return(0,Y.m)(null==se?void 0:se[c.h])}},8239:(ht,Re,O)=>{O.d(Re,{t:()=>Y});var c=O(576);function Y(L){return(0,c.m)(null==L?void 0:L.then)}},3260:(ht,Re,O)=>{O.d(Re,{Q:()=>L,L:()=>se});var c=O(655),Y=O(576);function L(oe){return(0,c.FC)(this,arguments,function*(){const re=oe.getReader();try{for(;;){const{value:ye,done:he}=yield(0,c.qq)(re.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ye)}}finally{re.releaseLock()}})}function se(oe){return(0,Y.m)(null==oe?void 0:oe.getReader)}},3532:(ht,Re,O)=>{O.d(Re,{K:()=>Y});var c=O(576);function Y(L){return L&&(0,c.m)(L.schedule)}},4482:(ht,Re,O)=>{O.d(Re,{A:()=>Y,e:()=>L});var c=O(576);function Y(se){return(0,c.m)(null==se?void 0:se.lift)}function L(se){return oe=>{if(Y(oe))return oe.lift(function(be){try{return se(be,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Re,O)=>{function c(){}O.d(Re,{Z:()=>c})},7849:(ht,Re,O)=>{O.d(Re,{h:()=>L});var c=O(2416),Y=O(3410);function L(se){Y.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw se;oe(se)})}},4532:(ht,Re,O)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Re,{z:()=>c})},655:(ht,Re,O)=>{function se(Q,ae){var _e={};for(var ue in Q)Object.prototype.hasOwnProperty.call(Q,ue)&&ae.indexOf(ue)<0&&(_e[ue]=Q[ue]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ue=Object.getOwnPropertySymbols(Q);Le<ue.length;Le++)ae.indexOf(ue[Le])<0&&Object.prototype.propertyIsEnumerable.call(Q,ue[Le])&&(_e[ue[Le]]=Q[ue[Le]])}return _e}function ye(Q,ae,_e,ue){return new(_e||(_e=Promise))(function(ce,It){function Kt(_t){try{rt(ue.next(_t))}catch(yn){It(yn)}}function mn(_t){try{rt(ue.throw(_t))}catch(yn){It(yn)}}function rt(_t){_t.done?ce(_t.value):function Le(ce){return ce instanceof _e?ce:new _e(function(It){It(ce)})}(_t.value).then(Kt,mn)}rt((ue=ue.apply(Q,ae||[])).next())})}function me(Q){return this instanceof me?(this.v=Q,this):new me(Q)}function ke(Q,ae,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ue=_e.apply(Q,ae||[]),ce=[];return Le={},It("next"),It("throw"),It("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function It(_n){ue[_n]&&(Le[_n]=function(kr){return new Promise(function(en,Yn){ce.push([_n,kr,en,Yn])>1||Kt(_n,kr)})})}function Kt(_n,kr){try{!function mn(_n){_n.value instanceof me?Promise.resolve(_n.value.v).then(rt,_t):yn(ce[0][2],_n)}(ue[_n](kr))}catch(en){yn(ce[0][3],en)}}function rt(_n){Kt("next",_n)}function _t(_n){Kt("throw",_n)}function yn(_n,kr){_n(kr),ce.shift(),ce.length&&Kt(ce[0][0],ce[0][1])}}function Qe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ae=Q[Symbol.asyncIterator];return ae?ae.call(Q):(Q=function te(Q){var ae="function"==typeof Symbol&&Symbol.iterator,_e=ae&&Q[ae],ue=0;if(_e)return _e.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ue>=Q.length&&(Q=void 0),{value:Q&&Q[ue++],done:!Q}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),_e={},ue("next"),ue("throw"),ue("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ue(ce){_e[ce]=Q[ce]&&function(It){return new Promise(function(Kt,mn){!function Le(ce,It,Kt,mn){Promise.resolve(mn).then(function(rt){ce({value:rt,done:Kt})},It)}(Kt,mn,(It=Q[ce](It)).done,It.value)})}}}O.d(Re,{_T:()=>se,mG:()=>ye,qq:()=>me,FC:()=>ke,KL:()=>Qe})},5e3:(ht,Re,O)=>{O.d(Re,{deG:()=>ky,tb:()=>Tl,AFp:()=>yb,ip1:()=>hC,CZH:()=>ey,hGG:()=>NC,z2F:()=>$d,sBO:()=>Ku,Sil:()=>Sl,_Vd:()=>up,EJc:()=>mC,SBq:()=>cp,qLn:()=>Lr,vpe:()=>oo,tBr:()=>Ss,XFs:()=>gt,OlP:()=>Wn,zs3:()=>Wi,ZZ4:()=>ay,aQg:()=>Fb,soG:()=>Cp,YKP:()=>Ad,h0i:()=>Fu,PXZ:()=>Ml,R0b:()=>fi,FiY:()=>el,Lbi:()=>Vd,g9A:()=>fC,Qsj:()=>nT,FYo:()=>Kv,JOm:()=>fe,q3G:()=>an,tp0:()=>nl,Rgc:()=>Hu,dDg:()=>wb,q4F:()=>Nu,GfV:()=>Na,s_b:()=>pp,ifc:()=>Bt,eFA:()=>Ib,G48:()=>IC,Gpc:()=>G,f3M:()=>As,X6Q:()=>Ab,_c5:()=>OC,VLi:()=>qu,c2e:()=>Al,zSh:()=>Y_,wAp:()=>Tt,vHH:()=>Pe,EiD:()=>su,mCW:()=>pa,qzn:()=>Js,JVY:()=>qh,pB0:()=>Nc,eBb:()=>_m,L6k:()=>Oc,LAX:()=>vm,cg1:()=>Ng,kL8:()=>Yf,yhl:()=>fa,dqk:()=>qt,sIi:()=>Xc,CqO:()=>sd,QGY:()=>_g,F4k:()=>bv,RDi:()=>Ha,AaK:()=>ye,z3N:()=>ds,qOj:()=>tv,TTD:()=>mo,_Bn:()=>xw,xp6:()=>w_,uIk:()=>kf,ekj:()=>Mv,Suo:()=>lb,Xpm:()=>De,lG2:()=>Ut,Yz7:()=>en,cJS:()=>Wt,oAB:()=>z,Yjl:()=>Dn,Y36:()=>Ff,_UZ:()=>gg,BQk:()=>Cu,ynx:()=>ml,qZA:()=>pl,TgZ:()=>Lf,EpF:()=>yg,n5z:()=>um,Ikx:()=>Og,LFG:()=>Kn,$8M:()=>sa,$Z:()=>GE,NdJ:()=>Vf,CRH:()=>Ww,oxw:()=>zE,Hsn:()=>Eg,F$t:()=>Uf,Q6J:()=>Sa,MGl:()=>jf,VKq:()=>Lw,WLB:()=>Vw,iGM:()=>ob,MAs:()=>og,CHM:()=>Ga,LSH:()=>sl,YNc:()=>Rf,_uU:()=>XE,Oqu:()=>pd,hij:()=>yl,Gf:()=>ab});var c=O(7579),Y=O(727),L=O(8306),se=O(6451),oe=O(3099);function be(s){for(let o in s)if(s[o]===be)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=be({__forward_ref__:be});function G(s){return s.__forward_ref__=G,s.toString=function(){return ye(this())},s}function te(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===G}class Pe extends Error{constructor(o,a){super(function He(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function we(s,o){const a=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${ke(s)} found${a}`)}function rt(s,o){null==s&&function _t(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Mt(s){return xn(s,ur)||xn(s,br)}function xn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Tn(s){return s&&(s.hasOwnProperty(vr)||s.hasOwnProperty(cr))?s[vr]:null}const ur=be({\u0275prov:be}),vr=be({\u0275inj:be}),br=be({ngInjectableDef:be}),cr=be({ngInjectorDef:be});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let On;function kn(s){const o=On;return On=s,o}function dr(s,o,a){const u=Mt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&gt.Optional?null:void 0!==o?o:void we(ye(s),"Injector")}function cn(s){return{toString:s}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),Bt=(()=>{return(s=Bt||(Bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Bt;var s})();const it="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,nr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=it||"undefined"!=typeof global&&global||at||nr,Pn={},yt=[],rr=be({\u0275cmp:be}),zt=be({\u0275dir:be}),We=be({\u0275pipe:be}),xe=be({\u0275mod:be}),et=be({\u0275fac:be}),J=be({__NG_ELEMENT_ID__:be});let pe=0;function De(s){return cn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||yt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Bt.Emulated,id:"c",styles:s.styles||yt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return u.id+=pe++,u.inputs=st(s.inputs,a),u.outputs=st(s.outputs),m&&m.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(k):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(U):null,u})}function k(s){return jt(s)||function nn(s){return s[zt]||null}(s)}function U(s){return function kt(s){return s[We]||null}(s)}const X={};function z(s){return cn(()=>{const o={type:s.type,bootstrap:s.bootstrap||yt,declarations:s.declarations||yt,imports:s.imports||yt,exports:s.exports||yt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(X[s.id]=s.type),o})}function st(s,o){if(null==s)return Pn;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,o&&(o[h]=m)}return a}const Ut=De;function Dn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[rr]||null}function dn(s,o){const a=s[xe]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function $r(s){return Array.isArray(s)&&"object"==typeof s[1]}function Cr(s){return Array.isArray(s)&&!0===s[1]}function Ll(s){return 0!=(8&s.flags)}function Ls(s){return 2==(2&s.flags)}function zo(s){return 1==(1&s.flags)}function ti(s){return null!==s.template}function Vl(s){return 0!=(512&s[2])}function gi(s,o){return s.hasOwnProperty(et)?s[et]:null}class po{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function mo(){return Zo}function Zo(s){return s.type.prototype.ngOnChanges&&(s.setInput=mc),pc}function pc(){const s=Ko(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Pn)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function mc(s,o,a,u){const h=Ko(s)||function go(s,o){return s[ji]=o}(s,{previous:Pn,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[a],C=v[E];m[E]=new po(C&&C.currentValue,o,v===Pn),s[u]=o}mo.ngInherit=!0;const ji="__ngSimpleChanges__";function Ko(s){return s[ji]||null}let is;function Ha(s){is=s}function on(s){return!!s.listen}const $a={createRenderer:(s,o)=>function jl(){return void 0!==is?is:"undefined"!=typeof document?document:void 0}()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function Yo(s,o){return wn(o[s])}function Nr(s,o){return wn(o[s.index])}function N(s,o){return s.data[o]}function q(s,o){const a=o[s];return $r(a)?a:a[0]}function le(s){return 4==(4&s[2])}function Ve(s){return 128==(128&s[2])}function wt(s,o){return null==o?null:s[o]}function Cn(s){s[18]=0}function Ln(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Xe={lFrame:ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qo(){return Xe.bindingsEnabled}function Me(){return Xe.lFrame.lView}function $t(){return Xe.lFrame.tView}function Ga(s){return Xe.lFrame.contextLView=s,s[8]}function Gn(){let s=qa();for(;null!==s&&64===s.type;)s=s.parent;return s}function qa(){return Xe.lFrame.currentTNode}function Mi(s,o){const a=Xe.lFrame;a.currentTNode=s,a.isParent=o}function ph(){return Xe.lFrame.isParent}function mh(){Xe.lFrame.isParent=!1}function yc(){return Xe.isInCheckNoChangesMode}function za(s){Xe.isInCheckNoChangesMode=s}function qr(){const s=Xe.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function vo(){return Xe.lFrame.bindingIndex++}function yh(s,o){const a=Xe.lFrame;a.bindingIndex=a.bindingRootIndex=s,Gl(o)}function Gl(s){Xe.lFrame.currentDirectiveIndex=s}function _h(){return Xe.lFrame.currentQueryIndex}function vh(s){Xe.lFrame.currentQueryIndex=s}function f0(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function nm(s,o,a){if(a&gt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&gt.Host||(h=f0(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=Xe.lFrame=rm();return u.currentTNode=o,u.lView=s,!0}function Wa(s){const o=rm(),a=s[1];Xe.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function rm(){const s=Xe.lFrame,o=null===s?null:s.child;return null===o?ea(s):o}function ea(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function im(){const s=Xe.lFrame;return Xe.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ty=im;function ql(){const s=im();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ni(){return Xe.lFrame.selectedIndex}function js(s){Xe.lFrame.selectedIndex=s}function qn(){const s=Xe.lFrame;return N(s.tView,s.selectedIndex)}function Hs(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:M}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),D&&((s.viewHooks||(s.viewHooks=[])).push(a,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,D)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function zl(s,o,a){Sy(s,o,3,a)}function Eh(s,o,a,u){(3&s[2])===a&&Sy(s,o,a,u)}function wh(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Sy(s,o,a,u){const m=null!=u?u:-1,v=o.length-1;let E=0;for(let C=void 0!==u?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=u&&E>=u)break}else o[C]<0&&(s[18]+=65536),(E<m||-1==m)&&(m0(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function m0(s,o,a,u){const h=a[u]<0,m=a[u+1],E=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Za{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function vt(s,o,a){const u=on(s);let h=0;for(;h<a.length;){const m=a[h];if("number"==typeof m){if(0!==m)break;h++;const v=a[h++],E=a[h++],C=a[h++];u?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=m,E=a[++h];_i(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Sn(s){return 3===s||4===s||6===s}function _i(s){return 64===s.charCodeAt(0)}function ri(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Ka(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Ka(s,o,a,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,a),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function om(s){return-1!==s}function Rn(s){return 32767&s}function Gs(s,o){let a=function My(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Dh=!0;function Ds(s){const o=Dh;return Dh=s,o}let Ah=0;function Vn(s,o){const a=Ya(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,ta(u.data,s),ta(o,null),ta(u.blueprint,null));const h=vc(s,o),m=s.injectorIndex;if(om(h)){const v=Rn(h),E=Gs(h,o),C=E[1].data;for(let D=0;D<8;D++)o[m+D]=E[v+D]|C[v+D]}return o[m+8]=h,m}function ta(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ya(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function vc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(u=2===v?m.declTNode:1===v?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function na(s,o,a){!function Wl(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(J)&&(u=a[J]),null==u&&(u=a[J]=Ah++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Co(s,o,a){if(a&gt.Optional)return s;we(o,"NodeInjector")}function lm(s,o,a,u){if(a&gt.Optional&&void 0===u&&(u=null),0==(a&(gt.Self|gt.Host))){const h=s[9],m=kn(void 0);try{return h?h.get(o,u,a&gt.Optional):dr(o,u,a&gt.Optional)}finally{kn(m)}}return Co(u,o,a)}function ra(s,o,a,u=gt.Default,h){if(null!==s){const m=function ia(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(J)?s[J]:void 0;return"number"==typeof o?o>=0?255&o:xy:o}(a);if("function"==typeof m){if(!nm(o,s,u))return u&gt.Host?Co(h,a,u):lm(o,a,u,h);try{const v=m(u);if(null!=v||u&gt.Optional)return v;we(a)}finally{Ty()}}else if("number"==typeof m){let v=null,E=Ya(s,o),C=-1,D=u&gt.Host?o[16][6]:null;for((-1===E||u&gt.SkipSelf)&&(C=-1===E?vc(s,o):o[E+8],-1!==C&&Pr(u,!1)?(v=o[1],E=Rn(C),o=Gs(C,o)):E=-1);-1!==E;){const M=o[1];if(Mh(m,E,M.data)){const P=Sh(E,o,a,v,u,D);if(P!==Qa)return P}C=o[E+8],-1!==C&&Pr(u,o[1].data[E+8]===D)&&Mh(m,E,o)?(v=M,E=Rn(C),o=Gs(C,o)):E=-1}}}return lm(o,a,u,h)}const Qa={};function xy(){return new zs(Gn(),Me())}function Sh(s,o,a,u,h,m){const v=o[1],E=v.data[s+8],M=qs(E,v,a,null==u?Ls(E)&&Dh:u!=v&&0!=(3&E.type),h&gt.Host&&m===E);return null!==M?as(o,v,M,E):Qa}function qs(s,o,a,u,h){const m=s.providerIndexes,v=o.data,E=1048575&m,C=s.directiveStart,M=m>>20,j=h?E+M:s.directiveEnd;for(let ee=u?E:E+M;ee<j;ee++){const Ee=v[ee];if(ee<C&&a===Ee||ee>=C&&Ee.type===a)return ee}if(h){const ee=v[C];if(ee&&ti(ee)&&ee.type===a)return C}return null}function as(s,o,a,u){let h=s[a];const m=o.data;if(function g0(s){return s instanceof Za}(h)){const v=h;v.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${a}`)}(ke(m[a]));const E=Ds(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?kn(v.injectImpl):null;nm(s,u,gt.Default);try{h=s[a]=v.factory(void 0,m,s,u),o.firstCreatePass&&a>=u.directiveStart&&function bh(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=Zo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==C&&kn(C),Ds(E),v.resolving=!1,Ty()}}return h}function Mh(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Pr(s,o){return!(s&gt.Self||s&gt.Host&&o)}class zs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return ra(this._tNode,this._lView,o,u,a)}}function um(s){return cn(()=>{const o=s.prototype.constructor,a=o[et]||Dr(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[et]||Dr(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Dr(s){return Ue(s)?()=>{const o=Dr(te(s));return o&&o()}:gi(s)}function sa(s){return function os(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(Sn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(Gn(),s)}const Ja="__parameters__";function zn(s,o,a){return cn(()=>{const u=function ls(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(C,D,M){const P=C.hasOwnProperty(Ja)?C[Ja]:Object.defineProperty(C,Ja,{value:[]})[Ja];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(v),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Wn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ky=new Wn("AnalyzeForEntryComponents");function si(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),si(u,o)):o!==s&&o.push(u)}return o}function qi(s,o){s.forEach(a=>Array.isArray(a)?qi(a,o):o(a))}function Oh(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ua(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Zs(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function hr(s,o,a){let u=To(s,o);return u>=0?s[1|u]=a:(u=~u,function Ny(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function wc(s,o){const a=To(s,o);if(a>=0)return s[1|a]}function To(s,o){return function dm(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<a];if(o===v)return m<<a;v>o?h=m:u=m+1}return~(h<<a)}(s,o,1)}const ca={},Xa="__NG_DI_FLAG__",Zl="ngTempTokenPath",Fh=/\n/gm,Lh="__source",Tc=be({provide:String,useValue:be});let Ao;function So(s){const o=Ao;return Ao=s,o}function Yt(s,o=gt.Default){if(void 0===Ao)throw new Pe(203,"");return null===Ao?dr(s,void 0,o):Ao.get(s,o&gt.Optional?null:void 0,o)}function Kn(s,o=gt.Default){return(function Nn(){return On}()||Yt)(te(s),o)}const As=Kn;function Vh(s){const o=[];for(let a=0;a<s.length;a++){const u=te(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Pe(900,"");let h,m=gt.Default;for(let v=0;v<u.length;v++){const E=u[v],C=Kl(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(Kn(h,m))}else o.push(Kn(u))}return o}function Mo(s,o){return s[Xa]=o,s.prototype[Xa]=o,s}function Kl(s){return s[Xa]}const Ss=Mo(zn("Inject",s=>({token:s})),-1),el=Mo(zn("Optional"),8),nl=Mo(zn("SkipSelf"),4);let Ys;function ha(s){var o;return(null===(o=function Mc(){if(void 0===Ys&&(Ys=null,qt.trustedTypes))try{Ys=qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ys}())||void 0===o?void 0:o.createHTML(s))||s}class Qs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $h extends Qs{getTypeName(){return"HTML"}}class Gy extends Qs{getTypeName(){return"Style"}}class eu extends Qs{getTypeName(){return"Script"}}class Gh extends Qs{getTypeName(){return"URL"}}class qy extends Qs{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof Qs?s.changingThisBreaksApplicationSecurity:s}function Js(s,o){const a=fa(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function fa(s){return s instanceof Qs&&s.getTypeName()||null}function qh(s){return new $h(s)}function Oc(s){return new Gy(s)}function _m(s){return new eu(s)}function vm(s){return new Gh(s)}function Nc(s){return new qy(s)}class zy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(ha(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Wy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ha(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ha(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ms=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pa(s){return(s=String(s)).match(Ms)||s.match(zh)?s:"unsafe:"+s}function Ri(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function tu(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Em=Ri("area,br,col,hr,img,wbr"),Pc=Ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fc=Ri("rp,rt"),Zh=tu(Em,tu(Pc,Ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(Fc,Ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(Fc,Pc)),Kh=Ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=Ri("srcset"),xo=tu(Kh,Yh,Ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ky=Ri("script,style,template");class ru{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Zh.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ky.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),v=m.name,E=v.toLowerCase();if(!xo.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;Kh[E]&&(C=pa(C)),Yh[E]&&(s=C,C=(s=String(s)).split(",").map(o=>pa(o.trim())).join(", ")),this.buf.push(" ",v,'="',Jh(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Zh.hasOwnProperty(a)&&!Em.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Jh(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ga=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qh=/([^\#-~ |!])/g;function Jh(s){return s.replace(/&/g,"&amp;").replace(ga,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Qh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let iu;function su(s,o){let a=null;try{iu=iu||function bm(s){const o=new Wy(s);return function Zy(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch(s){return!1}}()?new zy(o):o}(s);let u=o?String(o):"";a=iu.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=a.innerHTML,a=iu.getInertBodyElement(u)}while(u!==m);return ha((new ru).sanitizeChildren(Xh(a)||a))}finally{if(a){const u=Xh(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Xh(s){return"content"in s&&function ef(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var an=(()=>((an=an||{})[an.NONE=0]="NONE",an[an.HTML=1]="HTML",an[an.STYLE=2]="STYLE",an[an.SCRIPT=3]="SCRIPT",an[an.URL=4]="URL",an[an.RESOURCE_URL=5]="RESOURCE_URL",an))();function sl(s){const o=function Xs(){const s=Me();return s&&s[12]}();return o?o.sanitize(an.URL,s)||"":Js(s,"URL")?ds(s):pa(me(s))}const nf="__ngContext__";function zr(s,o){s[nf]=o}function rf(s){const o=function ya(s){return s[nf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ba(s){return s.ngOriginalError}function Sm(s,...o){s.error(...o)}class Lr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function n_(s){return s&&s.ngErrorLogger||Sm}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ba(o);for(;a&&ba(a);)a=ba(a);return a||null}}const o_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function g(s){return s instanceof Function?s():s}var fe=(()=>((fe=fe||{})[fe.Important=1]="Important",fe[fe.DashCase=2]="DashCase",fe))();function ot(s,o){return undefined(s,o)}function Bn(s){const o=s[3];return Cr(o)?o[3]:o}function ol(s){return ff(s[13])}function al(s){return ff(s[4])}function ff(s){for(;null!==s&&!Cr(s);)s=s[4];return s}function Ro(s,o,a,u,h){if(null!=u){let m,v=!1;Cr(u)?m=u:$r(u)&&(v=!0,u=u[0]);const E=wn(u);0===s&&null!==a?null==h?p_(o,a,E):hs(o,a,E,h||null,!0):1===s&&null!==a?hs(o,a,E,h||null,!0):2===s?function __(s,o,a){const u=gf(s,o);u&&function HI(s,o,a,u){on(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function du(s,o,a,u,h){const m=a[7];m!==wn(a)&&Ro(o,s,u,m,h);for(let E=10;E<a.length;E++){const C=a[E];Rm(C[1],C,s,o,u,m)}}(o,s,m,a,h)}}function jc(s,o,a){if(on(s))return s.createElement(o,a);{const u=null!==a?function ja(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function w0(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ln(h,-1)),a.splice(u,1)}function d_(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&w0(h,u),o>0&&(s[a-1][4]=u[4]);const m=ua(s,10+o);!function Wr(s,o){Rm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function h_(s,o){if(!(256&o[2])){const a=o[11];on(a)&&a.destroyNode&&Rm(s,o,a,3,null,null),function u_(s){let o=s[13];if(!o)return f_(s[1],s);for(;o;){let a=null;if($r(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)$r(o)&&f_(o[1],o),o=o[3];null===o&&(o=s),$r(o)&&f_(o[1],o),a=o&&o[4]}o=a}}(o)}}function f_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function I0(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Za)){const m=a[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],C=m[v+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function C0(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const v=a[m+1],E="function"==typeof v?v(o):wn(o[v]),C=u[h=a[m+2]],D=a[m+3];"boolean"==typeof D?E.removeEventListener(a[m],C,D):D>=0?u[h=D]():u[h=-D].unsubscribe(),m+=2}else{const v=u[h=a[m+1]];a[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&on(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Cr(o[3])){a!==o[3]&&w0(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function xm(s,o,a){return function jI(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Bt.None||h===Bt.Emulated)return null}return Nr(u,a)}(s,o.parent,a)}function hs(s,o,a,u,h){on(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function p_(s,o,a){on(s)?s.appendChild(o,a):o.appendChild(a)}function D0(s,o,a,u,h){null!==u?hs(s,o,a,u,h):p_(s,o,a)}function gf(s,o){return on(s)?s.parentNode(o):o.parentNode}function T0(s,o,a){return m_(s,o,a)}let m_=function A0(s,o,a){return 40&s.type?Nr(s,a):null};function km(s,o,a,u){const h=xm(s,u,o),m=o[11],E=T0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)D0(m,h,a[C],E,!1);else D0(m,h,a,E,!1)}function Gc(s,o){if(null!==o){const a=o.type;if(3&a)return Nr(o,s);if(4&a)return y_(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Gc(s,u);{const h=s[o.index];return Cr(h)?y_(-1,h):wn(h)}}if(32&a)return ot(o,s)()||wn(s[o.index]);{const u=M0(s,o);return null!==u?Array.isArray(u)?u[0]:Gc(Bn(s[16]),u):Gc(s,o.next)}}return null}function M0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function y_(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return Gc(u,h)}return o[7]}function v_(s,o,a,u,h,m,v){for(;null!=a;){const E=u[a.index],C=a.type;if(v&&0===o&&(E&&zr(wn(E),u),a.flags|=4),64!=(64&a.flags))if(8&C)v_(s,o,a.child,u,h,m,!1),Ro(o,s,h,E,m);else if(32&C){const D=ot(a,u);let M;for(;M=D();)Ro(o,s,h,M,m);Ro(o,s,h,E,m)}else 16&C?b_(s,o,u,a,h,m):Ro(o,s,h,E,m);a=v?a.projectionNext:a.next}}function Rm(s,o,a,u,h,m){v_(a,u,s.firstChild,o,h,m,!1)}function b_(s,o,a,u,h,m){const v=a[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Ro(o,s,h,C[D],m);else v_(s,o,C,v[3],h,m,!0)}function k0(s,o,a){on(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Om(s,o,a){on(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function R0(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}a=h+1}}const O0="ng-template";function Nm(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==R0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ea(s){return 4===s.type&&s.value!==O0}function N0(s,o,a){return o===(4!==s.type||a?s.value:O0)}function bi(s,o,a){let u=4;const h=s.attrs||[],m=function F0(s){for(let o=0;o<s.length;o++)if(Sn(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!N0(s,C,a)||""===C&&1===o.length){if(Zr(u))return!1;v=!0}}else{const D=8&u?C:o[++E];if(8&u&&null!==s.attrs){if(!Nm(s.attrs,D,a)){if(Zr(u))return!1;v=!0}continue}const P=GI(8&u?"class":C,h,Ea(s),a);if(-1===P){if(Zr(u))return!1;v=!0;continue}if(""!==D){let j;j=P>m?"":h[P+1].toLowerCase();const ee=8&u?j:null;if(ee&&-1!==R0(ee,D,0)||2&u&&D!==j){if(Zr(u))return!1;v=!0}}}}else{if(!v&&!Zr(u)&&!Zr(C))return!1;if(v&&Zr(C))continue;v=!1,u=C|1&u}}return Zr(u)||v}function Zr(s){return 0==(1&s)}function GI(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function L0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Oo(s,o,a=!1){for(let u=0;u<o.length;u++)if(bi(s,o[u],a))return!0;return!1}function V0(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function E_(s,o){return s?":not("+o.trim()+")":o}function B0(s){let o=s[0],a=1,u=2,h="",m=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const E=s[++a];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Zr(v)&&(o+=E_(m,h),h=""),u=v,m=m||!Zr(u);a++}return""!==h&&(o+=E_(m,h)),o}const Pt={};function w_(s){C_($t(),Me(),ni()+s,yc())}function C_(s,o,a,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&zl(o,m,a)}else{const m=s.preOrderHooks;null!==m&&Eh(o,m,0,a)}js(a)}function yf(s,o){return s<<17|o<<2}function to(s){return s>>17&32767}function _f(s){return 2|s}function No(s){return(131068&s)>>2}function vf(s,o){return-131069&s|o<<2}function Pm(s){return 1|s}function jm(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const v=s.data[m];vh(h),v.contentQueries(2,o[m],m)}}}function hu(s,o,a,u,h,m,v,E,C,D){const M=o.blueprint.slice();return M[0]=h,M[2]=140|u,Cn(M),M[3]=M[15]=s,M[8]=a,M[10]=v||s&&s[10],M[11]=E||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=D||s&&s[9]||null,M[6]=m,M[16]=2==o.type?s[16]:M,M}function ul(s,o,a,u,h){let m=s.data[o];if(null===m)m=function J0(s,o,a,u,h){const m=qa(),v=ph(),C=s.data[o]=function eE(s,o,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,a,u,h),function gh(){return Xe.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const v=function $l(){const s=Xe.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Mi(m,!0),m}function cl(s,o,a,u){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function wa(s,o,a){Wa(o);try{const u=s.viewQuery;null!==u&&z_(1,u,a);const h=s.template;null!==h&&Zc(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&jm(s,o),s.staticViewQueries&&z_(2,s.viewQuery,a);const m=s.components;null!==m&&function Q0(s,o){for(let a=0;a<o.length;a++)H_(s,o[a])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ql()}}function Ca(s,o,a,u){const h=o[2];if(256==(256&h))return;Wa(o);const m=yc();try{Cn(o),function em(s){return Xe.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Zc(s,o,a,2,u);const v=3==(3&h);if(!m)if(v){const D=s.preOrderCheckHooks;null!==D&&zl(o,D,null)}else{const D=s.preOrderHooks;null!==D&&Eh(o,D,0,null),wh(o,0)}if(function aD(s){for(let o=ol(s);null!==o;o=al(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(1024&h[2])&&Ln(m,1),h[2]|=1024}}}(o),function dE(s){for(let o=ol(s);null!==o;o=al(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];Ve(u)&&Ca(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&jm(s,o),!m)if(v){const D=s.contentCheckHooks;null!==D&&zl(o,D)}else{const D=s.contentHooks;null!==D&&Eh(o,D,1),wh(o,1)}!function JI(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)js(~h);else{const m=h,v=a[++u],E=a[++u];yh(v,m),E(2,o[m])}}}finally{js(-1)}}(s,o);const E=s.components;null!==E&&function XI(s,o){for(let a=0;a<o.length;a++)If(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&z_(2,C,u),!m)if(v){const D=s.viewCheckHooks;null!==D&&zl(o,D)}else{const D=s.viewHooks;null!==D&&Eh(o,D,2),wh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ln(o[3],-1))}finally{ql()}}function Wc(s,o,a,u){const h=o[10],m=!yc(),v=le(o);try{m&&!v&&h.begin&&h.begin(),v&&wa(s,o,u),Ca(s,o,a,u)}finally{m&&!v&&h.end&&h.end()}}function Zc(s,o,a,u,h){const m=ni(),v=2&u;try{js(-1),v&&o.length>20&&C_(s,o,20,yc()),a(u,h)}finally{js(m)}}function X0(s,o,a){if(Ll(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,a[m],m)}}}function wf(s,o,a){!Qo()||(function rE(s,o,a,u){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||Vn(a,o),zr(u,o);const v=a.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],D=ti(C);D&&aE(o,a,C);const M=as(o,s,E,a);zr(M,o),null!==v&&oD(0,E-h,M,C,0,v),D&&(q(a.index,o)[8]=M)}}(s,o,a,Nr(a,o)),128==(128&a.flags)&&function rD(s,o,a){const u=a.directiveStart,h=a.directiveEnd,v=a.index,E=function Dy(){return Xe.lFrame.currentDirectiveIndex}();try{js(v);for(let C=u;C<h;C++){const D=s.data[C],M=o[C];Gl(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&B_(D,M)}}finally{js(-1),Gl(E)}}(s,o,a))}function Hm(s,o,a=Nr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],E=-1===v?a(o,s):s[v];s[h++]=E}}}function $m(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Cf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Cf(s,o,a,u,h,m,v,E,C,D){const M=20+u,P=M+h,j=function Gm(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Pt);return a}(M,P),ee="function"==typeof D?D():D;return j[1]={type:s,blueprint:j,template:a,queries:null,viewQuery:E,declTNode:o,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function N_(s,o,a,u){const h=fE(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&dD(s).push(u,h.length-1))}function P_(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function Ei(s,o,a,u,h,m,v,E){const C=Nr(o,a);let M,D=o.inputs;!E&&null!=D&&(M=D[u])?(W_(s,a,M,u,h),Ls(o)&&function tE(s,o){const a=q(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function Kc(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,on(m)?m.setProperty(C,u,h):_i(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function nE(s,o,a,u){let h=!1;if(Qo()){const m=function iE(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];Oo(a,v.selectors,!1)&&(h||(h=[]),na(Vn(a,o),s,v.type),ti(v)?(U_(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===u?null:{"":-1};if(null!==m){h=!0,oE(a,s.data.length,m.length);for(let M=0;M<m.length;M++){const P=m[M];P.providersResolver&&P.providersResolver(P)}let E=!1,C=!1,D=cl(s,o,m.length,null);for(let M=0;M<m.length;M++){const P=m[M];a.mergedAttrs=ri(a.mergedAttrs,P.hostAttrs),sD(s,a,o,D,P),sE(D,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const j=P.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),D++}!function F_(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,C=null;for(let D=o.directiveStart;D<u;D++){const M=h[D],P=M.inputs,j=null===m||Ea(o)?null:lE(P,m);v.push(j),E=P_(P,D,E),C=P_(M.outputs,D,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,a)}v&&function iD(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new Pe(-301,!1);u.push(o[h],m)}}}(a,u,v)}return a.mergedAttrs=ri(a.mergedAttrs,a.attrs),h}function tD(s,o,a,u,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function nD(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(u,h,v)}}function B_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function U_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function sE(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;ti(o)&&(a[""]=s)}}function oE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function sD(s,o,a,u,h){s.data[u]=h;const m=h.factory||(h.factory=gi(h.type)),v=new Za(m,ti(h),null);s.blueprint[u]=v,a[u]=v,tD(s,o,0,u,cl(s,a,h.hostVars,Pt),h)}function aE(s,o,a){const u=Nr(o,s),h=$m(a),m=s[10],v=fu(s,hu(s,h,null,a.onPush?64:16,u,o,m,m.createRenderer(u,a),null,null));s[o.index]=v}function Po(s,o,a,u,h,m){const v=Nr(s,o);!function Wm(s,o,a,u,h,m,v){if(null==m)on(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const E=null==v?me(m):v(m,u||"",h);on(s)?s.setAttribute(o,h,E,a):a?o.setAttributeNS(a,h,E):o.setAttribute(h,E)}}(o[11],v,m,s.value,a,u,h)}function oD(s,o,a,u,h,m){const v=m[o];if(null!==v){const E=u.setInput;for(let C=0;C<v.length;){const D=v[C++],M=v[C++],P=v[C++];null!==E?u.setInput(a,P,D,M):a[M]=P}}}function lE(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function cE(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function If(s,o){const a=q(o,s);if(Ve(a)){const u=a[1];80&a[2]?Ca(u,a,u.template,a[8]):a[5]>0&&j_(a)}}function j_(s){for(let u=ol(s);null!==u;u=al(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const v=m[1];Ca(v,m,v.template,m[8])}else m[5]>0&&j_(m)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=q(a[u],s);Ve(h)&&h[5]>0&&j_(h)}}function H_(s,o){const a=q(o,s),u=a[1];(function lD(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),wa(u,a,a[8])}function fu(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Zm(s){for(;s;){s[2]|=64;const o=Bn(s);if(Vl(s)&&!o)return s;s=o}return null}function $_(s,o,a){const u=o[10];u.begin&&u.begin();try{Ca(s,o,s.template,a)}catch(h){throw pE(o,h),h}finally{u.end&&u.end()}}function G_(s){!function Df(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=rf(a),h=u[1];Wc(h,u,h.template,a)}}(s[8])}function z_(s,o,a){vh(0),o(s,a)}const hE=(()=>Promise.resolve(null))();function fE(s){return s[7]||(s[7]=[])}function dD(s){return s.cleanup||(s.cleanup=[])}function pE(s,o){const a=s[9],u=a?a.get(Lr,null):null;u&&u.handleError(o)}function W_(s,o,a,u,h){for(let m=0;m<a.length;){const v=a[m++],E=a[m++],C=o[v],D=s.data[v];null!==D.setInput?D.setInput(C,h,u,E):C[E]=h}}function Ia(s,o,a){const u=Yo(o,s);!function Uc(s,o,a){on(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function Tf(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=he(h,E):2==m&&(u=he(u,E+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const Z_=new Wn("INJECTOR",-1);class K_{get(o,a=ca){if(a===ca){const u=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw u.name="NullInjectorError",u}return a}}const Y_=new Wn("Set Injector scope."),Af={},Ym={};let Qm;function mE(){return void 0===Qm&&(Qm=new K_),Qm}function Q_(s,o=null,a=null,u){const h=gE(s,o,a,u);return h._resolveInjectorDefTypes(),h}function gE(s,o=null,a=null,u){return new yE(s,a,o||mE(),u)}class yE{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];a&&qi(a,E=>this.processProvider(E,o,a)),qi([o],E=>this.processInjectorType(E,[],m)),this.records.set(Z_,Sf(void 0,this));const v=this.records.get(Y_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ye(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=ca,u=gt.Default){this.assertNotDestroyed();const h=So(this),m=kn(void 0);try{if(!(u&gt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function yM(s){return"function"==typeof s||"object"==typeof s&&s instanceof Wn}(o)&&Mt(o);E=C&&this.injectableDefInScope(C)?Sf(J_(o),Af):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&gt.Self?mE():this.parent).get(o,a=u&gt.Optional&&a===ca?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Zl]=v[Zl]||[]).unshift(ye(o)),h)throw v;return function Bh(s,o,a,u){const h=s[Zl];throw o[Lh]&&h.unshift(o[Lh]),s.message=function Yl(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ye(o);if(Array.isArray(o))h=o.map(ye).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ye(E)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(Fh,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Zl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{kn(m),So(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ye(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,a,u){if(!(o=te(o)))return!1;let h=Tn(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,E=-1!==u.indexOf(v);if(void 0!==m&&(h=Tn(m)),null==h)return!1;if(null!=h.imports&&!E){let M;u.push(v);try{qi(h.imports,P=>{this.processInjectorType(P,a,u)&&(void 0===M&&(M=[]),M.push(P))})}finally{}if(void 0!==M)for(let P=0;P<M.length;P++){const{ngModule:j,providers:ee}=M[P];qi(ee,Ee=>this.processProvider(Ee,j,ee||yt))}}this.injectorDefTypes.add(v);const C=gi(v)||(()=>new v);this.records.set(v,Sf(C,Af));const D=h.providers;if(null!=D&&!E){const M=o;qi(D,P=>this.processProvider(P,M,D))}return void 0!==m&&void 0!==o.providers}processProvider(o,a,u){let h=Yc(o=te(o))?o:te(o&&o.provide);const m=function pD(s,o,a){return mD(s)?Sf(void 0,s.useValue):Sf(X_(s),Af)}(o);if(Yc(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Sf(void 0,Af,!0),v.factory=()=>Vh(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,a){return a.value===Af&&(a.value=Ym,a.value=a.factory()),"object"==typeof a.value&&a.value&&function yD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function J_(s){const o=Mt(s),a=null!==o?o.factory:gi(s);if(null!==a)return a;if(s instanceof Wn)throw new Pe(204,!1);if(s instanceof Function)return function _E(s){const o=s.length;if(o>0)throw Zs(o,"?"),new Pe(204,!1);const a=function _r(s){const o=s&&(s[ur]||s[br]);if(o){const a=function tr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Pe(204,!1)}function X_(s,o,a){let u;if(Yc(s)){const h=te(s);return gi(h)||J_(h)}if(mD(s))u=()=>te(s.useValue);else if(function vE(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Vh(s.deps||[]));else if(function gM(s){return!(!s||!s.useExisting)}(s))u=()=>Kn(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function gD(s){return!!s.deps}(s))return gi(h)||J_(h);u=()=>new h(...Vh(s.deps))}return u}function Sf(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function mD(s){return null!==s&&"object"==typeof s&&Tc in s}function Yc(s){return"function"==typeof s}let Wi=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return Q_({name:""},u,a,"");{const m=null!==(h=a.name)&&void 0!==h?h:"";return Q_({name:m},a.parent,a.providers,m)}}}return s.THROW_IF_NOT_FOUND=ca,s.NULL=new K_,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>Kn(Z_)}),s.__NG_ELEMENT_ID__=-1,s})();function ai(s,o){Hs(rf(s)[1],Gn())}function tv(s){let o=function IE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const v=s;v.inputs=tg(s.inputs),v.declaredInputs=tg(s.declaredInputs),v.outputs=tg(s.outputs);const E=h.hostBindings;E&&nv(s,E);const C=h.viewQuery,D=h.contentQueries;if(C&&bD(s,C),D&&TE(s,D),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),ti(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===tv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function DE(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=ri(h.hostAttrs,a=ri(a,h.hostAttrs))}}(u)}function tg(s){return s===Pn?{}:s===yt?[]:s}function bD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function TE(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,m)=>{o(u,h,m),a(u,h,m)}:o}function nv(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Jc=null;function Tr(){if(!Jc){const s=qt.Symbol;if(s&&s.iterator)Jc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Jc=u)}}}return Jc}function Xc(s){return!!rg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Tr()in s)}function rg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function io(s,o,a){return s[o]=a}function wi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function kf(s,o,a,u){const h=Me();return wi(h,vo(),o)&&($t(),Po(qn(),h,s,o,a,u)),kf}function ed(s,o,a,u){return wi(s,vo(),a)?o+me(a)+u:Pt}function Rf(s,o,a,u,h,m,v,E){const C=Me(),D=$t(),M=s+20,P=D.firstCreatePass?function ED(s,o,a,u,h,m,v,E,C){const D=o.consts,M=ul(o,s,4,v||null,wt(D,E));nE(o,a,M,wt(D,C)),Hs(o,M);const P=M.tViews=Cf(2,M,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,M),P.queries=o.queries.embeddedTView(M)),M}(M,D,C,o,a,u,h,m,v):D.data[M];Mi(P,!1);const j=C[11].createComment("");km(D,C,j,P),zr(j,C),fu(C,C[M]=cE(j,C,j,P)),zo(P)&&wf(D,C,P),null!=v&&Hm(C,P,E)}function og(s){return function R(s,o){return s[o]}(function Xp(){return Xe.lFrame.contextLView}(),20+s)}function Ff(s,o=gt.Default){const a=Me();return null===a?Kn(s,o):ra(Gn(),a,te(s),o)}function GE(){throw new Error("invalid")}function Sa(s,o,a){const u=Me();return wi(u,vo(),o)&&Ei($t(),qn(),u,s,o,u[11],a,!1),Sa}function pg(s,o,a,u,h){const v=h?"class":"style";W_(s,a,o.inputs[v],v,u)}function Lf(s,o,a,u){const h=Me(),m=$t(),v=20+s,E=h[11],C=h[v]=jc(E,o,function UI(){return Xe.lFrame.currentNamespace}()),D=m.firstCreatePass?function mg(s,o,a,u,h,m,v){const E=o.consts,D=ul(o,s,2,h,wt(E,m));return nE(o,a,D,wt(E,v)),null!==D.attrs&&Tf(D,D.attrs,!1),null!==D.mergedAttrs&&Tf(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(v,m,h,0,o,a,u):m.data[v];Mi(D,!0);const M=D.mergedAttrs;null!==M&&vt(E,C,M);const P=D.classes;null!==P&&Om(E,C,P);const j=D.styles;return null!==j&&k0(E,C,j),64!=(64&D.flags)&&km(m,h,C,D),0===function Ht(){return Xe.lFrame.elementDepthCount}()&&zr(C,h),function Is(){Xe.lFrame.elementDepthCount++}(),zo(D)&&(wf(m,h,D),X0(m,D,h)),null!==u&&Hm(h,D),Lf}function pl(){let s=Gn();ph()?mh():(s=s.parent,Mi(s,!1));const o=s;!function Hi(){Xe.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(Hs(a,s),Ll(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function sm(s){return 0!=(16&s.flags)}(o)&&pg(a,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function y0(s){return 0!=(32&s.flags)}(o)&&pg(a,o,Me(),o.stylesWithoutHost,!1),pl}function gg(s,o,a,u){return Lf(s,o,a,u),pl(),gg}function ml(s,o,a){const u=Me(),h=$t(),m=s+20,v=h.firstCreatePass?function qE(s,o,a,u,h){const m=o.consts,v=wt(m,u),E=ul(o,s,8,"ng-container",v);return null!==v&&Tf(E,v,!0),nE(o,a,E,wt(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,u,o,a):h.data[m];Mi(v,!0);const E=u[m]=u[11].createComment("");return km(h,u,E,v),zr(E,u),zo(v)&&(wf(h,u,v),X0(h,v,u)),null!=a&&Hm(u,v),ml}function Cu(){let s=Gn();const o=$t();return ph()?mh():(s=s.parent,Mi(s,!1)),o.firstCreatePass&&(Hs(o,s),Ll(s)&&o.queries.elementEnd(s)),Cu}function yg(){return Me()}function _g(s){return!!s&&"function"==typeof s.then}function bv(s){return!!s&&"function"==typeof s.subscribe}const sd=bv;function Vf(s,o,a,u){const h=Me(),m=$t(),v=Gn();return function Bf(s,o,a,u,h,m,v,E){const C=zo(u),M=s.firstCreatePass&&dD(s),P=o[8],j=fE(o);let ee=!0;if(3&u.type||E){const Ye=Nr(u,o),lt=E?E(Ye):Ye,Ne=j.length,Ct=E?tn=>E(wn(tn[u.index])):u.index;if(on(a)){let tn=null;if(!E&&C&&(tn=function Ev(s,o,a,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===a&&h[m+1]===u){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=m,tn.__ngLastListenerFn__=m,ee=!1;else{m=bg(u,o,P,m,!1);const fn=a.listen(lt,h,m);j.push(m,fn),M&&M.push(h,Ct,Ne,Ne+1)}}else m=bg(u,o,P,m,!0),lt.addEventListener(h,m,v),j.push(m),M&&M.push(h,Ct,Ne,v)}else m=bg(u,o,P,m,!1);const Ee=u.outputs;let Ge;if(ee&&null!==Ee&&(Ge=Ee[h])){const Ye=Ge.length;if(Ye)for(let lt=0;lt<Ye;lt+=2){const mi=o[Ge[lt]][Ge[lt+1]].subscribe(m),Va=j.length;j.push(m,mi),M&&M.push(h,u.index,Va,-(Va+1))}}}(m,h,h[11],v,s,o,!!a,u),Vf}function od(s,o,a,u){try{return!1!==a(u)}catch(h){return pE(s,h),!1}}function bg(s,o,a,u,h){return function m(v){if(v===Function)return u;const E=2&s.flags?q(s.index,o):o;0==(32&o[2])&&Zm(E);let C=od(o,0,u,v),D=m.__ngNextListenerFn__;for(;D;)C=od(o,0,D,v)&&C,D=D.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function zE(s=1){return function bo(s){return(Xe.lFrame.contextLView=function Ay(s,o){for(;s>0;)o=o[15],s--;return o}(s,Xe.lFrame.contextLView))[8]}(s)}function wv(s,o){let a=null;const u=function P0(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Oo(s,m,!0):V0(u,m))return h}else a=h}return a}function Uf(s){const o=Me()[16][6];if(!o.projection){const u=o.projection=Zs(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?wv(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function Eg(s,o=0,a){const u=Me(),h=$t(),m=ul(h,20+s,16,null,a||null);null===m.projection&&(m.projection=o),mh(),64!=(64&m.flags)&&function x0(s,o,a){b_(o[11],0,o,a,xm(s,a,o),T0(a.parent||o[6],a,o))}(h,u,m)}function jf(s,o,a,u,h){const m=Me(),v=ed(m,o,a,u);return v!==Pt&&Ei($t(),qn(),m,s,v,m[11],h,!1),jf}function Cg(s,o,a,u,h){const m=s[a+1],v=null===o;let E=u?to(m):No(m),C=!1;for(;0!==E&&(!1===C||v);){const M=s[E+1];Iu(s[E],o)&&(C=!0,s[E+1]=u?Pm(M):_f(M)),E=u?to(M):No(M)}C&&(s[a+1]=u?_f(m):Pm(m))}function Iu(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&To(s,o)>=0}function Mv(s,o){return function Yr(s,o,a,u){const h=Me(),m=$t(),v=function Us(s){const o=Xe.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);m.firstUpdatePass&&function kv(s,o,a,u){const h=s.data;if(null===h[a+1]){const m=h[ni()],v=function xv(s,o){return o>=s.expandoStartIndex}(s,a);(function JE(s,o){return 0!=(s.flags&(o?16:32))})(m,u)&&null===o&&!v&&(o=!1),o=function dd(s,o,a,u){const h=function _c(s){const o=Xe.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=hd(a=Rv(null,s,o,a,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=Rv(h,s,o,a,u),null===m){let C=function MD(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==No(u))return s[to(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Rv(null,s,o,C[1],u),C=hd(C,o.attrs,u),function xD(s,o,a,u){s[to(a?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else m=function YE(s,o,a){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=hd(u,s[m].hostAttrs,a);return hd(u,o.attrs,a)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,u),function Tv(s,o,a,u,h,m){let v=m?o.classBindings:o.styleBindings,E=to(v),C=No(v);s[u]=a;let M,D=!1;if(Array.isArray(a)){const P=a;M=P[1],(null===M||To(P,M)>0)&&(D=!0)}else M=a;if(h)if(0!==C){const j=to(s[E+1]);s[u+1]=yf(j,E),0!==j&&(s[j+1]=vf(s[j+1],u)),s[E+1]=function H0(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=yf(E,0),0!==E&&(s[E+1]=vf(s[E+1],u)),E=u;else s[u+1]=yf(C,0),0===E?E=u:s[C+1]=vf(s[C+1],u),C=u;D&&(s[u+1]=_f(s[u+1])),Cg(s,M,u,!0),Cg(s,M,u,!1),function ud(s,o,a,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&To(m,o)>=0&&(a[u+1]=Pm(a[u+1]))}(o,M,s,u,m),v=yf(E,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,a,v,u)}}(m,s,v,u),o!==Pt&&wi(h,v,o)&&function Nv(s,o,a,u,h,m,v,E){if(!(3&o.type))return;const C=s.data,D=C[E+1];fd(function T_(s){return 1==(1&s)}(D)?Pv(C,o,a,h,No(D),v):void 0)||(fd(m)||function D_(s){return 2==(2&s)}(D)&&(m=Pv(C,null,a,h,E,v)),function xs(s,o,a,u,h){const m=on(s);if(o)h?m?s.addClass(a,u):a.classList.add(u):m?s.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:fe.DashCase;if(null==h)m?s.removeStyle(a,u,v):a.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=fe.Important),m?s.setStyle(a,u,h,v):a.style.setProperty(u,h,E?"important":"")}}}(u,v,Yo(ni(),a),h,m))}(m,m.data[ni()],h,h[11],s,h[v+1]=function kD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(ds(s)))),s}(o,a),u,v)}(s,o,null,!0),Mv}function Rv(s,o,a,u,h){let m=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(m=o[E],u=hd(u,m.hostAttrs,h),m!==s);)E++;return null!==s&&(a.directiveStylingLast=E),u}function hd(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hr(s,v,!!a||o[++m]))}return void 0===s?null:s}function Pv(s,o,a,u,h,m){const v=null===o;let E;for(;h>0;){const C=s[h],D=Array.isArray(C),M=D?C[1]:C,P=null===M;let j=a[h+1];j===Pt&&(j=P?yt:void 0);let ee=P?wc(j,u):M===u?j:void 0;if(D&&!fd(ee)&&(ee=wc(C,u)),fd(ee)&&(E=ee,v))return E;const Ee=s[h+1];h=v?to(Ee):No(Ee)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=wc(C,u))}return E}function fd(s){return void 0!==s}function XE(s,o=""){const a=Me(),u=$t(),h=s+20,m=u.firstCreatePass?ul(u,h,1,o,null):u.data[h],v=a[h]=function Bc(s,o){return on(s)?s.createText(o):s.createTextNode(o)}(a[11],o);km(u,a,v,m),Mi(m,!1)}function pd(s){return yl("",s,""),pd}function yl(s,o,a){const u=Me(),h=ed(u,s,o,a);return h!==Pt&&Ia(u,ni(),h),yl}function Og(s,o,a){const u=Me();return wi(u,vo(),o)&&Ei($t(),qn(),u,s,o,u[11],a,!0),Og}const _l=void 0;var Tu=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Au={};function Ng(s){const o=function _d(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Yi(o);if(a)return a;const u=o.split("-")[0];if(a=Yi(u),a)return a;if("en"===u)return Tu;throw new Error(`Missing locale data for the locale "${s}".`)}function Yf(s){return Ng(s)[Tt.PluralCase]}function Yi(s){return s in Au||(Au[s]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[s]),Au[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const vd="en-US";let cw=vd;function ap(s,o,a,u,h){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)ap(s[m],o,a,u,h);else{const m=$t(),v=Me();let E=Yc(s)?s:te(s.provide),C=X_(s);const D=Gn(),M=1048575&D.providerIndexes,P=D.directiveStart,j=D.providerIndexes>>20;if(Yc(s)||!s.multi){const ee=new Za(C,h,Ff),Ee=Ou(E,o,h?M:M+j,P);-1===Ee?(na(Vn(D,v),m,E),Oa(m,s,o.length),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),a.push(ee),v.push(ee)):(a[Ee]=ee,v[Ee]=ee)}else{const ee=Ou(E,o,M+j,P),Ee=Ou(E,o,M,M+j),Ge=ee>=0&&a[ee],Ye=Ee>=0&&a[Ee];if(h&&!Ye||!h&&!Ge){na(Vn(D,v),m,E);const lt=function XD(s,o,a,u,h){const m=new Za(s,a,Ff);return m.multi=[],m.index=o,m.componentProviders=0,lp(m,h,u&&!a),m}(h?JD:Mw,a.length,h,u,C);!h&&Ye&&(a[Ee].providerFactory=lt),Oa(m,s,o.length,0),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),a.push(lt),v.push(lt)}else Oa(m,s,ee>-1?ee:Ee,lp(a[h?Ee:ee],C,!h&&u));!h&&u&&Ye&&a[Ee].componentProviders++}}}function Oa(s,o,a,u){const h=Yc(o),m=function bE(s){return!!s.useClass}(o);if(h||m){const C=(m?te(o.useClass):o).prototype.ngOnDestroy;if(C){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=D.indexOf(a);-1===M?D.push(a,[u,C]):D[M+1].push(u,C)}else D.push(a,C)}}}function lp(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Ou(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Mw(s,o,a,u){return so(this.multi,[])}function JD(s,o,a,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=as(a,a[1],this.providerFactory.index,u);m=E.slice(0,v),so(h,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],so(h,m);return m}function so(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function xw(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Ug(s,o,a){const u=$t();if(u.firstCreatePass){const h=ti(s);ap(a,u.data,u.blueprint,h,!0),ap(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class wl{}class jg{resolveComponentFactory(o){throw function eT(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let up=(()=>{class s{}return s.NULL=new jg,s})();function Rw(){return ar(Gn(),Me())}function ar(s,o){return new cp(Nr(s,o))}let cp=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Rw,s})();function tT(s){return s instanceof cp?s.nativeElement:s}class Kv{}let nT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function iT(){const s=Me(),a=q(Gn().index,s);return function rT(s){return s[11]}($r(a)?a:s)}(),s})(),sT=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class Na{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Nu=new Na("13.2.5"),Yv={};function dp(s,o,a,u,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&u.push(wn(m)),Cr(m))for(let E=10;E<m.length;E++){const C=m[E],D=C[1].firstChild;null!==D&&dp(C[1],C,D,u)}const v=a.type;if(8&v)dp(s,o,a.child,u);else if(32&v){const E=ot(a,o);let C;for(;C=E();)u.push(C)}else if(16&v){const E=M0(o,a);if(Array.isArray(E))u.push(...E);else{const C=Bn(o[16]);dp(C[1],C,E,u,!0)}}a=h?a.projectionNext:a.next}return u}class Dd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return dp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Cr(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(d_(o,u),ua(a,u))}this._attachedToViewContainer=!1}h_(this._lView[1],this._lView)}onDestroy(o){N_(this._lView[1],this._lView,null,o)}markForCheck(){Zm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function cD(s,o,a){za(!0);try{$_(s,o,a)}finally{za(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hc(s,o){Rm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class Pa extends Dd{constructor(o){super(o),this._view=o}detectChanges(){G_(this._view)}checkNoChanges(){!function q_(s){za(!0);try{G_(s)}finally{za(!1)}}(this._view)}get context(){return null}}class Qv extends up{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new hp(a,this.ngModule)}}function Pu(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class hp extends wl{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function U0(s){return s.map(B0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Pu(this.componentDef.inputs)}get outputs(){return Pu(this.componentDef.outputs)}create(o,a,u,h){const m=(h=h||this.ngModule)?function $g(s,o){return{get:(a,u,h)=>{const m=s.get(a,Yv,h);return m!==Yv||u===Yv?m:o.get(a,u,h)}}}(o,h.injector):o,v=m.get(Kv,$a),E=m.get(sT,null),C=v.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",M=u?function O_(s,o,a){if(on(s))return s.selectRootElement(o,a===Bt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):jc(v.createRenderer(null,this.componentDef),D,function Hg(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(D)),P=this.componentDef.onPush?576:528,j=function xf(s,o){return{components:[],scheduler:s||o_,clean:hE,playerHandler:o||null,flags:0}}(),ee=Cf(0,null,null,1,0,null,null,null,null,null),Ee=hu(null,ee,j,P,null,null,v,C,E,m);let Ge,Ye;Wa(Ee);try{const lt=function CE(s,o,a,u,h,m){const v=a[1];a[20]=s;const C=ul(v,20,2,"#host",null),D=C.mergedAttrs=o.hostAttrs;null!==D&&(Tf(C,D,!0),null!==s&&(vt(h,s,D),null!==C.classes&&Om(h,s,C.classes),null!==C.styles&&k0(h,s,C.styles)));const M=u.createRenderer(s,o),P=hu(a,$m(o),null,o.onPush?64:16,a[20],C,u,M,m||null,null);return v.firstCreatePass&&(na(Vn(C,a),v,o.type),U_(v,C),oE(C,a.length,1)),fu(a,P),a[20]=P}(M,this.componentDef,Ee,v,C);if(M)if(u)vt(C,M,["ng-version",Nu.full]);else{const{attrs:Ne,classes:Ct}=function j0(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&a.push(m);else{if(!Zr(h))break;h=m}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ne&&vt(C,M,Ne),Ct&&Ct.length>0&&Om(C,M,Ct.join(" "))}if(Ye=N(ee,20),void 0!==a){const Ne=Ye.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const tn=a[Ct];Ne.push(null!=tn?Array.from(tn):null)}}Ge=function Kr(s,o,a,u,h){const m=a[1],v=function pM(s,o,a){const u=Gn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),sD(s,u,o,cl(s,o,1,null),a));const h=as(o,s,u.directiveStart,u);zr(h,o);const m=Nr(u,o);return m&&zr(m,o),h}(m,a,o);if(u.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=Gn();o.contentQueries(1,v,C.directiveStart)}const E=Gn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(js(E.index),tD(a[1],E,0,E.directiveStart,E.directiveEnd,o),B_(o,v)),v}(lt,this.componentDef,Ee,j,[ai]),wa(ee,Ee,null)}finally{ql()}return new Td(this.componentType,Ge,ar(Ye,Ee),Ee,Ye)}}class Td extends class kw{}{constructor(o,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new Pa(h),this.componentType=o}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Fu{}class Ad{}const Lu=new Map;class Xv extends Fu{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qv(this);const u=dn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=gE(o,a,[{provide:Fu,useValue:this},{provide:up,useValue:this.componentFactoryResolver}],ye(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Wi.THROW_IF_NOT_FOUND,u=gt.Default){return o===Wi||o===Fu||o===Z_?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qg extends Ad{constructor(o){super(),this.moduleType=o,null!==dn(o)&&function Pw(s){const o=new Set;!function a(u){const h=dn(u,!0),m=h.id;null!==m&&(function Gg(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${ye(o)} vs ${ye(o.name)}`)}(m,Lu.get(m),u),Lu.set(m,u));const v=g(h.imports);for(const E of v)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Xv(this.moduleType,o)}}function Lw(s,o,a,u){return function eb(s,o,a,u,h,m){const v=o+a;return wi(s,v,h)?io(s,v+1,m?u.call(m,h):u(h)):xd(s,v+1)}(Me(),qr(),s,o,a,u)}function Vw(s,o,a,u,h){return function kd(s,o,a,u,h,m,v){const E=o+a;return function vu(s,o,a,u){const h=wi(s,o,a);return wi(s,o+1,u)||h}(s,E,h,m)?io(s,E+2,v?u.call(v,h,m):u(h,m)):xd(s,E+2)}(Me(),qr(),s,o,a,u,h)}function xd(s,o){const a=s[o];return a===Pt?void 0:a}function Kg(s){return o=>{setTimeout(s,void 0,o)}}const oo=class Uu extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,m,v;let E=o,C=a||(()=>null),D=u;if(o&&"object"==typeof o){const P=o;E=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),D=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=Kg(C),E&&(E=Kg(E)),D&&(D=Kg(D)));const M=super.subscribe({next:E,error:C,complete:D});return o instanceof Y.w0&&o.add(M),M}};function zw(){return this._results[Tr()]()}class ju{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Tr(),u=ju.prototype;u[a]||(u[a]=zw)}get changes(){return this._changes||(this._changes=new oo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=si(o);(this._changesDetected=!function Rh(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hu=(()=>{class s{}return s.__NG_ELEMENT_ID__=ln,s})();const cT=Hu,xr=class extends cT{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=hu(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(a)),wa(a,u,o),new Dd(u)}};function ln(){return fp(Gn(),Me())}function fp(s,o){return 4&s.type?new xr(o,s,ar(s,o)):null}let pp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cl,s})();function Cl(){return nb(Gn(),Me())}const gr=pp,mp=class extends gr{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return ar(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const o=vc(this._hostTNode,this._hostLView);if(om(o)){const a=Gs(o,this._hostLView),u=Rn(o);return new zs(a[1].data[u+8],a)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Jr(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,m){const v=o&&!function la(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const P=a||{};E=P.index,u=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?o:new hp(jt(o)),D=u||this.parentInjector;if(!m&&null==C.ngModule){const j=(v?D:this.parentInjector).get(Fu,null);j&&(m=j)}const M=C.create(D,h,void 0,m);return this.insert(M.hostView,E),M}insert(o,a){const u=o._lView,h=u[1];if(function Ke(s){return Cr(s[3])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const P=u[3],j=new mp(P,P[6],P[3]);j.detach(j.indexOf(o))}}const m=this._adjustIndex(a),v=this._lContainer;!function c_(s,o,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=o),u<m-10?(o[4]=a[h],Oh(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function $c(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,u,v,m);const E=y_(m,v),C=u[11],D=gf(C,v[7]);return null!==D&&function mf(s,o,a,u,h,m){u[0]=h,u[6]=o,Rm(s,u,a,1,h,m)}(h,v[6],C,u,D,E),o.attachToViewContainerRef(),Oh(Mn(v),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Jr(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=d_(this._lContainer,a);u&&(ua(Mn(this._lContainer),a),h_(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=d_(this._lContainer,a);return u&&null!=ua(Mn(this._lContainer),a)?new Dd(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Jr(s){return s[8]}function Mn(s){return s[8]||(s[8]=[])}function nb(s,o){let a;const u=o[s.index];if(Cr(u))a=u;else{let h;if(8&s.type)h=wn(u);else{const m=o[11];h=m.createComment("");const v=Nr(s,o);hs(m,gf(m,v),h,function $I(s,o){return on(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=a=cE(u,o,h,s),fu(o,a)}return new mp(a,s,o)}class rb{constructor(o){this.queryList=o,this.matches=null}clone(){return new rb(this.queryList)}setDirty(){this.queryList.setDirty()}}class gp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const v=a.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new gp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Yw(o,a).matches&&this.queries[a].setDirty()}}class Od{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class ib{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new ib(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class sb{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new sb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,a,bn(a,m)),this.matchTNodeWithReadOption(o,a,qs(a,o,m,!1,!1))}else u===Hu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,qs(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===cp||h===pp||h===Hu&&4&a.type)this.addMatch(a.index,-2);else{const m=qs(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function bn(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Yg(s,o,a,u){return-1===a?function hT(s,o){return 11&s.type?ar(s,o):4&s.type?fp(s,o):null}(o,s):-2===a?function yp(s,o,a){return a===cp?ar(o,s):a===Hu?fp(o,s):a===pp?nb(o,s):void 0}(s,o,u):as(s,s[1],a,o)}function Nd(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=a.matches,E=[];for(let C=0;C<v.length;C+=2){const D=v[C];E.push(D<0?null:Yg(o,m[D],v[C+1],a.metadata.read))}h.matches=E}return h.matches}function Pd(s,o,a,u){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const v=Nd(s,o,h,a);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)u.push(v[E/2]);else{const D=m[E+1],M=o[-C];for(let P=10;P<M.length;P++){const j=M[P];j[17]===j[3]&&Pd(j[1],j,D,u)}if(null!==M[9]){const P=M[9];for(let j=0;j<P.length;j++){const ee=P[j];Pd(ee[1],ee,D,u)}}}}}return u}function ob(s){const o=Me(),a=$t(),u=_h();vh(u+1);const h=Yw(a,u);if(s.dirty&&le(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Pd(a,o,u,[]):Nd(a,o,h,u);s.reset(m,tT),s.notifyOnChanges()}return!0}return!1}function ab(s,o,a){const u=$t();u.firstCreatePass&&(Kw(u,new Od(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),ub(u,Me(),o)}function lb(s,o,a,u){const h=$t();if(h.firstCreatePass){const m=Gn();Kw(h,new Od(o,a,u),m.index),function fT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}ub(h,Me(),a)}function Ww(){return function Zw(s,o){return s[19].queries[o].queryList}(Me(),_h())}function ub(s,o,a){const u=new ju(4==(4&a));N_(s,o,u,u.destroy),null===o[19]&&(o[19]=new gp),o[19].queries.push(new rb(u))}function Kw(s,o,a){null===s.queries&&(s.queries=new ib),s.queries.track(new sb(o,a))}function Yw(s,o){return s.queries.getByIndex(o)}function Xg(...s){}const hC=new Wn("Application Initializer");let ey=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Xg,this.reject=Xg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(_g(m))a.push(m);else if(sd(m)){const v=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Kn(hC,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const yb=new Wn("AppId",{providedIn:"root",factory:function ve(){return`${gs()}${gs()}${gs()}`}});function gs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fC=new Wn("Platform Initializer"),Vd=new Wn("Platform ID"),Tl=new Wn("appBootstrapListener");let Al=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})();const Cp=new Wn("LocaleId",{providedIn:"root",factory:()=>As(Cp,gt.Optional|gt.SkipSelf)||function pC(){return"undefined"!=typeof $localize&&$localize.locale||vd}()}),mC=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vb{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Sl=(()=>{class s{compileModuleSync(a){return new qg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=g(dn(a).declarations).reduce((v,E)=>{const C=jt(E);return C&&v.push(new hp(C)),v},[]);return new vb(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const vC=(()=>Promise.resolve(0))();function Bd(s){"undefined"==typeof Zone?vC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oo(!1),this.onMicrotaskEmpty=new oo(!1),this.onStable=new oo(!1),this.onError=new oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function $u(){let s=qt.requestAnimationFrame,o=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function bb(s){const o=()=>{!function bC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ip(s),s.isCheckStableRunning=!0,Gu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ip(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,v,E)=>{try{return Eb(s),a.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),EC(s)}},onInvoke:(a,u,h,m,v,E,C)=>{try{return Eb(s),a.invoke(h,m,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),EC(s)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Ip(s),Gu(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Ud,Xg,Xg);try{return m.runTask(v,a,u)}finally{m.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Ud={};function Gu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ip(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Eb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function EC(s){s._nesting--,Gu(s)}class wC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oo,this.onMicrotaskEmpty=new oo,this.onStable=new oo,this.onError=new oo}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let wb=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),Bd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bd(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Kn(fi))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),ty=(()=>{class s{constructor(){this._applications=new Map,Cb.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Cb.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})();class Dp{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function qu(s){Cb=s}let Ns,Cb=new Dp;const jd=new Wn("AllowMultipleToken");class Ml{constructor(o,a){this.name=o,this.token=a}}function Ib(s,o,a=[]){const u=`Platform: ${o}`,h=new Wn(u);return(m=[])=>{let v=ny();if(!v||v.injector.get(jd,!1))if(s)s(a.concat(m).concat({provide:h,useValue:!0}));else{const E=a.concat(m).concat({provide:h,useValue:!0},{provide:Y_,useValue:"platform"});!function zu(s){if(Ns&&!Ns.destroyed&&!Ns.injector.get(jd,!1))throw new Pe(400,"");Ns=s.get(Wu);const o=s.get(fC,null);o&&o.forEach(a=>a())}(Wi.create({providers:E,name:u}))}return function IT(s){const o=ny();if(!o)throw new Pe(401,"");return o}()}}function ny(){return Ns&&!Ns.destroyed?Ns:null}let Wu=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function DT(s,o){let a;return a="noop"===s?new wC:("zone.js"===s?void 0:s)||new fi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:fi,useValue:E}];return E.run(()=>{const D=Wi.create({providers:C,parent:this.injector,name:a.moduleType.name}),M=a.create(D),P=M.injector.get(Lr,null);if(!P)throw new Pe(402,"");return E.runOutsideAngular(()=>{const j=E.onError.subscribe({next:ee=>{P.handleError(ee)}});M.onDestroy(()=>{Gd(this._modules,M),j.unsubscribe()})}),function CC(s,o,a){try{const u=a();return _g(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,E,()=>{const j=M.injector.get(ey);return j.runInitializers(),j.donePromise.then(()=>(function dw(s){rt(s,"Expected localeId to be defined"),"string"==typeof s&&(cw=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Cp,vd)||vd),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,u=[]){const h=Hd({},u);return function wT(s,o,a){const u=new qg(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get($d);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Pe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Kn(Wi))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})();function Hd(s,o){return Array.isArray(o)?o.reduce(Hd,s):Object.assign(Object.assign({},s),o)}let $d=(()=>{class s{constructor(a,u,h,m,v){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new L.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{fi.assertNotInAngularZone(),Bd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{fi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),P.unsubscribe()}});this.isStable=(0,se.T)(E,C.pipe((0,oe.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Pe(405,"");let h;h=a instanceof wl?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const m=function CT(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Fu),E=h.create(Wi.NULL,[],u||h.selector,m),C=E.location.nativeElement,D=E.injector.get(wb,null),M=D&&E.injector.get(ty);return D&&M&&M.registerApplication(C,D),E.onDestroy(()=>{this.detachView(E.hostView),Gd(this.components,E),M&&M.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Gd(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Tl,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Kn(fi),Kn(Wi),Kn(Lr),Kn(up),Kn(ey))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Gd(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Tb=!0,Tp=!1;function Ab(){return Tp=!0,Tb}function IC(){if(Tp)throw new Error("Cannot enable prod mode after platform setup.");Tb=!1}let Ku=(()=>{class s{}return s.__NG_ELEMENT_ID__=TT,s})();function TT(s){return function qd(s,o,a){if(Ls(s)&&!a){const u=q(s.index,o);return new Dd(u,u)}return 47&s.type?new Dd(o[16],o):null}(Gn(),Me(),16==(16&s))}class Wd{constructor(){}supports(o){return Xc(o)}create(o){return new xb(o)}}const oy=(s,o)=>o;class xb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||oy}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const v=!u||a&&a.currentIndex<MC(u,h,m)?a:u,E=MC(v,h,m),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{m||(m=[]);const D=E-h,M=C-h;if(D!=M){for(let j=0;j<D;j++){const ee=j<m.length?m[j]:m[j]=0,Ee=ee+j;M<=Ee&&Ee<D&&(m[j]=ee+1)}m[v.previousIndex]=M-D}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xc(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,m,v,E)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,v,E),u=!0),a=a._next}else h=0,function ME(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Tr()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new OT(a,u),m,h),o}_verifyReinsertion(o,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Rb),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Rb{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new kb,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MC(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class Ob{constructor(){}supports(o){return o instanceof Map||rg(o)}create(){return new xC}}class xC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||rg(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new Nb(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Nb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kC(){return new ay([new Wd])}let ay=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||kC()),deps:[[s,new nl,new el]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Pe(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:kC}),s})();function Pb(){return new Fb([new Ob])}let Fb=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Pb()),deps:[[s,new nl,new el]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(u)return u;throw new Pe(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Pb}),s})();const OC=Ib(null,"core",[{provide:Vd,useValue:"unknown"},{provide:Wu,deps:[Wi]},{provide:ty,deps:[]},{provide:Al,deps:[]}]);let NC=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Kn($d))},s.\u0275mod=z({type:s}),s.\u0275inj=Wt({}),s})()},3942:(ht,Re,O)=>{O.d(Re,{Z:()=>Pe});var c=O(2090),Y=O(4859),L=O(9681),se=O(1877);class oe{constructor(me,ke){this._delegate=me,this.firebase=ke,(0,L._addComponent)(me,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(me,ke=L._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(me);return!Qe.isInitialized()&&"EXPLICIT"===(null===(nt=Qe.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ke})}_removeServiceInstance(me,ke=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(ke)}_addComponent(me){(0,L._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,L._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const He=function ye(He){const me={},ke={__esModule:!0,initializeApp:function Oe(je,ie={}){const Q=L.initializeApp(je,ie);if((0,c.r3)(me,Q.name))return me[Q.name];const ae=new He(Q,ke);return me[Q.name]=ae,ae},app:Qe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const ie=je.name,Q=ie.replace("-compat","");if(L._registerComponent(je)&&"PUBLIC"===je.type){const ae=(_e=Qe())=>{if("function"!=typeof _e[Q])throw re.create("invalid-app-argument",{appName:ie});return _e[Q]()};void 0!==je.serviceProps&&(0,c.ZB)(ae,je.serviceProps),ke[Q]=ae,He.prototype[Q]=function(..._e){return this._getService.bind(this,ie).apply(this,je.multipleInstances?_e:[])}}return"PUBLIC"===je.type?ke[Q]:null},removeApp:function nt(je){delete me[je]},useAsService:function qe(je,ie){return"serverAuth"===ie?null:ie},modularAPIs:L}};function Qe(je){if(!(0,c.r3)(me,je=je||L._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:je});return me[je]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function we(){return Object.keys(me).map(je=>me[je])}}),Qe.App=He,ke}(oe);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function me(ke){(0,c.ZB)(He,ke)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),He}(),G=new se.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=$;!function Ie(He){(0,L.registerVersion)("@firebase/app-compat","0.1.23",He)}()},9681:(ht,Re,O)=>{O.r(Re),O.d(Re,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Tn,_DEFAULT_ENTRY_NAME:()=>mn,_addComponent:()=>_n,_addOrOverwriteComponent:()=>kr,_apps:()=>_t,_clearComponents:()=>Mt,_components:()=>yn,_getProvider:()=>Yn,_registerComponent:()=>en,_removeServiceInstance:()=>Wt,deleteApp:()=>cr,getApp:()=>vr,getApps:()=>br,initializeApp:()=>ur,onLog:()=>Nn,registerVersion:()=>On,setLogLevel:()=>kn});var c=O(5861),Y=O(4859),L=O(1877),se=O(2090);class oe{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function be(We){const xe=We.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(et)){const J=et.getImmediate();return`${J.library}/${J.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",he=new L.Yd("@firebase/app"),mn="[DEFAULT]",rt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,yn=new Map;function _n(We,xe){try{We.container.addComponent(xe)}catch(et){he.debug(`Component ${xe.name} failed to register with FirebaseApp ${We.name}`,et)}}function kr(We,xe){We.container.addOrOverwriteComponent(xe)}function en(We){const xe=We.name;if(yn.has(xe))return he.debug(`There were multiple attempts to register component ${xe}.`),!1;yn.set(xe,We);for(const et of _t.values())_n(et,We);return!0}function Yn(We,xe){const et=We.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),We.container.getProvider(xe)}function Wt(We,xe,et=mn){Yn(We,xe).clearInstance(et)}function Mt(){yn.clear()}const _r=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class tr{constructor(xe,et,J){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Tn="9.7.0";function ur(We,xe={}){"object"!=typeof xe&&(xe={name:xe});const et=Object.assign({name:mn,automaticDataCollectionEnabled:!1},xe),J=et.name;if("string"!=typeof J||!J)throw _r.create("bad-app-name",{appName:String(J)});const pe=_t.get(J);if(pe){if((0,se.vZ)(We,pe.options)&&(0,se.vZ)(et,pe.config))return pe;throw _r.create("duplicate-app",{appName:J})}const De=new Y.H0(J);for(const k of yn.values())De.addComponent(k);const F=new tr(We,et,De);return _t.set(J,F),F}function vr(We=mn){const xe=_t.get(We);if(!xe)throw _r.create("no-app",{appName:We});return xe}function br(){return Array.from(_t.values())}function cr(We){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(We){const xe=We.name;_t.has(xe)&&(_t.delete(xe),yield Promise.all(We.container.getProviders().map(et=>et.delete())),We.isDeleted=!0)})).apply(this,arguments)}function On(We,xe,et){var J;let pe=null!==(J=rt[We])&&void 0!==J?J:We;et&&(pe+=`-${et}`);const De=pe.match(/\s|\//),F=xe.match(/\s|\//);if(De||F){const k=[`Unable to register library "${pe}" with version "${xe}":`];return De&&k.push(`library name "${pe}" contains illegal characters (whitespace or "/")`),De&&F&&k.push("and"),F&&k.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void he.warn(k.join(" "))}en(new Y.wA(`${pe}-version`,()=>({library:pe,version:xe}),"VERSION"))}function Nn(We,xe){if(null!==We&&"function"!=typeof We)throw _r.create("invalid-log-argument");(0,L.Am)(We,xe)}function kn(We){(0,L.Ub)(We)}const cn="firebase-heartbeat-store";let Qn=null;function Er(){return Qn||(Qn=(0,se.X3)("firebase-heartbeat-database",1,(We,xe)=>{0===xe&&We.createObjectStore(cn)}).catch(We=>{throw _r.create("storage-open",{originalErrorMessage:We.message})})),Qn}function Bt(){return(Bt=(0,c.Z)(function*(We){try{return(yield Er()).transaction(cn).objectStore(cn).get(nr(We))}catch(xe){throw _r.create("storage-get",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function it(We,xe){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(We,xe){try{const J=(yield Er()).transaction(cn,"readwrite");return yield J.objectStore(cn).put(xe,nr(We)),J.complete}catch(et){throw _r.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function nr(We){return`${We.name}!${We.options.appId}`}class jr{constructor(xe){this.container=xe,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new yt(et),this._heartbeatsCachePromise=this._storage.read().then(J=>(this._heartbeatsCache=J,J))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const J=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pe=jn();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==pe&&!xe._heartbeatsCache.heartbeats.some(De=>De.date===pe))return xe._heartbeatsCache.heartbeats.push({date:pe,agent:J}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(De=>{const F=new Date(De.date).valueOf();return Date.now()-F<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const et=jn(),{heartbeatsToSend:J,unsentEntries:pe}=function Pn(We,xe=1024){const et=[];let J=We.slice();for(const pe of We){const De=et.find(F=>F.agent===pe.agent);if(De){if(De.dates.push(pe.date),rr(et)>xe){De.dates.pop();break}}else if(et.push({agent:pe.agent,dates:[pe.date]}),rr(et)>xe){et.pop();break}J=J.slice(1)}return{heartbeatsToSend:et,unsentEntries:J}}(xe._heartbeatsCache.heartbeats),De=(0,se.L)(JSON.stringify({version:2,heartbeats:J}));return xe._heartbeatsCache.lastSentHeartbeatDate=et,pe.length>0?(xe._heartbeatsCache.heartbeats=pe,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),De})()}}function jn(){return(new Date).toISOString().substring(0,10)}class yt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function es(We){return Bt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var et=this;return(0,c.Z)(function*(){var J;if(yield et._canUseIndexedDBPromise){const De=yield et.read();return it(et.app,{lastSentHeartbeatDate:null!==(J=xe.lastSentHeartbeatDate)&&void 0!==J?J:De.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var et=this;return(0,c.Z)(function*(){var J;if(yield et._canUseIndexedDBPromise){const De=yield et.read();return it(et.app,{lastSentHeartbeatDate:null!==(J=xe.lastSentHeartbeatDate)&&void 0!==J?J:De.lastSentHeartbeatDate,heartbeats:[...De.heartbeats,...xe.heartbeats]})}})()}}function rr(We){return(0,se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function zt(We){en(new Y.wA("platform-logger",xe=>new oe(xe),"PRIVATE")),en(new Y.wA("heartbeat",xe=>new jr(xe),"PRIVATE")),On(re,"0.7.22",We),On(re,"0.7.22","esm2017"),On("fire-js","")}("")},4859:(ht,Re,O)=>{O.d(Re,{wA:()=>L,H0:()=>ye});var c=O(5861),Y=O(2090);class L{constructor($,G,te){this.name=$,this.instanceFactory=G,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class oe{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const te=new Y.BH;if(this.instancesDeferred.set(G,te),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&te.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ue=null!==(G=null==$?void 0:$.optional)&&void 0!==G&&G;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ie){if(Ue)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch(G){}for(const[G,te]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ue});te.resolve(Ie)}catch(Ie){}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...G.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:te,options:G});for(const[Ie,Pe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ie)&&Pe.resolve(Ue);return Ue}onInit($,G){var te;const Ue=this.normalizeInstanceIdentifier(G),Ie=null!==(te=this.onInitCallbacks.get(Ue))&&void 0!==te?te:new Set;Ie.add($),this.onInitCallbacks.set(Ue,Ie);const Pe=this.instances.get(Ue);return Pe&&$(Pe,Ue),()=>{Ie.delete($)}}invokeOnInitCallbacks($,G){const te=this.onInitCallbacks.get(G);if(te)for(const Ue of te)try{Ue($,G)}catch(Ie){}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===se?void 0:he),options:G}),this.instances.set($,te),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(Ue){}var he;return te||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new oe($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(ht,Re,O)=>{var c=O(5861),Y=O(9681),L=O(4859),se=O(2090);const oe="@firebase/installations",ye="w:0.5.8",he="FIS_v2",Pe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(V){return V instanceof se.ZR&&V.code.includes("request-failed")}function me({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function ke(V){return{token:V.token,requestStatus:2,expiresIn:je(V.expiresIn),creationTime:Date.now()}}function nt(V,ne){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(V,ne){const tt=(yield ne.json()).error;return Pe.create("request-failed",{requestName:V,serverCode:tt.code,serverMessage:tt.message,serverStatus:tt.status})})).apply(this,arguments)}function Oe({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function we(V,{refreshToken:ne}){const Te=Oe(V);return Te.append("Authorization",function ie(V){return`${he} ${V}`}(ne)),Te}function Ce(V){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(V){const ne=yield V();return ne.status>=500&&ne.status<600?V():ne})).apply(this,arguments)}function je(V){return Number(V.replace("s","000"))}function Q(V,ne){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*({appConfig:V,heartbeatServiceProvider:ne},{fid:Te}){const tt=me(V),hn=Oe(V),St=ne.getImmediate({optional:!0});if(St){const $n=yield St.getHeartbeatsHeader();$n&&hn.append("x-firebase-client",$n)}const Ot={method:"POST",headers:hn,body:JSON.stringify({fid:Te,authVersion:he,appId:V.appId,sdkVersion:ye})},Or=yield Ce(()=>fetch(tt,Ot));if(Or.ok){const $n=yield Or.json();return{fid:$n.fid||Te,registrationStatus:2,refreshToken:$n.refreshToken,authToken:ke($n.authToken)}}throw yield nt("Create Installation",Or)})).apply(this,arguments)}function _e(V){return new Promise(ne=>{setTimeout(ne,V)})}const Le=/^[cdef][\w-]{21}$/;function It(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const Te=function Kt(V){return function ue(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return Le.test(Te)?Te:""}catch(V){return""}}function mn(V){return`${V.appName}!${V.appId}`}const rt=new Map;function _t(V,ne){const Te=mn(V);kr(Te,ne),function en(V,ne){const Te=function Wt(){return!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=V=>{kr(V.data.key,V.data.fid)}),Yn}();Te&&Te.postMessage({key:V,fid:ne}),function Mt(){0===rt.size&&Yn&&(Yn.close(),Yn=null)}()}(Te,ne)}function kr(V,ne){const Te=rt.get(V);if(Te)for(const tt of Te)tt(ne)}let Yn=null;const tr="firebase-installations-store";let Tn=null;function ur(){return Tn||(Tn=(0,se.X3)("firebase-installations-database",1,(V,ne)=>{0===ne&&V.createObjectStore(tr)})),Tn}function vr(V,ne){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(V,ne){const Te=mn(V),hn=(yield ur()).transaction(tr,"readwrite"),St=hn.objectStore(tr),An=yield St.get(Te);return yield St.put(ne,Te),yield hn.complete,(!An||An.fid!==ne.fid)&&_t(V,ne.fid),ne})).apply(this,arguments)}function cr(V){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(V){const ne=mn(V),tt=(yield ur()).transaction(tr,"readwrite");yield tt.objectStore(tr).delete(ne),yield tt.complete})).apply(this,arguments)}function On(V,ne){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(V,ne){const Te=mn(V),hn=(yield ur()).transaction(tr,"readwrite"),St=hn.objectStore(tr),An=yield St.get(Te),Ot=ne(An);return void 0===Ot?yield St.delete(Te):yield St.put(Ot,Te),yield hn.complete,Ot&&(!An||An.fid!==Ot.fid)&&_t(V,Ot.fid),Ot})).apply(this,arguments)}function kn(V){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(V){let ne;const Te=yield On(V.appConfig,tt=>{const hn=Xi(tt),St=cn(V,hn);return ne=St.registrationPromise,St.installationEntry});return""===Te.fid?{installationEntry:yield ne}:{installationEntry:Te,registrationPromise:ne}})).apply(this,arguments)}function Xi(V){return at(V||{fid:It(),registrationStatus:0})}function cn(V,ne){if(0===ne.registrationStatus){if(!navigator.onLine)return{installationEntry:ne,registrationPromise:Promise.reject(Pe.create("app-offline"))};const Te={fid:ne.fid,registrationStatus:1,registrationTime:Date.now()},tt=function Qn(V,ne){return Er.apply(this,arguments)}(V,Te);return{installationEntry:Te,registrationPromise:tt}}return 1===ne.registrationStatus?{installationEntry:ne,registrationPromise:es(V)}:{installationEntry:ne}}function Er(){return(Er=(0,c.Z)(function*(V,ne){try{const Te=yield Q(V,ne);return vr(V.appConfig,Te)}catch(Te){throw He(Te)&&409===Te.customData.serverCode?yield cr(V.appConfig):yield vr(V.appConfig,{fid:ne.fid,registrationStatus:0}),Te}})).apply(this,arguments)}function es(V){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(V){let ne=yield it(V.appConfig);for(;1===ne.registrationStatus;)yield _e(100),ne=yield it(V.appConfig);if(0===ne.registrationStatus){const{installationEntry:Te,registrationPromise:tt}=yield kn(V);return tt||Te}return ne})).apply(this,arguments)}function it(V){return On(V,ne=>{if(!ne)throw Pe.create("installation-not-found");return at(ne)})}function at(V){return function nr(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Rr(V,ne){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*({appConfig:V,heartbeatServiceProvider:ne},Te){const tt=jr(V,Te),hn=we(V,Te),St=ne.getImmediate({optional:!0});if(St){const $n=yield St.getHeartbeatsHeader();$n&&hn.append("x-firebase-client",$n)}const Ot={method:"POST",headers:hn,body:JSON.stringify({installation:{sdkVersion:ye,appId:V.appId}})},Or=yield Ce(()=>fetch(tt,Ot));if(Or.ok)return ke(yield Or.json());throw yield nt("Generate Auth Token",Or)})).apply(this,arguments)}function jr(V,{fid:ne}){return`${me(V)}/${ne}/authTokens:generate`}function jn(V){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(V,ne=!1){let Te;const tt=yield On(V.appConfig,St=>{if(!et(St))throw Pe.create("not-registered");const An=St.authToken;if(!ne&&J(An))return St;if(1===An.requestStatus)return Te=yt(V,ne),St;{if(!navigator.onLine)throw Pe.create("app-offline");const Ot=De(St);return Te=We(V,Ot),Ot}});return Te?yield Te:tt.authToken})).apply(this,arguments)}function yt(V,ne){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(V,ne){let Te=yield zt(V.appConfig);for(;1===Te.authToken.requestStatus;)yield _e(100),Te=yield zt(V.appConfig);const tt=Te.authToken;return 0===tt.requestStatus?jn(V,ne):tt})).apply(this,arguments)}function zt(V){return On(V,ne=>{if(!et(ne))throw Pe.create("not-registered");return function F(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(ne.authToken)?Object.assign(Object.assign({},ne),{authToken:{requestStatus:0}}):ne})}function We(V,ne){return xe.apply(this,arguments)}function xe(){return(xe=(0,c.Z)(function*(V,ne){try{const Te=yield Rr(V,ne),tt=Object.assign(Object.assign({},ne),{authToken:Te});return yield vr(V.appConfig,tt),Te}catch(Te){if(!He(Te)||401!==Te.customData.serverCode&&404!==Te.customData.serverCode){const tt=Object.assign(Object.assign({},ne),{authToken:{requestStatus:0}});yield vr(V.appConfig,tt)}else yield cr(V.appConfig);throw Te}})).apply(this,arguments)}function et(V){return void 0!==V&&2===V.registrationStatus}function J(V){return 2===V.requestStatus&&!function pe(V){const ne=Date.now();return ne<V.creationTime||V.creationTime+V.expiresIn<ne+36e5}(V)}function De(V){const ne={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:ne})}function U(){return(U=(0,c.Z)(function*(V){const ne=V,{installationEntry:Te,registrationPromise:tt}=yield kn(ne);return tt?tt.catch(console.error):jn(ne).catch(console.error),Te.fid})).apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(V,ne=!1){const Te=V;return yield Se(Te),(yield jn(Te,ne)).token})).apply(this,arguments)}function Se(V){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(V){const{registrationPromise:ne}=yield kn(V);ne&&(yield ne)})).apply(this,arguments)}function Vi(V){return Pe.create("missing-app-config-values",{valueName:V})}const ns="installations",Hn=V=>{const ne=V.getProvider("app").getImmediate(),Te=function ts(V){if(!V||!V.options)throw Vi("App Configuration");if(!V.name)throw Vi("App Name");const ne=["projectId","apiKey","appId"];for(const Te of ne)if(!V.options[Te])throw Vi(Te);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(ne);return{app:ne,appConfig:Te,heartbeatServiceProvider:(0,Y._getProvider)(ne,"heartbeat"),_delete:()=>Promise.resolve()}},Ps=V=>{const ne=V.getProvider("app").getImmediate(),Te=(0,Y._getProvider)(ne,ns).getImmediate();return{getId:()=>function k(V){return U.apply(this,arguments)}(Te),getToken:hn=>function X(V){return z.apply(this,arguments)}(Te,hn)}};(function wr(){(0,Y._registerComponent)(new L.wA(ns,Hn,"PUBLIC")),(0,Y._registerComponent)(new L.wA("installations-internal",Ps,"PRIVATE"))})(),(0,Y.registerVersion)(oe,"0.5.8"),(0,Y.registerVersion)(oe,"0.5.8","esm2017")},1877:(ht,Re,O)=>{O.d(Re,{in:()=>Y,Yd:()=>re,Ub:()=>ye,Am:()=>he});const c=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const L={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},se=Y.INFO,oe={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},be=($,G,...te)=>{if(G<$.logLevel)return;const Ue=(new Date).toISOString(),Ie=oe[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${Ue}]  ${$.name}:`,...te)};class re{constructor(G){this.name=G,this._logLevel=se,this._logHandler=be,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Y))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...G),this._logHandler(this,Y.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...G),this._logHandler(this,Y.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...G),this._logHandler(this,Y.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...G),this._logHandler(this,Y.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...G),this._logHandler(this,Y.ERROR,...G)}}function ye($){c.forEach(G=>{G.setLogLevel($)})}function he($,G){for(const te of c){let Ue=null;G&&G.level&&(Ue=L[G.level]),te.userLogHandler=null===$?null:(Ie,Pe,...He)=>{const me=He.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch(nt){return null}}).filter(ke=>ke).join(" ");Pe>=(null!=Ue?Ue:Ie.logLevel)&&$({level:Y[Pe].toLowerCase(),message:me,args:He,type:Ie.name})}}}},5861:(ht,Re,O)=>{function c(L,se,oe,be,re,ye,he){try{var $=L[ye](he),G=$.value}catch(te){return void oe(te)}$.done?se(G):Promise.resolve(G).then(be,re)}function Y(L){return function(){var se=this,oe=arguments;return new Promise(function(be,re){var ye=L.apply(se,oe);function he(G){c(ye,be,re,he,$,"next",G)}function $(G){c(ye,be,re,he,$,"throw",G)}he(void 0)})}}O.d(Re,{Z:()=>Y})}},ht=>{ht(ht.s=5229)}]);